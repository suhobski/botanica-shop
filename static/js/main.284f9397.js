/*! For license information please see main.284f9397.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},753:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,a=new Promise((function(a,o){n(i=e[t].apply(e,r)).then(a,o)}));return a.request=i,a}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function a(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),a=i.request;return a&&(a.onupgradeneeded=function(e){n&&n(new d(a.result,e.oldVersion,a.transaction))}),i.then((function(e){return new p(e)}))}function y(e){return r(indexedDB,"deleteDatabase",[e])}a(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),a(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},a(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},a(h,"_tx",["objectStoreNames","mode"]),u(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},a(d,"_db",["name","version","objectStoreNames"]),u(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},a(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,a=i[e].apply(i,n.slice(0,-1));a.onsuccess=function(){r(a.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=y,Object.defineProperty(e,"__esModule",{value:!0})}(t)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,a){for(var o,u,s=i(e),c=1;c<arguments.length;c++){for(var l in o=Object(arguments[c]))n.call(o,l)&&(s[l]=o[l]);if(t){u=t(o);for(var f=0;f<u.length;f++)r.call(o,u[f])&&(s[u[f]]=o[u[f]])}}return s}},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function y(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new y(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new y(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new y(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new y(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new y(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new y(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);m[t]=new y(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,_=60106,E=60107,I=60108,S=60114,T=60109,C=60110,A=60112,N=60113,O=60120,P=60115,R=60116,D=60121,L=60128,M=60129,F=60130,U=60131;if("function"===typeof Symbol&&Symbol.for){var j=Symbol.for;x=j("react.element"),_=j("react.portal"),E=j("react.fragment"),I=j("react.strict_mode"),S=j("react.profiler"),T=j("react.provider"),C=j("react.context"),A=j("react.forward_ref"),N=j("react.suspense"),O=j("react.suspense_list"),P=j("react.memo"),R=j("react.lazy"),D=j("react.block"),j("react.scope"),L=j("react.opaque.id"),M=j("react.debug_trace_mode"),F=j("react.offscreen"),U=j("react.legacy_hidden")}var V,q="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=q&&e[q]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function W(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var i=s.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function H(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=W(e.type,!1);case 11:return e=W(e.type.render,!1);case 22:return e=W(e.type._render,!1);case 1:return e=W(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case _:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,ye,me=(ye=function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ye(e,t)}))}:ye);function ge(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ke={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},be=["Webkit","ms","Moz","O"];function we(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ke.hasOwnProperty(e)&&ke[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=we(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ke).forEach((function(e){be.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ke[t]=ke[e]}))}));var _e=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(_e[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Ie(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Se(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ce=null,Ae=null;function Ne(e){if(e=ri(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=ai(t),Te(e.stateNode,e.type,t))}}function Oe(e){Ce?Ae?Ae.push(e):Ae=[e]:Ce=e}function Pe(){if(Ce){var e=Ce,t=Ae;if(Ae=Ce=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function De(e,t,n,r,i){return e(t,n,r,i)}function Le(){}var Me=Re,Fe=!1,Ue=!1;function je(){null===Ce&&null===Ae||(Le(),Pe())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var r=ai(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var qe=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){qe=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ye){qe=!1}function ze(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Ke=!1,We=null,He=!1,Ge=null,Qe={onError:function(e){Ke=!0,We=e}};function $e(e,t,n,r,i,a,o,u,s){Ke=!1,We=null,ze.apply(Qe,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Je(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if(Ye(e)!==e)throw Error(o(188))}function Ze(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u){for(s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function et(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var tt,nt,rt,it,at=!1,ot=[],ut=null,st=null,ct=null,lt=new Map,ft=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function vt(e,t){switch(e){case"focusin":case"focusout":ut=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ct=null;break;case"pointerover":case"pointerout":lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ft.delete(t.pointerId)}}function yt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=pt(t,n,r,i,a),null!==t&&(null!==(t=ri(t))&&nt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ni(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Je(n)))return e.blockedOn=t,void it(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){rt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ri(n))&&nt(t),e.blockedOn=n,!1;t.shift()}return!0}function kt(e,t,n){gt(e)&&n.delete(t)}function bt(){for(at=!1;0<ot.length;){var e=ot[0];if(null!==e.blockedOn){null!==(e=ri(e.blockedOn))&&tt(e);break}for(var t=e.targetContainers;0<t.length;){var n=Zt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&ot.shift()}null!==ut&&gt(ut)&&(ut=null),null!==st&&gt(st)&&(st=null),null!==ct&&gt(ct)&&(ct=null),lt.forEach(kt),ft.forEach(kt)}function wt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,bt)))}function xt(e){function t(t){return wt(t,e)}if(0<ot.length){wt(ot[0],e);for(var n=1;n<ot.length;n++){var r=ot[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ut&&wt(ut,e),null!==st&&wt(st,e),null!==ct&&wt(ct,e),lt.forEach(t),ft.forEach(t),n=0;n<ht.length;n++)(r=ht[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)mt(n),null===n.blockedOn&&ht.shift()}function _t(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:_t("Animation","AnimationEnd"),animationiteration:_t("Animation","AnimationIteration"),animationstart:_t("Animation","AnimationStart"),transitionend:_t("Transition","TransitionEnd")},It={},St={};function Tt(e){if(It[e])return It[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in St)return It[e]=n[t];return e}f&&(St=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Ct=Tt("animationend"),At=Tt("animationiteration"),Nt=Tt("animationstart"),Ot=Tt("transitionend"),Pt=new Map,Rt=new Map,Dt=["abort","abort",Ct,"animationEnd",At,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ot,"transitionEnd","waiting","waiting"];function Lt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Pt.set(r,i),c(i,[r])}}(0,a.unstable_now)();var Mt=8;function Ft(e){if(0!==(1&e))return Mt=15,1;if(0!==(2&e))return Mt=14,2;if(0!==(4&e))return Mt=13,4;var t=24&e;return 0!==t?(Mt=12,t):0!==(32&e)?(Mt=11,32):0!==(t=192&e)?(Mt=10,t):0!==(256&e)?(Mt=9,256):0!==(t=3584&e)?(Mt=8,t):0!==(4096&e)?(Mt=7,4096):0!==(t=4186112&e)?(Mt=6,t):0!==(t=62914560&e)?(Mt=5,t):67108864&e?(Mt=4,67108864):0!==(134217728&e)?(Mt=3,134217728):0!==(t=805306368&e)?(Mt=2,t):0!==(1073741824&e)?(Mt=1,1073741824):(Mt=8,e)}function Ut(e,t){var n=e.pendingLanes;if(0===n)return Mt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==a)r=a,i=Mt=15;else if(0!==(a=134217727&n)){var s=a&~o;0!==s?(r=Ft(s),i=Mt):0!==(u&=a)&&(r=Ft(u),i=Mt)}else 0!==(a=n&~o)?(r=Ft(a),i=Mt):0!==u&&(r=Ft(u),i=Mt);if(0===r)return 0;if(r=n&((0>(r=31-Kt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Ft(t),i<=Mt)return t;Mt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-Kt(t)),r|=e[n],t&=~i;return r}function jt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=qt(24&~t))?Vt(10,t):e;case 10:return 0===(e=qt(192&~t))?Vt(8,t):e;case 8:return 0===(e=qt(3584&~t))&&(0===(e=qt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=qt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function qt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-Kt(t)]=n}var Kt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Wt(e)/Ht|0)|0},Wt=Math.log,Ht=Math.LN2;var Gt=a.unstable_UserBlockingPriority,Qt=a.unstable_runWithPriority,$t=!0;function Yt(e,t,n,r){Fe||Le();var i=Xt,a=Fe;Fe=!0;try{De(i,e,t,n,r)}finally{(Fe=a)||je()}}function Jt(e,t,n,r){Qt(Gt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if($t)if((i=0===(4&t))&&0<ot.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,r),ot.push(e);else{var a=Zt(e,t,n,r);if(null===a)i&&vt(e,r);else{if(i){if(-1<dt.indexOf(e))return e=pt(a,e,t,n,r),void ot.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ut=yt(ut,e,t,n,r,i),!0;case"dragenter":return st=yt(st,e,t,n,r,i),!0;case"mouseover":return ct=yt(ct,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return lt.set(a,yt(lt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ft.set(a,yt(ft.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;vt(e,r)}Lr(e,t,r,null,n)}}}function Zt(e,t,n,r){var i=Se(r);if(null!==(i=ni(i))){var a=Ye(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Je(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr(e,t,r,i,n),null}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function an(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function un(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:un,this.isPropagationStopped=un,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var cn,ln,fn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(hn),pn=i({},hn,{view:0,detail:0}),vn=sn(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fn&&(fn&&"mousemove"===e.type?(cn=e.screenX-fn.screenX,ln=e.screenY-fn.screenY):ln=cn=0,fn=e),cn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),mn=sn(yn),gn=sn(i({},yn,{dataTransfer:0})),kn=sn(i({},pn,{relatedTarget:0})),bn=sn(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xn=sn(wn),_n=sn(i({},hn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},In={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function Cn(){return Tn}var An=i({},pn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=an(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?In[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?an(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?an(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(An),On=sn(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Rn=sn(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=i({},yn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=sn(Dn),Mn=[9,13,27,32],Fn=f&&"CompositionEvent"in window,Un=null;f&&"documentMode"in document&&(Un=document.documentMode);var jn=f&&"TextEvent"in window&&!Un,Vn=f&&(!Fn||Un&&8<Un&&11>=Un),qn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Mn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Wn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Oe(r),0<(t=Fr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Yn=null;function Jn(e){Ar(e,0)}function Xn(e){if(J(ii(e)))return e}function Zn(e,t){if("change"===e)return t}var er=!1;if(f){var tr;if(f){var nr="oninput"in document;if(!nr){var rr=document.createElement("div");rr.setAttribute("oninput","return;"),nr="function"===typeof rr.oninput}tr=nr}else tr=!1;er=tr&&(!document.documentMode||9<document.documentMode)}function ir(){$n&&($n.detachEvent("onpropertychange",ar),Yn=$n=null)}function ar(e){if("value"===e.propertyName&&Xn(Yn)){var t=[];if(Qn(t,Yn,e,Se(e)),e=Jn,Fe)e(t);else{Fe=!0;try{Re(e,t)}finally{Fe=!1,je()}}}}function or(e,t,n){"focusin"===e?(ir(),Yn=n,($n=t).attachEvent("onpropertychange",ar)):"focusout"===e&&ir()}function ur(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn(Yn)}function sr(e,t){if("click"===e)return Xn(t)}function cr(e,t){if("input"===e||"change"===e)return Xn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},fr=Object.prototype.hasOwnProperty;function hr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!fr.call(t,n[r])||!lr(e[n[r]],t[n[r]]))return!1;return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function vr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?vr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function yr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var gr=f&&"documentMode"in document&&11>=document.documentMode,kr=null,br=null,wr=null,xr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==kr||kr!==X(r)||("selectionStart"in(r=kr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},wr&&hr(wr,r)||(wr=r,0<(r=Fr(br,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kr)))}Lt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Lt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Lt(Dt,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Ir=0;Ir<Er.length;Ir++)Rt.set(Er[Ir],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sr));function Cr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,u,s,c){if($e.apply(this,arguments),Ke){if(!Ke)throw Error(o(198));var l=We;Ke=!1,We=null,He||(He=!0,Ge=l)}}(r,t,void 0,e),e.currentTarget=null}function Ar(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Cr(i,u,c),a=s}}}if(He)throw e=Ge,He=!1,Ge=null,e}function Nr(e,t){var n=oi(t),r=e+"__bubble";n.has(r)||(Dr(t,e,2,!1),n.add(r))}var Or="_reactListening"+Math.random().toString(36).slice(2);function Pr(e){e[Or]||(e[Or]=!0,u.forEach((function(t){Tr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Tr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=oi(a),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(i|=4),Dr(a,e,i,t),o.add(u))}function Dr(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Jt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!qe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Lr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=ni(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Ue)return e(t,n);Ue=!0;try{Me(e,t,n)}finally{Ue=!1,je()}}((function(){var r=a,i=Se(n),o=[];e:{var u=Pt.get(e);if(void 0!==u){var s=dn,c=e;switch(e){case"keypress":if(0===an(n))break e;case"keydown":case"keyup":s=Nn;break;case"focusin":c="focus",s=kn;break;case"focusout":c="blur",s=kn;break;case"beforeblur":case"afterblur":s=kn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Pn;break;case Ct:case At:case Nt:s=bn;break;case Ot:s=Rn;break;case"scroll":s=vn;break;case"wheel":s=Ln;break;case"copy":case"cut":case"paste":s=xn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ve(p,h))&&l.push(Mr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ni(c)&&!c[ei])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?ni(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=On,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:ii(s),d=null==c?u:ii(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,ni(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Ur(d))p++;for(d=0,v=h;v;v=Ur(v))d++;for(;0<p-d;)l=Ur(l),p--;for(;0<d-p;)h=Ur(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Ur(l),h=Ur(h)}l=null}else l=null;null!==s&&jr(o,u,s,l,!1),null!==c&&null!==f&&jr(o,f,c,l,!0)}if("select"===(s=(u=r?ii(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Zn;else if(Gn(u))if(er)y=cr;else{y=ur;var m=or}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=sr);switch(y&&(y=y(e,r))?Qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ie(u,"number",u.value)),m=r?ii(r):window,e){case"focusin":(Gn(m)||"true"===m.contentEditable)&&(kr=m,br=r,wr=null);break;case"focusout":wr=br=kr=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,_r(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":_r(o,n,i)}var g;if(Fn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wn?zn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Vn&&"ko"!==n.locale&&(Wn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Wn&&(g=rn()):(tn="value"in(en=i)?en.value:en.textContent,Wn=!0)),0<(m=Fr(r,k)).length&&(k=new _n(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Kn(n))&&(k.data=g))),(g=jn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,qn);case"textInput":return(e=t.data)===qn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Wn)return"compositionend"===e||!Fn&&zn(e,t)?(e=rn(),nn=tn=en=null,Wn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Fr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Ar(o,t)}))}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ve(e,n))&&r.unshift(Mr(e,a,i)),null!=(a=Ve(e,t))&&r.push(Mr(e,a,i))),e=e.return}return r}function Ur(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function jr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Ve(n,a))&&o.unshift(Mr(n,s,u)):i||null!=(s=Ve(n,a))&&o.push(Mr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Vr(){}var qr=null,Br=null;function zr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Kr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Wr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Gr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Qr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $r(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Yr=0;var Jr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Jr,Zr="__reactProps$"+Jr,ei="__reactContainer$"+Jr,ti="__reactEvents$"+Jr;function ni(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ei]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$r(e);null!==e;){if(n=e[Xr])return n;e=$r(e)}return t}n=(e=n).parentNode}return null}function ri(e){return!(e=e[Xr]||e[ei])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ii(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ai(e){return e[Zr]||null}function oi(e){var t=e[ti];return void 0===t&&(t=e[ti]=new Set),t}var ui=[],si=-1;function ci(e){return{current:e}}function li(e){0>si||(e.current=ui[si],ui[si]=null,si--)}function fi(e,t){si++,ui[si]=e.current,e.current=t}var hi={},di=ci(hi),pi=ci(!1),vi=hi;function yi(e,t){var n=e.type.contextTypes;if(!n)return hi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function gi(){li(pi),li(di)}function ki(e,t,n){if(di.current!==hi)throw Error(o(168));fi(di,t),fi(pi,n)}function bi(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function wi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hi,vi=di.current,fi(di,e),fi(pi,pi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=bi(e,t,vi),r.__reactInternalMemoizedMergedChildContext=e,li(pi),li(di),fi(di,e)):li(pi),fi(pi,n)}var _i=null,Ei=null,Ii=a.unstable_runWithPriority,Si=a.unstable_scheduleCallback,Ti=a.unstable_cancelCallback,Ci=a.unstable_shouldYield,Ai=a.unstable_requestPaint,Ni=a.unstable_now,Oi=a.unstable_getCurrentPriorityLevel,Pi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Di=a.unstable_NormalPriority,Li=a.unstable_LowPriority,Mi=a.unstable_IdlePriority,Fi={},Ui=void 0!==Ai?Ai:function(){},ji=null,Vi=null,qi=!1,Bi=Ni(),zi=1e4>Bi?Ni:function(){return Ni()-Bi};function Ki(){switch(Oi()){case Pi:return 99;case Ri:return 98;case Di:return 97;case Li:return 96;case Mi:return 95;default:throw Error(o(332))}}function Wi(e){switch(e){case 99:return Pi;case 98:return Ri;case 97:return Di;case 96:return Li;case 95:return Mi;default:throw Error(o(332))}}function Hi(e,t){return e=Wi(e),Ii(e,t)}function Gi(e,t,n){return e=Wi(e),Si(e,t,n)}function Qi(){if(null!==Vi){var e=Vi;Vi=null,Ti(e)}$i()}function $i(){if(!qi&&null!==ji){qi=!0;var e=0;try{var t=ji;Hi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),ji=null}catch(n){throw null!==ji&&(ji=ji.slice(e+1)),Si(Pi,Qi),n}finally{qi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Ji(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ci(null),Zi=null,ea=null,ta=null;function na(){ta=ea=Zi=null}function ra(e){var t=Xi.current;li(Xi),e.type._context._currentValue=t}function ia(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function aa(e,t){Zi=e,ta=ea=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Fo=!0),e.firstContext=null)}function oa(e,t){if(ta!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ta=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ea){if(null===Zi)throw Error(o(308));ea=t,Zi.dependencies={lanes:0,firstContext:t,responders:null}}else ea=ea.next=t;return e._currentValue}var ua=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ca(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function la(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fa(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ha(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function da(e,t,n,r){var a=e.updateQueue;ua=!1;var o=a.firstBaseUpdate,u=a.lastBaseUpdate,s=a.shared.pending;if(null!==s){a.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=i({},h,s);break e;case 2:ua=!0}}null!==o.callback&&(e.flags|=32,null===(s=a.effects)?a.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=a.shared.pending))break;o=s.next,s.next=null,a.lastBaseUpdate=s,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,qu|=u,e.lanes=u,e.memoizedState=h}}function pa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var va=(new r.Component).refs;function ya(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hs(),i=ds(e),a=la(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),fa(e,a),ps(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hs(),r=ds(e),i=la(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),fa(e,i),ps(e,r,n)}};function ga(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!hr(n,r)||!hr(i,a))}function ka(e,t,n){var r=!1,i=hi,a=t.contextType;return"object"===typeof a&&null!==a?a=oa(a):(i=mi(t)?vi:di.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?yi(e,i):hi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ba(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function wa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=va,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=oa(a):(a=mi(t)?vi:di.current,i.context=yi(e,a)),da(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ya(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),da(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var xa=Array.isArray;function _a(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===va&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Ia(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Hs(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Ys(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=_a(e,t,n),r.return=e,r):((r=Gs(n.type,n.key,n.props,null,e.mode,r)).ref=_a(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Js(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qs(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Ys(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gs(t.type,t.key,t.props,null,e.mode,n)).ref=_a(e,null,t),n.return=e,n;case _:return(t=Js(t,e.mode,n)).return=e,t}if(xa(t)||B(t))return(t=Qs(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===E?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case _:return n.key===i?l(e,t,n,r):null}if(xa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===E?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(xa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,u,s){for(var c=null,l=null,f=o,v=o=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),c}function y(i,u,s,c){var l=B(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=a(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=a(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,s){var c="object"===typeof a&&null!==a&&a.type===E&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===E){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=_a(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===E?((r=Qs(a.props.children,e.mode,s,a.key)).return=e,e=r):((s=Gs(a.type,a.key,a.props,null,e.mode,s)).ref=_a(e,r,a),s.return=e,e=s)}return u(e);case _:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Js(a,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Ys(a,e.mode,s)).return=e,e=r),u(e);if(xa(a))return v(e,r,a,s);if(B(a))return y(e,r,a,s);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Sa=Ia(!0),Ta=Ia(!1),Ca={},Aa=ci(Ca),Na=ci(Ca),Oa=ci(Ca);function Pa(e){if(e===Ca)throw Error(o(174));return e}function Ra(e,t){switch(fi(Oa,t),fi(Na,e),fi(Aa,Ca),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}li(Aa),fi(Aa,t)}function Da(){li(Aa),li(Na),li(Oa)}function La(e){Pa(Oa.current);var t=Pa(Aa.current),n=pe(t,e.type);t!==n&&(fi(Na,e),fi(Aa,n))}function Ma(e){Na.current===e&&(li(Aa),li(Na))}var Fa=ci(0);function Ua(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ja=null,Va=null,qa=!1;function Ba(e,t){var n=Ks(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function za(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Ka(e){if(qa){var t=Va;if(t){var n=t;if(!za(e,t)){if(!(t=Qr(n.nextSibling))||!za(e,t))return e.flags=-1025&e.flags|2,qa=!1,void(ja=e);Ba(ja,n)}ja=e,Va=Qr(t.firstChild)}else e.flags=-1025&e.flags|2,qa=!1,ja=e}}function Wa(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ja=e}function Ha(e){if(e!==ja)return!1;if(!qa)return Wa(e),qa=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Kr(t,e.memoizedProps))for(t=Va;t;)Ba(e,t),t=Qr(t.nextSibling);if(Wa(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Va=Qr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Va=null}}else Va=ja?Qr(e.stateNode.nextSibling):null;return!0}function Ga(){Va=ja=null,qa=!1}var Qa=[];function $a(){for(var e=0;e<Qa.length;e++)Qa[e]._workInProgressVersionPrimary=null;Qa.length=0}var Ya=w.ReactCurrentDispatcher,Ja=w.ReactCurrentBatchConfig,Xa=0,Za=null,eo=null,to=null,no=!1,ro=!1;function io(){throw Error(o(321))}function ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function oo(e,t,n,r,i,a){if(Xa=a,Za=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ya.current=null===e||null===e.memoizedState?Ro:Do,e=n(r,i),ro){a=0;do{if(ro=!1,!(25>a))throw Error(o(301));a+=1,to=eo=null,t.updateQueue=null,Ya.current=Lo,e=n(r,i)}while(ro)}if(Ya.current=Po,t=null!==eo&&null!==eo.next,Xa=0,to=eo=Za=null,no=!1,t)throw Error(o(300));return e}function uo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Za.memoizedState=to=e:to=to.next=e,to}function so(){if(null===eo){var e=Za.alternate;e=null!==e?e.memoizedState:null}else e=eo.next;var t=null===to?Za.memoizedState:to.next;if(null!==t)to=t,eo=e;else{if(null===e)throw Error(o(310));e={memoizedState:(eo=e).memoizedState,baseState:eo.baseState,baseQueue:eo.baseQueue,queue:eo.queue,next:null},null===to?Za.memoizedState=to=e:to=to.next=e}return to}function co(e,t){return"function"===typeof t?t(e):t}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=eo,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var u=i.next;i.next=a.next,a.next=u}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var s=u=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,a=r):s=s.next=f,Za.lanes|=l,qu|=l}c=c.next}while(null!==c&&c!==i);null===s?a=r:s.next=u,lr(r,t.memoizedState)||(Fo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function fo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{a=e(a,u.action),u=u.next}while(u!==i);lr(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function ho(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Qa.push(t))),e)return n(t._source);throw Qa.push(t),Error(o(350))}function po(e,t,n,r){var i=Ru;if(null===i)throw Error(o(349));var a=t._getVersion,u=a(t._source),s=Ya.current,c=s.useState((function(){return ho(i,t,n)})),l=c[1],f=c[0];c=to;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var y=Za;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!lr(u,e)){e=n(t._source),lr(f,e)||(l(e),e=ds(y),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var s=31-Kt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=ds(y);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),lr(p,n)&&lr(v,t)&&lr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:f}).dispatch=l=Oo.bind(null,Za,e),c.queue=e,c.baseQueue=null,f=ho(i,t,n),c.memoizedState=c.baseState=f),f}function vo(e,t,n){return po(so(),e,t,n)}function yo(e){var t=uo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:co,lastRenderedState:e}).dispatch=Oo.bind(null,Za,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Za.updateQueue)?(t={lastEffect:null},Za.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function go(e){return e={current:e},uo().memoizedState=e}function ko(){return so().memoizedState}function bo(e,t,n,r){var i=uo();Za.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function wo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==eo){var o=eo.memoizedState;if(a=o.destroy,null!==r&&ao(r,o.deps))return void mo(t,n,a,r)}Za.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function xo(e,t){return bo(516,4,e,t)}function _o(e,t){return wo(516,4,e,t)}function Eo(e,t){return wo(4,2,e,t)}function Io(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function So(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,wo(4,2,Io.bind(null,t,e),n)}function To(){}function Co(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ao(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ao(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=Ki();Hi(98>n?98:n,(function(){e(!0)})),Hi(97<n?97:n,(function(){var n=Ja.transition;Ja.transition=1;try{e(!1),t()}finally{Ja.transition=n}}))}function Oo(e,t,n){var r=hs(),i=ds(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Za||null!==o&&o===Za)ro=no=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(a.eagerReducer=o,a.eagerState=s,lr(s,u))return}catch(c){}ps(e,i,r)}}var Po={readContext:oa,useCallback:io,useContext:io,useEffect:io,useImperativeHandle:io,useLayoutEffect:io,useMemo:io,useReducer:io,useRef:io,useState:io,useDebugValue:io,useDeferredValue:io,useTransition:io,useMutableSource:io,useOpaqueIdentifier:io,unstable_isNewReconciler:!1},Ro={readContext:oa,useCallback:function(e,t){return uo().memoizedState=[e,void 0===t?null:t],e},useContext:oa,useEffect:xo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,Io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return bo(4,2,e,t)},useMemo:function(e,t){var n=uo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=uo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Za,e),[r.memoizedState,e]},useRef:go,useState:yo,useDebugValue:To,useDeferredValue:function(e){var t=yo(e),n=t[0],r=t[1];return xo((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=yo(!1),t=e[0];return go(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=uo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},po(r,e,t,n)},useOpaqueIdentifier:function(){if(qa){var e=!1,t=function(e){return{$$typeof:L,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=yo(t)[1];return 0===(2&Za.mode)&&(Za.flags|=516,mo(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),t}return yo(t="r:"+(Yr++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Ao,useReducer:lo,useRef:ko,useState:function(){return lo(co)},useDebugValue:To,useDeferredValue:function(e){var t=lo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=lo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return lo(co)[0]},unstable_isNewReconciler:!1},Lo={readContext:oa,useCallback:Co,useContext:oa,useEffect:_o,useImperativeHandle:So,useLayoutEffect:Eo,useMemo:Ao,useReducer:fo,useRef:ko,useState:function(){return fo(co)},useDebugValue:To,useDeferredValue:function(e){var t=fo(co),n=t[0],r=t[1];return _o((function(){var t=Ja.transition;Ja.transition=1;try{r(e)}finally{Ja.transition=t}}),[e]),n},useTransition:function(){var e=fo(co)[0];return[ko().current,e]},useMutableSource:vo,useOpaqueIdentifier:function(){return fo(co)[0]},unstable_isNewReconciler:!1},Mo=w.ReactCurrentOwner,Fo=!1;function Uo(e,t,n,r){t.child=null===e?Ta(t,null,n,r):Sa(t,e.child,n,r)}function jo(e,t,n,r,i){n=n.render;var a=t.ref;return aa(t,i),r=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Vo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ws(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gs(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,qo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&e.ref===t.ref)?au(e,t,a):(t.flags|=1,(e=Hs(o,r)).ref=t.ref,e.return=t,t.child=e)}function qo(e,t,n,r,i,a){if(null!==e&&hr(e.memoizedProps,r)&&e.ref===t.ref){if(Fo=!1,0===(a&i))return t.lanes=e.lanes,au(e,t,a);0!==(16384&e.flags)&&(Fo=!0)}return Ko(e,t,n,r,a)}function Bo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xs(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xs(t,e),null;t.memoizedState={baseLanes:0},xs(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xs(t,r);return Uo(e,t,i,n),t.child}function zo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Ko(e,t,n,r,i){var a=mi(n)?vi:di.current;return a=yi(t,a),aa(t,i),n=oo(e,t,n,r,a,i),null===e||Fo?(t.flags|=1,Uo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,au(e,t,i))}function Wo(e,t,n,r,i){if(mi(n)){var a=!0;wi(t)}else a=!1;if(aa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ka(t,n,r),wa(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=oa(c):c=yi(t,c=mi(n)?vi:di.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ba(t,o,r,c),ua=!1;var h=t.memoizedState;o.state=h,da(t,r,o,i),s=t.memoizedState,u!==r||h!==s||pi.current||ua?("function"===typeof l&&(ya(t,n,l,r),s=t.memoizedState),(u=ua||ga(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ca(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Ji(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=oa(s):s=yi(t,s=mi(n)?vi:di.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ba(t,o,r,s),ua=!1,h=t.memoizedState,o.state=h,da(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||pi.current||ua?("function"===typeof d&&(ya(t,n,d,r),p=t.memoizedState),(c=ua||ga(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ho(e,t,n,r,a,i)}function Ho(e,t,n,r,i,a){zo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&xi(t,n,!1),au(e,t,a);r=t.stateNode,Mo.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Sa(t,e.child,null,a),t.child=Sa(t,null,u,a)):Uo(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function Go(e){var t=e.stateNode;t.pendingContext?ki(0,t.pendingContext,t.pendingContext!==t.context):t.context&&ki(0,t.context,!1),Ra(e,t.containerInfo)}var Qo,$o,Yo,Jo={dehydrated:null,retryLane:0};function Xo(e,t,n){var r,i=t.pendingProps,a=Fa.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),fi(Fa,1&a),null===e?(void 0!==i.fallback&&Ka(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Jo,t.lanes=33554432,e):((n=$s({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=tu(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Jo,i):(n=eu(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$s(t,i,0,null),n=Qs(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function eu(e,t,n,r){var i=e.child;return e=i.sibling,n=Hs(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function tu(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Hs(o,u),null!==e?r=Hs(e,r):(r=Qs(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function nu(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ia(e.return,t)}function ru(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function iu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Uo(e,t,r.children,n),0!==(2&(r=Fa.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&nu(e,n);else if(19===e.tag)nu(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(fi(Fa,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ua(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),ru(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ua(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}ru(t,!0,n,null,a,t.lastEffect);break;case"together":ru(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function au(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),qu|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Hs(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Hs(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ou(e,t){if(!qa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function uu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&gi(),null;case 3:return Da(),li(pi),li(di),$a(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ha(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ma(t);var a=Pa(Oa.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Pa(Aa.current),Ha(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Xr]=t,r[Zr]=u,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Sr.length;e++)Nr(Sr[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,u),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},Nr("invalid",r);break;case"textarea":se(r,u),Nr("invalid",r)}for(var c in Ee(n,u),e=null,u)u.hasOwnProperty(c)&&(a=u[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):s.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,u,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Vr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Zr]=r,Qo(e,t),t.stateNode=e,c=Ie(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Sr.length;a++)Nr(Sr[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":se(e,r),a=ue(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?xe(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ge(e,f):"number"===typeof f&&ge(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&Nr("scroll",e):null!=f&&b(e,u,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Vr)}zr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Pa(Oa.current),Pa(Aa.current),Ha(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return li(Fa),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ha(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Fa.current)?0===Uu&&(Uu=3):(0!==Uu&&3!==Uu||(Uu=4),null===Ru||0===(134217727&qu)&&0===(134217727&Bu)||gs(Ru,Lu))),(r||n)&&(t.flags|=4),null);case 4:return Da(),null===e&&Pr(t.stateNode.containerInfo),null;case 10:return ra(t),null;case 19:if(li(Fa),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)ou(r,!1);else{if(0!==Uu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ua(e))){for(t.flags|=64,ou(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fi(Fa,1&Fa.current|2),t.child}e=e.sibling}null!==r.tail&&zi()>Hu&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ua(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ou(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!qa)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*zi()-r.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=64,u=!0,ou(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=zi(),n.sibling=null,t=Fa.current,fi(Fa,u?1&t|2:1&t),n):null;case 23:case 24:return _s(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function su(e){switch(e.tag){case 1:mi(e.type)&&gi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Da(),li(pi),li(di),$a(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ma(e),null;case 13:return li(Fa),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return li(Fa),null;case 4:return Da(),null;case 10:return ra(e),null;case 23:case 24:return _s(),null;default:return null}}function cu(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function lu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Qo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Pa(Aa.current);var o,u=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),u=[];break;case"option":a=ae(e,a),r=ae(e,r),u=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),u=[];break;case"textarea":a=ue(e,a),r=ue(e,r),u=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Vr)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===L?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=la(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yu||(Yu=!0,Ju=r),lu(0,t)},n}function du(e,t,n){(n=la(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return lu(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Xu?Xu=new Set([this]):Xu.add(this),lu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var pu="function"===typeof WeakSet?WeakSet:Set;function vu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vs(e,n)}else t.current=null}function yu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Ji(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Gr(t.stateNode.containerInfo))}throw Error(o(163))}function mu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Fs(n,e),Ms(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Ji(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&pa(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}pa(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&zr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&xt(n)))))}throw Error(o(163))}function gu(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=we("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ku(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(_i,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Fs(t,n);else{r=t;try{i()}catch(a){Vs(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vs(t,a)}break;case 5:vu(t);break;case 4:Iu(e,t)}}function bu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function wu(e){return 5===e.tag||3===e.tag||4===e.tag}function xu(e){e:{for(var t=e.return;null!==t;){if(wu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ge(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||wu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?_u(e,n,t):Eu(e,n,t)}function _u(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Vr));else if(4!==r&&null!==(e=e.child))for(_u(e,t,n),e=e.sibling;null!==e;)_u(e,t,n),e=e.sibling}function Eu(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Eu(e,t,n),e=e.sibling;null!==e;)Eu(e,t,n),e=e.sibling}function Iu(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var u=e,s=i,c=s;;)if(ku(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=i.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ku(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Su(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Zr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Ie(e,i),t=Ie(e,r),i=0;i<a.length;i+=2){var u=a[i],s=a[i+1];"style"===u?xe(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ge(n,s):b(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,xt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Wu=zi(),gu(t.child,!0)),void Tu(t);case 19:return void Tu(t);case 23:case 24:return void gu(t,null!==t.memoizedState)}throw Error(o(163))}function Tu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new pu),t.forEach((function(t){var r=Bs.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Cu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Au=Math.ceil,Nu=w.ReactCurrentDispatcher,Ou=w.ReactCurrentOwner,Pu=0,Ru=null,Du=null,Lu=0,Mu=0,Fu=ci(0),Uu=0,ju=null,Vu=0,qu=0,Bu=0,zu=0,Ku=null,Wu=0,Hu=1/0;function Gu(){Hu=zi()+500}var Qu,$u=null,Yu=!1,Ju=null,Xu=null,Zu=!1,es=null,ts=90,ns=[],rs=[],is=null,as=0,os=null,us=-1,ss=0,cs=0,ls=null,fs=!1;function hs(){return 0!==(48&Pu)?zi():-1!==us?us:us=zi()}function ds(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ki()?1:2;if(0===ss&&(ss=Vu),0!==Yi.transition){0!==cs&&(cs=null!==Ku?Ku.pendingLanes:0),e=ss;var t=4186112&~cs;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ki(),0!==(4&Pu)&&98===e?e=Vt(12,ss):e=Vt(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ss),e}function ps(e,t,n){if(50<as)throw as=0,os=null,Error(o(185));if(null===(e=vs(e,t)))return null;zt(e,t,n),e===Ru&&(Bu|=t,4===Uu&&gs(e,Lu));var r=Ki();1===t?0!==(8&Pu)&&0===(48&Pu)?ks(e):(ys(e,n),0===Pu&&(Gu(),Qi())):(0===(4&Pu)||98!==r&&99!==r||(null===is?is=new Set([e]):is.add(e)),ys(e,n)),Ku=e}function vs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function ys(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-Kt(u),c=1<<s,l=a[s];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Ft(c);var f=Mt;a[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Ut(e,e===Ru?Lu:0),t=Mt,0===r)null!==n&&(n!==Fi&&Ti(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Fi&&Ti(n)}15===t?(n=ks.bind(null,e),null===ji?(ji=[n],Vi=Si(Pi,$i)):ji.push(n),n=Fi):14===t?n=Gi(99,ks.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Gi(n,ms.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function ms(e){if(us=-1,cs=ss=0,0!==(48&Pu))throw Error(o(327));var t=e.callbackNode;if(Ls()&&e.callbackNode!==t)return null;var n=Ut(e,e===Ru?Lu:0);if(0===n)return null;var r=n,i=Pu;Pu|=16;var a=Ss();for(Ru===e&&Lu===r||(Gu(),Es(e,r));;)try{As();break}catch(s){Is(e,s)}if(na(),Nu.current=a,Pu=i,null!==Du?r=0:(Ru=null,Lu=0,r=Uu),0!==(Vu&Bu))Es(e,0);else if(0!==r){if(2===r&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(n=jt(e))&&(r=Ts(e,n))),1===r)throw t=ju,Es(e,0),gs(e,n),ys(e,zi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ps(e);break;case 3:if(gs(e,n),(62914560&n)===n&&10<(r=Wu+500-zi())){if(0!==Ut(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Wr(Ps.bind(null,e),r);break}Ps(e);break;case 4:if(gs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var u=31-Kt(n);a=1<<u,(u=r[u])>i&&(i=u),n&=~a}if(n=i,10<(n=(120>(n=zi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Au(n/1960))-n)){e.timeoutHandle=Wr(Ps.bind(null,e),n);break}Ps(e);break;default:throw Error(o(329))}}return ys(e,zi()),e.callbackNode===t?ms.bind(null,e):null}function gs(e,t){for(t&=~zu,t&=~Bu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Kt(t),r=1<<n;e[n]=-1,t&=~r}}function ks(e){if(0!==(48&Pu))throw Error(o(327));if(Ls(),e===Ru&&0!==(e.expiredLanes&Lu)){var t=Lu,n=Ts(e,t);0!==(Vu&Bu)&&(n=Ts(e,t=Ut(e,t)))}else n=Ts(e,t=Ut(e,0));if(0!==e.tag&&2===n&&(Pu|=64,e.hydrate&&(e.hydrate=!1,Gr(e.containerInfo)),0!==(t=jt(e))&&(n=Ts(e,t))),1===n)throw n=ju,Es(e,0),gs(e,t),ys(e,zi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ps(e),ys(e,zi()),null}function bs(e,t){var n=Pu;Pu|=1;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function ws(e,t){var n=Pu;Pu&=-2,Pu|=8;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}}function xs(e,t){fi(Fu,Mu),Mu|=t,Vu|=t}function _s(){Mu=Fu.current,li(Fu)}function Es(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Hr(n)),null!==Du)for(n=Du.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Da(),li(pi),li(di),$a();break;case 5:Ma(r);break;case 4:Da();break;case 13:case 19:li(Fa);break;case 10:ra(r);break;case 23:case 24:_s()}n=n.return}Ru=e,Du=Hs(e.current,null),Lu=Mu=Vu=t,Uu=0,ju=null,zu=Bu=qu=0}function Is(e,t){for(;;){var n=Du;try{if(na(),Ya.current=Po,no){for(var r=Za.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}no=!1}if(Xa=0,to=eo=Za=null,ro=!1,Ou.current=null,null===n||null===n.return){Uu=1,ju=t,Du=null;break}e:{var a=e,o=n.return,u=n,s=t;if(t=Lu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Fa.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var y=h.updateQueue;if(null===y){var m=new Set;m.add(c),h.updateQueue=m}else y.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var g=la(-1,1);g.tag=2,fa(u,g)}u.lanes|=1;break e}s=void 0,u=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fu,s=new Set,k.set(c,s)):void 0===(s=k.get(c))&&(s=new Set,k.set(c,s)),!s.has(u)){s.add(u);var b=qs.bind(null,a,c,u);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Uu&&(Uu=2),s=cu(s,u),h=o;do{switch(h.tag){case 3:a=s,h.flags|=4096,t&=-t,h.lanes|=t,ha(h,hu(0,a,t));break e;case 1:a=s;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Xu||!Xu.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,ha(h,du(h,a,t));break e}}h=h.return}while(null!==h)}Os(n)}catch(_){t=_,Du===n&&null!==n&&(Du=n=n.return);continue}break}}function Ss(){var e=Nu.current;return Nu.current=Po,null===e?Po:e}function Ts(e,t){var n=Pu;Pu|=16;var r=Ss();for(Ru===e&&Lu===t||Es(e,t);;)try{Cs();break}catch(i){Is(e,i)}if(na(),Pu=n,Nu.current=r,null!==Du)throw Error(o(261));return Ru=null,Lu=0,Uu}function Cs(){for(;null!==Du;)Ns(Du)}function As(){for(;null!==Du&&!Ci();)Ns(Du)}function Ns(e){var t=Qu(e.alternate,e,Mu);e.memoizedProps=e.pendingProps,null===t?Os(e):Du=t,Ou.current=null}function Os(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=uu(n,t,Mu)))return void(Du=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Mu)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=su(t)))return n.flags&=2047,void(Du=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Du=t);Du=t=e}while(null!==t);0===Uu&&(Uu=5)}function Ps(e){var t=Ki();return Hi(99,Rs.bind(null,e,t)),null}function Rs(e,t){do{Ls()}while(null!==es);if(0!==(48&Pu))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<a;){var c=31-Kt(a),l=1<<c;i[c]=0,u[c]=-1,s[c]=-1,a&=~l}if(null!==is&&0===(24&r)&&is.has(e)&&is.delete(e),e===Ru&&(Du=Ru=null,Lu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Pu,Pu|=32,Ou.current=null,qr=$t,mr(u=yr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(S){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,y=u,m=null;t:for(;;){for(var g;y!==s||0!==a&&3!==y.nodeType||(h=f+a),y!==c||0!==l&&3!==y.nodeType||(d=f+l),3===y.nodeType&&(f+=y.nodeValue.length),null!==(g=y.firstChild);)m=y,y=g;for(;;){if(y===u)break t;if(m===s&&++p===a&&(h=f),m===c&&++v===l&&(d=f),null!==(g=y.nextSibling))break;m=(y=m).parentNode}y=g}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Br={focusedElem:u,selectionRange:s},$t=!1,ls=null,fs=!1,$u=r;do{try{Ds()}catch(S){if(null===$u)throw Error(o(330));Vs($u,S),$u=$u.nextEffect}}while(null!==$u);ls=null,$u=r;do{try{for(u=e;null!==$u;){var k=$u.flags;if(16&k&&ge($u.stateNode,""),128&k){var b=$u.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xu($u),$u.flags&=-3;break;case 6:xu($u),$u.flags&=-3,Su($u.alternate,$u);break;case 1024:$u.flags&=-1025;break;case 1028:$u.flags&=-1025,Su($u.alternate,$u);break;case 4:Su($u.alternate,$u);break;case 8:Iu(u,s=$u);var x=s.alternate;bu(s),null!==x&&bu(x)}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));Vs($u,S),$u=$u.nextEffect}}while(null!==$u);if(w=Br,b=yr(),k=w.focusedElem,u=w.selectionRange,b!==k&&k&&k.ownerDocument&&vr(k.ownerDocument.documentElement,k)){null!==u&&mr(k)&&(b=u.start,void 0===(w=u.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),s=k.textContent.length,x=Math.min(u.start,s),u=void 0===u.end?x:Math.min(u.end,s),!w.extend&&x>u&&(s=u,u=x,x=s),s=pr(k,x),a=pr(k,u),s&&a&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),x>u?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}$t=!!qr,Br=qr=null,e.current=n,$u=r;do{try{for(k=e;null!==$u;){var _=$u.flags;if(36&_&&mu(k,$u.alternate,$u),128&_){b=void 0;var E=$u.ref;if(null!==E){var I=$u.stateNode;$u.tag,b=I,"function"===typeof E?E(b):E.current=b}}$u=$u.nextEffect}}catch(S){if(null===$u)throw Error(o(330));Vs($u,S),$u=$u.nextEffect}}while(null!==$u);$u=null,Ui(),Pu=i}else e.current=n;if(Zu)Zu=!1,es=e,ts=t;else for($u=r;null!==$u;)t=$u.nextEffect,$u.nextEffect=null,8&$u.flags&&((_=$u).sibling=null,_.stateNode=null),$u=t;if(0===(r=e.pendingLanes)&&(Xu=null),1===r?e===os?as++:(as=0,os=e):as=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(_i,n,void 0,64===(64&n.current.flags))}catch(S){}if(ys(e,zi()),Yu)throw Yu=!1,e=Ju,Ju=null,e;return 0!==(8&Pu)||Qi(),null}function Ds(){for(;null!==$u;){var e=$u.alternate;fs||null===ls||(0!==(8&$u.flags)?et($u,ls)&&(fs=!0):13===$u.tag&&Cu(e,$u)&&et($u,ls)&&(fs=!0));var t=$u.flags;0!==(256&t)&&yu(e,$u),0===(512&t)||Zu||(Zu=!0,Gi(97,(function(){return Ls(),null}))),$u=$u.nextEffect}}function Ls(){if(90!==ts){var e=97<ts?97:ts;return ts=90,Hi(e,Us)}return!1}function Ms(e,t){ns.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Fs(e,t){rs.push(t,e),Zu||(Zu=!0,Gi(97,(function(){return Ls(),null})))}function Us(){if(null===es)return!1;var e=es;if(es=null,0!==(48&Pu))throw Error(o(331));var t=Pu;Pu|=32;var n=rs;rs=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],u=i.destroy;if(i.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(n=ns,ns=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var s=i.create;i.destroy=s()}catch(c){if(null===a)throw Error(o(330));Vs(a,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return Pu=t,Qi(),!0}function js(e,t,n){fa(e,t=hu(0,t=cu(n,t),1)),t=hs(),null!==(e=vs(e,1))&&(zt(e,1,t),ys(e,t))}function Vs(e,t){if(3===e.tag)js(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){js(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r))){var i=du(n,e=cu(t,e),1);if(fa(n,i),i=hs(),null!==(n=vs(n,1)))zt(n,1,i),ys(n,i);else if("function"===typeof r.componentDidCatch&&(null===Xu||!Xu.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function qs(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hs(),e.pingedLanes|=e.suspendedLanes&n,Ru===e&&(Lu&n)===n&&(4===Uu||3===Uu&&(62914560&Lu)===Lu&&500>zi()-Wu?Es(e,0):zu|=n),ys(e,t)}function Bs(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ki()?1:2:(0===ss&&(ss=Vu),0===(t=qt(62914560&~ss))&&(t=4194304))),n=hs(),null!==(e=vs(e,t))&&(zt(e,t,n),ys(e,n))}function zs(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(e,t,n,r){return new zs(e,t,n,r)}function Ws(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Hs(e,t){var n=e.alternate;return null===n?((n=Ks(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gs(e,t,n,r,i,a){var u=2;if(r=e,"function"===typeof e)Ws(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case E:return Qs(n.children,i,a,t);case M:u=8,i|=16;break;case I:u=8,i|=1;break;case S:return(e=Ks(12,n,t,8|i)).elementType=S,e.type=S,e.lanes=a,e;case N:return(e=Ks(13,n,t,i)).type=N,e.elementType=N,e.lanes=a,e;case O:return(e=Ks(19,n,t,i)).elementType=O,e.lanes=a,e;case F:return $s(n,i,a,t);case U:return(e=Ks(24,n,t,i)).elementType=U,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:u=10;break e;case C:u=9;break e;case A:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ks(u,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qs(e,t,n,r){return(e=Ks(7,e,r,t)).lanes=n,e}function $s(e,t,n,r){return(e=Ks(23,e,r,t)).elementType=F,e.lanes=n,e}function Ys(e,t,n){return(e=Ks(6,e,null,t)).lanes=n,e}function Js(e,t,n){return(t=Ks(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Zs(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function ec(e,t,n,r){var i=t.current,a=hs(),u=ds(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(mi(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=bi(n,c,s);break e}}n=s}else n=hi;return null===t.context?t.context=n:t.pendingContext=n,(t=la(a,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),fa(i,t),ps(i,u,a),u}function tc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function nc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function rc(e,t){nc(e,t),(e=e.alternate)&&nc(e,t)}function ic(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Xs(e,t,null!=n&&!0===n.hydrate),t=Ks(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[ei]=n.current,Pr(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ac(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function oc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var u=i;i=function(){var e=tc(o);u.call(e)}}ec(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new ic(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var s=i;i=function(){var e=tc(o);s.call(e)}}ws((function(){ec(t,o,e,i)}))}return tc(o)}function uc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ac(t))throw Error(o(200));return Zs(e,t,null,n)}Qu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||pi.current)Fo=!0;else{if(0===(n&r)){switch(Fo=!1,t.tag){case 3:Go(t),Ga();break;case 5:La(t);break;case 1:mi(t.type)&&wi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;fi(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Xo(e,t,n):(fi(Fa,1&Fa.current),null!==(t=au(e,t,n))?t.sibling:null);fi(Fa,1&Fa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return iu(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),fi(Fa,Fa.current),r)break;return null;case 23:case 24:return t.lanes=0,Bo(e,t,n)}return au(e,t,n)}Fo=0!==(16384&e.flags)}else Fo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=yi(t,di.current),aa(t,n),i=oo(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;wi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&ya(t,r,u,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,wa(t,r,e,n),t=Ho(null,t,r,!0,a,n)}else t.tag=0,Uo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ws(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Ji(i,e),a){case 0:t=Ko(null,t,i,e,n);break e;case 1:t=Wo(null,t,i,e,n);break e;case 11:t=jo(null,t,i,e,n);break e;case 14:t=Vo(null,t,i,Ji(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ko(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 1:return r=t.type,i=t.pendingProps,Wo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 3:if(Go(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ca(e,t),da(t,r,null,n),(r=t.memoizedState.element)===i)Ga(),t=au(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Va=Qr(t.stateNode.containerInfo.firstChild),ja=t,a=qa=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Qa.push(a);for(n=Ta(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Uo(e,t,r,n),Ga();t=t.child}return t;case 5:return La(t),null===e&&Ka(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,u=i.children,Kr(r,i)?u=null:null!==a&&Kr(r,a)&&(t.flags|=16),zo(e,t),Uo(e,t,u,n),t.child;case 6:return null===e&&Ka(t),null;case 13:return Xo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Sa(t,null,r,n):Uo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,jo(e,t,r,i=t.elementType===r?i:Ji(r,i),n);case 7:return Uo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Uo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,u=t.memoizedProps,a=i.value;var s=t.type._context;if(fi(Xi,s._currentValue),s._currentValue=a,null!==u)if(s=u.value,0===(a=lr(s,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,a):1073741823))){if(u.children===i.children&&!pi.current){t=au(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===s.tag&&((l=la(-1,n&-n)).tag=2,fa(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),ia(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Uo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,aa(t,n),r=r(i=oa(i,a.unstable_observedBits)),t.flags|=1,Uo(e,t,r,n),t.child;case 14:return a=Ji(i=t.type,t.pendingProps),Vo(e,t,i,a=Ji(i.type,a),r,n);case 15:return qo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ji(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,wi(t)):e=!1,aa(t,n),ka(t,r,i),wa(t,r,i,n),Ho(null,t,r,!0,e,n);case 19:return iu(e,t,n);case 23:case 24:return Bo(e,t,n)}throw Error(o(156,t.tag))},ic.prototype.render=function(e){ec(e,this._internalRoot,null,null)},ic.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ec(null,e,null,(function(){t[ei]=null}))},tt=function(e){13===e.tag&&(ps(e,4,hs()),rc(e,4))},nt=function(e){13===e.tag&&(ps(e,67108864,hs()),rc(e,67108864))},rt=function(e){if(13===e.tag){var t=hs(),n=ds(e);ps(e,n,t),rc(e,n)}},it=function(e,t){return t()},Te=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ai(r);if(!i)throw Error(o(90));J(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bs,De=function(e,t,n,r,i){var a=Pu;Pu|=4;try{return Hi(98,e.bind(null,t,n,r,i))}finally{0===(Pu=a)&&(Gu(),Qi())}},Le=function(){0===(49&Pu)&&(function(){if(null!==is){var e=is;is=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,ys(e,zi())}))}Qi()}(),Ls())},Me=function(e,t){var n=Pu;Pu|=2;try{return e(t)}finally{0===(Pu=n)&&(Gu(),Qi())}};var sc={Events:[ri,ii,ai,Oe,Pe,Ls,{current:!1}]},cc={findFiberByHostInstance:ni,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},lc={bundleType:cc.bundleType,version:cc.version,rendererPackageName:cc.rendererPackageName,rendererConfig:cc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ze(e))?null:e.stateNode},findFiberByHostInstance:cc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fc.isDisabled&&fc.supportsFiber)try{_i=fc.inject(lc),Ei=fc}catch(ye){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=uc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Ze(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Pu;if(0!==(48&n))return e(t);Pu|=1;try{if(e)return Hi(99,e.bind(null,t))}finally{Pu=n,Qi()}},t.hydrate=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!0,n)},t.render=function(e,t,n){if(!ac(t))throw Error(o(200));return oc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ac(e))throw Error(o(40));return!!e._reactRootContainer&&(ws((function(){oc(null,null,e,!1,(function(){e._reactRootContainer=null,e[ei]=null}))})),!0)},t.unstable_batchedUpdates=bs,t.unstable_createPortal=function(e,t){return uc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ac(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return oc(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n=60103,r=60106,i=60107,a=60108,o=60114,u=60109,s=60110,c=60112,l=60113,f=60120,h=60115,d=60116,p=60121,v=60122,y=60117,m=60129,g=60131;if("function"===typeof Symbol&&Symbol.for){var k=Symbol.for;n=k("react.element"),r=k("react.portal"),i=k("react.fragment"),a=k("react.strict_mode"),o=k("react.profiler"),u=k("react.provider"),s=k("react.context"),c=k("react.forward_ref"),l=k("react.suspense"),f=k("react.suspense_list"),h=k("react.memo"),d=k("react.lazy"),p=k("react.block"),v=k("react.server.block"),y=k("react.fundamental"),m=k("react.debug_trace_mode"),g=k("react.legacy_hidden")}function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case o:case a:case l:case f:return e;default:switch(e=e&&e.$$typeof){case s:case c:case d:case h:case u:return e;default:return t}}case r:return t}}}t.isContextConsumer=function(e){return b(e)===s},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===o||e===m||e===a||e===l||e===f||e===g||"object"===typeof e&&null!==e&&(e.$$typeof===d||e.$$typeof===h||e.$$typeof===u||e.$$typeof===s||e.$$typeof===c||e.$$typeof===y||e.$$typeof===p||e[0]===v)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function y(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function m(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var k=g.prototype=new m;k.constructor=g,r(k,y.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,n){var r,a={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===a[r]&&(a[r]=s[r]);return{$$typeof:i,type:e,key:o,ref:u,props:a,_owner:b.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case i:case a:s=!0}}if(s)return o=o(s=e),e=""===r?"."+S(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+S(u=e[c],c);s+=T(u,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=T(u=u.value,t,n,l=r+S(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function C(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function O(){var e=N.current;if(null===e)throw Error(d(321));return e}var P={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error(d(143));return e}},t.Component=y,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:u,props:a,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},896:function(e,t,n){!function(e){"use strict";function t(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function r(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}function i(e,t,n){i.super_.call(this,"E",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0}),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})}function a(e,t){a.super_.call(this,"N",e),Object.defineProperty(this,"rhs",{value:t,enumerable:!0})}function o(e,t){o.super_.call(this,"D",e),Object.defineProperty(this,"lhs",{value:t,enumerable:!0})}function u(e,t,n){u.super_.call(this,"A",e),Object.defineProperty(this,"index",{value:t,enumerable:!0}),Object.defineProperty(this,"item",{value:n,enumerable:!0})}function s(e,t,n){var r=e.slice((n||t)+1||e.length);return e.length=t<0?e.length+t:t,e.push.apply(e,r),e}function c(e){var t="undefined"==typeof e?"undefined":N(e);return"object"!==t?t:e===Math?"math":null===e?"null":Array.isArray(e)?"array":"[object Date]"===Object.prototype.toString.call(e)?"date":"function"==typeof e.toString&&/^\/.*\//.test(e.toString())?"regexp":"object"}function l(e,t,n,r,f,h,d){d=d||[];var p=(f=f||[]).slice(0);if("undefined"!=typeof h){if(r){if("function"==typeof r&&r(p,h))return;if("object"===("undefined"==typeof r?"undefined":N(r))){if(r.prefilter&&r.prefilter(p,h))return;if(r.normalize){var v=r.normalize(p,h,e,t);v&&(e=v[0],t=v[1])}}}p.push(h)}"regexp"===c(e)&&"regexp"===c(t)&&(e=e.toString(),t=t.toString());var y="undefined"==typeof e?"undefined":N(e),m="undefined"==typeof t?"undefined":N(t),g="undefined"!==y||d&&d[d.length-1].lhs&&d[d.length-1].lhs.hasOwnProperty(h),k="undefined"!==m||d&&d[d.length-1].rhs&&d[d.length-1].rhs.hasOwnProperty(h);if(!g&&k)n(new a(p,t));else if(!k&&g)n(new o(p,e));else if(c(e)!==c(t))n(new i(p,e,t));else if("date"===c(e)&&e-t!==0)n(new i(p,e,t));else if("object"===y&&null!==e&&null!==t)if(d.filter((function(t){return t.lhs===e})).length)e!==t&&n(new i(p,e,t));else{if(d.push({lhs:e,rhs:t}),Array.isArray(e)){var b;for(e.length,b=0;b<e.length;b++)b>=t.length?n(new u(p,b,new o(void 0,e[b]))):l(e[b],t[b],n,r,p,b,d);for(;b<t.length;)n(new u(p,b,new a(void 0,t[b++])))}else{var w=Object.keys(e),x=Object.keys(t);w.forEach((function(i,a){var o=x.indexOf(i);o>=0?(l(e[i],t[i],n,r,p,i,d),x=s(x,o)):l(e[i],void 0,n,r,p,i,d)})),x.forEach((function(e){l(void 0,t[e],n,r,p,e,d)}))}d.length=d.length-1}else e!==t&&("number"===y&&isNaN(e)&&isNaN(t)||n(new i(p,e,t)))}function f(e,t,n,r){return r=r||[],l(e,t,(function(e){e&&r.push(e)}),n),r.length?r:void 0}function h(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":h(i[n.path[r]],n.index,n.item);break;case"D":delete i[n.path[r]];break;case"E":case"N":i[n.path[r]]=n.rhs}}else switch(n.kind){case"A":h(e[t],n.index,n.item);break;case"D":e=s(e,t);break;case"E":case"N":e[t]=n.rhs}return e}function d(e,t,n){if(e&&t&&n&&n.kind){for(var r=e,i=-1,a=n.path?n.path.length-1:0;++i<a;)"undefined"==typeof r[n.path[i]]&&(r[n.path[i]]="number"==typeof n.path[i]?[]:{}),r=r[n.path[i]];switch(n.kind){case"A":h(n.path?r[n.path[i]]:r,n.index,n.item);break;case"D":delete r[n.path[i]];break;case"E":case"N":r[n.path[i]]=n.rhs}}}function p(e,t,n){if(n.path&&n.path.length){var r,i=e[t],a=n.path.length-1;for(r=0;r<a;r++)i=i[n.path[r]];switch(n.kind){case"A":p(i[n.path[r]],n.index,n.item);break;case"D":case"E":i[n.path[r]]=n.lhs;break;case"N":delete i[n.path[r]]}}else switch(n.kind){case"A":p(e[t],n.index,n.item);break;case"D":case"E":e[t]=n.lhs;break;case"N":e=s(e,t)}return e}function v(e,t,n){if(e&&t&&n&&n.kind){var r,i,a=e;for(i=n.path.length-1,r=0;r<i;r++)"undefined"==typeof a[n.path[r]]&&(a[n.path[r]]={}),a=a[n.path[r]];switch(n.kind){case"A":p(a[n.path[r]],n.index,n.item);break;case"D":case"E":a[n.path[r]]=n.lhs;break;case"N":delete a[n.path[r]]}}}function y(e,t,n){e&&t&&l(e,t,(function(r){n&&!n(e,t,r)||d(e,t,r)}))}function m(e){return"color: "+R[e].color+"; font-weight: bold"}function g(e){var t=e.kind,n=e.path,r=e.lhs,i=e.rhs,a=e.index,o=e.item;switch(t){case"E":return[n.join("."),r,"\u2192",i];case"N":return[n.join("."),i];case"D":return[n.join(".")];case"A":return[n.join(".")+"["+a+"]",o];default:return[]}}function k(e,t,n,r){var i=f(e,t);try{r?n.groupCollapsed("diff"):n.group("diff")}catch(e){n.log("diff")}i?i.forEach((function(e){var t=e.kind,r=g(e);n.log.apply(n,["%c "+R[t].text,m(t)].concat(O(r)))})):n.log("\u2014\u2014 no diff \u2014\u2014");try{n.groupEnd()}catch(e){n.log("\u2014\u2014 diff end \u2014\u2014 ")}}function b(e,t,n,r){switch("undefined"==typeof e?"undefined":N(e)){case"object":return"function"==typeof e[r]?e[r].apply(e,O(n)):e[r];case"function":return e(t);default:return e}}function w(e){var t=e.timestamp,n=e.duration;return function(e,r,i){var a=["action"];return a.push("%c"+String(e.type)),t&&a.push("%c@ "+r),n&&a.push("%c(in "+i.toFixed(2)+" ms)"),a.join(" ")}}function x(e,t){var n=t.logger,r=t.actionTransformer,i=t.titleFormatter,a=void 0===i?w(t):i,o=t.collapsed,u=t.colors,s=t.level,c=t.diff,l="undefined"==typeof t.titleFormatter;e.forEach((function(i,f){var h=i.started,d=i.startedTime,p=i.action,v=i.prevState,y=i.error,m=i.took,g=i.nextState,w=e[f+1];w&&(g=w.prevState,m=w.started-h);var x=r(p),_="function"==typeof o?o((function(){return g}),p,i):o,E=C(d),I=u.title?"color: "+u.title(x)+";":"",S=["color: gray; font-weight: lighter;"];S.push(I),t.timestamp&&S.push("color: gray; font-weight: lighter;"),t.duration&&S.push("color: gray; font-weight: lighter;");var T=a(x,E,m);try{_?u.title&&l?n.groupCollapsed.apply(n,["%c "+T].concat(S)):n.groupCollapsed(T):u.title&&l?n.group.apply(n,["%c "+T].concat(S)):n.group(T)}catch(e){n.log(T)}var A=b(s,x,[v],"prevState"),N=b(s,x,[x],"action"),O=b(s,x,[y,v],"error"),P=b(s,x,[g],"nextState");if(A)if(u.prevState){var R="color: "+u.prevState(v)+"; font-weight: bold";n[A]("%c prev state",R,v)}else n[A]("prev state",v);if(N)if(u.action){var D="color: "+u.action(x)+"; font-weight: bold";n[N]("%c action    ",D,x)}else n[N]("action    ",x);if(y&&O)if(u.error){var L="color: "+u.error(y,v)+"; font-weight: bold;";n[O]("%c error     ",L,y)}else n[O]("error     ",y);if(P)if(u.nextState){var M="color: "+u.nextState(g)+"; font-weight: bold";n[P]("%c next state",M,g)}else n[P]("next state",g);c&&k(v,g,n,_);try{n.groupEnd()}catch(e){n.log("\u2014\u2014 log end \u2014\u2014")}}))}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},D,e),n=t.logger,r=t.stateTransformer,i=t.errorTransformer,a=t.predicate,o=t.logErrors,u=t.diffPredicate;if("undefined"==typeof n)return function(){return function(e){return function(t){return e(t)}}};if(e.getState&&e.dispatch)return console.error("[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:\n// Logger with default options\nimport { logger } from 'redux-logger'\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n// Or you can create your own logger with custom options http://bit.ly/redux-logger-options\nimport createLogger from 'redux-logger'\nconst logger = createLogger({\n  // ...options\n});\nconst store = createStore(\n  reducer,\n  applyMiddleware(logger)\n)\n"),function(){return function(e){return function(t){return e(t)}}};var s=[];return function(e){var n=e.getState;return function(e){return function(c){if("function"==typeof a&&!a(n,c))return e(c);var l={};s.push(l),l.started=A.now(),l.startedTime=new Date,l.prevState=r(n()),l.action=c;var f=void 0;if(o)try{f=e(c)}catch(e){l.error=i(e)}else f=e(c);l.took=A.now()-l.started,l.nextState=r(n());var h=t.diff&&"function"==typeof u?u(n,c):t.diff;if(x(s,Object.assign({},t,{diff:h})),s.length=0,l.error)throw l.error;return f}}}}var E,I,S=function(e,t){return new Array(t+1).join(e)},T=function(e,t){return S("0",t-e.toString().length)+e},C=function(e){return T(e.getHours(),2)+":"+T(e.getMinutes(),2)+":"+T(e.getSeconds(),2)+"."+T(e.getMilliseconds(),3)},A="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance:Date,N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=[];E="object"===("undefined"==typeof n.g?"undefined":N(n.g))&&n.g?n.g:"undefined"!=typeof window?window:{},(I=E.DeepDiff)&&P.push((function(){"undefined"!=typeof I&&E.DeepDiff===f&&(E.DeepDiff=I,I=void 0)})),t(i,r),t(a,r),t(o,r),t(u,r),Object.defineProperties(f,{diff:{value:f,enumerable:!0},observableDiff:{value:l,enumerable:!0},applyDiff:{value:y,enumerable:!0},applyChange:{value:d,enumerable:!0},revertChange:{value:v,enumerable:!0},isConflict:{value:function(){return"undefined"!=typeof I},enumerable:!0},noConflict:{value:function(){return P&&(P.forEach((function(e){e()})),P=null),f},enumerable:!0}});var R={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},D={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(e){return e},actionTransformer:function(e){return e},errorTransformer:function(e){return e},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.dispatch,n=e.getState;return"function"==typeof t||"function"==typeof n?_()({dispatch:t,getState:n}):void console.error("\n[redux-logger v3] BREAKING CHANGE\n[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.\n[redux-logger v3] Change\n[redux-logger v3] import createLogger from 'redux-logger'\n[redux-logger v3] to\n[redux-logger v3] import { createLogger } from 'redux-logger'\n")};e.defaults=D,e.createLogger=_,e.logger=L,e.default=L,Object.defineProperty(e,"__esModule",{value:!0})}(t)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(O){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=I(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new E(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,y=null,m=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?w.postMessage(null):(v=!1,y=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){y=e,v||(v=!0,w.postMessage(null))},r=function(e,n){m=h((function(){e(t.unstable_now())}),n)},i=function(){d(m),m=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function _(e){return void 0===(e=e[0])?null:e}function E(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],u=a+1,s=e[u];if(void 0!==o&&0>I(o,n))void 0!==s&&0>I(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==s&&0>I(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var S=[],T=[],C=1,A=null,N=3,O=!1,P=!1,R=!1;function D(e){for(var t=_(T);null!==t;){if(null===t.callback)E(T);else{if(!(t.startTime<=e))break;E(T),t.sortIndex=t.expirationTime,x(S,t)}t=_(T)}}function L(e){if(R=!1,D(e),!P)if(null!==_(S))P=!0,n(M);else{var t=_(T);null!==t&&r(L,t.startTime-e)}}function M(e,n){P=!1,R&&(R=!1,i()),O=!0;var a=N;try{for(D(n),A=_(S);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"===typeof o){A.callback=null,N=A.priorityLevel;var u=o(A.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?A.callback=u:A===_(S)&&E(S),D(n)}else E(S);A=_(S)}if(null!==A)var s=!0;else{var c=_(T);null!==c&&r(L,c.startTime-n),s=!1}return s}finally{A=null,N=a,O=!1}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||O||(P=!0,n(M))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return _(S)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,a,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:C++,callback:a,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,x(T,e),null===_(S)&&e===_(T)&&(R?i():R=!0,r(L,o-u))):(e.sortIndex=s,x(S,e),P||O||(P=!0,n(M))),e},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},484:function(e){"use strict";function t(e,t,n){var r,i=t.theme&&t.theme[e];return"function"===typeof(r="function"===typeof i?i(n):n[i])?r(t):r}function n(e,n){return function(r){return t(e,r,n)}}n.variants=function(e,n,r){return function(i){var a=i[n]&&r[i[n]];return a&&t(e,i,a)}},e.exports=n}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/botanica-shop/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Or},SDK_VERSION:function(){return _i},_DEFAULT_ENTRY_NAME:function(){return li},_addComponent:function(){return pi},_addOrOverwriteComponent:function(){return vi},_apps:function(){return hi},_clearComponents:function(){return ki},_components:function(){return di},_getProvider:function(){return mi},_registerComponent:function(){return yi},_removeServiceInstance:function(){return gi},deleteApp:function(){return Ti},getApp:function(){return Ii},getApps:function(){return Si},initializeApp:function(){return Ei},onLog:function(){return Ni},registerVersion:function(){return Ai},setLogLevel:function(){return Oi}});var t=n(791),r=n(164),i=t.createContext(null);var a=function(e){e()},o=function(){return a};var u={notify:function(){},get:function(){return[]}};function s(e,t){var n,r=u;function i(){s.onStateChange&&s.onStateChange()}function a(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=o(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var s={addNestedSub:function(e){return a(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:a,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=u)},getListeners:function(){return r}};return s}var c="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?t.useLayoutEffect:t.useEffect;var l=function(e){var n=e.store,r=e.context,a=e.children,o=(0,t.useMemo)((function(){var e=s(n);return e.onStateChange=e.notifyNestedSubs,{store:n,subscription:e}}),[n]),u=(0,t.useMemo)((function(){return n.getState()}),[n]);c((function(){var e=o.subscription;return e.trySubscribe(),u!==n.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,u]);var l=r||i;return t.createElement(l.Provider,{value:o},a)};function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function h(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var d=n(110),p=n.n(d),v=n(441),y=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],m=["reactReduxForwardedRef"],g=[],k=[null,null];function b(e,t){var n=e[1];return[t.payload,n+1]}function w(e,t,n){c((function(){return e.apply(void 0,t)}),n)}function x(e,t,n,r,i,a,o){e.current=r,t.current=i,n.current=!1,a.current&&(a.current=null,o())}function _(e,t,n,r,i,a,o,u,s,c){if(e){var l=!1,f=null,h=function(){if(!l){var e,n,h=t.getState();try{e=r(h,i.current)}catch(d){n=d,f=d}n||(f=null),e===a.current?o.current||s():(a.current=e,u.current=e,o.current=!0,c({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=h,n.trySubscribe(),h();return function(){if(l=!0,n.tryUnsubscribe(),n.onStateChange=null,f)throw f}}}var E=function(){return[null,0]};function I(e,n){void 0===n&&(n={});var r=n,a=r.getDisplayName,o=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,u=r.methodName,c=void 0===u?"connectAdvanced":u,l=r.renderCountProp,d=void 0===l?void 0:l,I=r.shouldHandleStateChanges,S=void 0===I||I,T=r.storeKey,C=void 0===T?"store":T,A=(r.withRef,r.forwardRef),N=void 0!==A&&A,O=r.context,P=void 0===O?i:O,R=h(r,y),D=P;return function(n){var r=n.displayName||n.name||"Component",i=o(r),a=f({},R,{getDisplayName:o,methodName:c,renderCountProp:d,shouldHandleStateChanges:S,storeKey:C,displayName:i,wrappedComponentName:r,WrappedComponent:n}),u=R.pure;var l=u?t.useMemo:function(e){return e()};function y(r){var i=(0,t.useMemo)((function(){var e=r.reactReduxForwardedRef,t=h(r,m);return[r.context,e,t]}),[r]),o=i[0],u=i[1],c=i[2],d=(0,t.useMemo)((function(){return o&&o.Consumer&&(0,v.isContextConsumer)(t.createElement(o.Consumer,null))?o:D}),[o,D]),p=(0,t.useContext)(d),y=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(p)&&Boolean(p.store);var I=y?r.store:p.store,T=(0,t.useMemo)((function(){return function(t){return e(t.dispatch,a)}(I)}),[I]),C=(0,t.useMemo)((function(){if(!S)return k;var e=s(I,y?null:p.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[I,y,p]),A=C[0],N=C[1],O=(0,t.useMemo)((function(){return y?p:f({},p,{subscription:A})}),[y,p,A]),P=(0,t.useReducer)(b,g,E),R=P[0][0],L=P[1];if(R&&R.error)throw R.error;var M=(0,t.useRef)(),F=(0,t.useRef)(c),U=(0,t.useRef)(),j=(0,t.useRef)(!1),V=l((function(){return U.current&&c===F.current?U.current:T(I.getState(),c)}),[I,R,c]);w(x,[F,M,j,c,V,U,N]),w(_,[S,I,A,T,F,M,j,U,N,L],[I,A,T]);var q=(0,t.useMemo)((function(){return t.createElement(n,f({},V,{ref:u}))}),[u,n,V]);return(0,t.useMemo)((function(){return S?t.createElement(d.Provider,{value:O},q):q}),[d,q,O])}var I=u?t.memo(y):y;if(I.WrappedComponent=n,I.displayName=y.displayName=i,N){var T=t.forwardRef((function(e,n){return t.createElement(I,f({},e,{reactReduxForwardedRef:n}))}));return T.displayName=i,T.WrappedComponent=n,p()(T,n)}return p()(I,n)}}function S(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function T(e,t){if(S(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!S(e[n[i]],t[n[i]]))return!1;return!0}function C(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function A(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function N(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=A(e);var i=r(t,n);return"function"===typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=A(i),i=r(t,n)),i},r}}var O=[function(e){return"function"===typeof e?N(e):void 0},function(e){return e?void 0:C((function(e){return{dispatch:e}}))},function(e){return e&&"object"===typeof e?C((function(t){return function(e,t){var n={},r=function(r){var i=e[r];"function"===typeof i&&(n[r]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)r(i);return n}(e,t)})):void 0}];var P=[function(e){return"function"===typeof e?N(e):void 0},function(e){return e?void 0:C((function(){return{}}))}];function R(e,t,n){return f({},n,e,t)}var D=[function(e){return"function"===typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,u){var s=e(t,n,u);return o?i&&a(s,r)||(r=s):(o=!0,r=s),r}}}(e):void 0},function(e){return e?void 0:function(){return R}}],L=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function M(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function F(e,t,n,r,i){var a,o,u,s,c,l=i.areStatesEqual,f=i.areOwnPropsEqual,h=i.areStatePropsEqual,d=!1;function p(i,d){var p=!f(d,o),v=!l(i,a);return a=i,o=d,p&&v?(u=e(a,o),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):p?(e.dependsOnOwnProps&&(u=e(a,o)),t.dependsOnOwnProps&&(s=t(r,o)),c=n(u,s,o)):v?function(){var t=e(a,o),r=!h(t,u);return u=t,r&&(c=n(u,s,o)),c}():c}return function(i,l){return d?p(i,l):(u=e(a=i,o=l),s=t(r,o),c=n(u,s,o),d=!0,c)}}function U(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=h(t,L),o=n(e,a),u=r(e,a),s=i(e,a);return(a.pure?F:M)(o,u,s,e,a)}var j=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function V(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function q(e,t){return e===t}function B(e){var t=void 0===e?{}:e,n=t.connectHOC,r=void 0===n?I:n,i=t.mapStateToPropsFactories,a=void 0===i?P:i,o=t.mapDispatchToPropsFactories,u=void 0===o?O:o,s=t.mergePropsFactories,c=void 0===s?D:s,l=t.selectorFactory,d=void 0===l?U:l;return function(e,t,n,i){void 0===i&&(i={});var o=i,s=o.pure,l=void 0===s||s,p=o.areStatesEqual,v=void 0===p?q:p,y=o.areOwnPropsEqual,m=void 0===y?T:y,g=o.areStatePropsEqual,k=void 0===g?T:g,b=o.areMergedPropsEqual,w=void 0===b?T:b,x=h(o,j),_=V(e,a,"mapStateToProps"),E=V(t,u,"mapDispatchToProps"),I=V(n,c,"mergeProps");return r(d,f({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:_,initMapDispatchToProps:E,initMergeProps:I,pure:l,areStatesEqual:v,areOwnPropsEqual:m,areStatePropsEqual:k,areMergedPropsEqual:w},x))}}var z=B();function K(){return(0,t.useContext)(i)}function W(e){void 0===e&&(e=i);var n=e===i?K:function(){return(0,t.useContext)(e)};return function(){return n().store}}var H=W();function G(e){void 0===e&&(e=i);var t=e===i?H:W(e);return function(){return t().dispatch}}var Q=G(),$=function(e,t){return e===t};function Y(e){void 0===e&&(e=i);var n=e===i?K:function(){return(0,t.useContext)(e)};return function(e,r){void 0===r&&(r=$);var i=n(),a=function(e,n,r,i){var a,o=(0,t.useReducer)((function(e){return e+1}),0)[1],u=(0,t.useMemo)((function(){return s(r,i)}),[r,i]),l=(0,t.useRef)(),f=(0,t.useRef)(),h=(0,t.useRef)(),d=(0,t.useRef)(),p=r.getState();try{if(e!==f.current||p!==h.current||l.current){var v=e(p);a=void 0!==d.current&&n(v,d.current)?d.current:v}else a=d.current}catch(y){throw l.current&&(y.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),y}return c((function(){f.current=e,h.current=p,d.current=a,l.current=void 0})),c((function(){function e(){try{var e=r.getState();if(e===h.current)return;var t=f.current(e);if(n(t,d.current))return;d.current=t,h.current=e}catch(y){l.current=y}o()}return u.onStateChange=e,u.trySubscribe(),e(),function(){return u.tryUnsubscribe()}}),[r,u]),a}(e,r,i.store,i.subscription);return(0,t.useDebugValue)(a),a}}var J,X=Y();function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}J=r.unstable_batchedUpdates,a=J;var re="function"===typeof Symbol&&Symbol.observable||"@@observable",ie=function(){return Math.random().toString(36).substring(7).split("").join(".")},ae={INIT:"@@redux/INIT"+ie(),REPLACE:"@@redux/REPLACE"+ie(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ie()}};function oe(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ue(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}var se=n(896),ce=n.n(se),le="SET_CURRENT_USER",fe={currentUser:null},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;return t.type===le?te(te({},e),{},{currentUser:t.payload}):e},de={TOGGLE_CART_HIDDEN:"TOGGLE_CART_HIDDEN",ADD_ITEM:"ADD_ITEM"};function pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ve(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function ye(e,t){if(e){if("string"===typeof e)return pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?pe(e,t):void 0}}function me(e){return function(e){if(Array.isArray(e))return pe(e)}(e)||ve(e)||ye(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ge=function(e,t){return e.find((function(e){return e.id===t.id}))?e.map((function(e){return e.id===t.id?te(te({},e),{},{quantity:e.quantity+1}):e})):[].concat(me(e),[te(te({},t),{},{quantity:1})])},ke={hidden:!1,cartItems:[]},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de.TOGGLE_CART_HIDDEN:return te(te({},e),{},{hidden:!e.hidden});case de.ADD_ITEM:return te(te({},e),{},{cartItems:ge(e.cartItems,t.payload)});default:return e}},we=[{id:1,img:"./img/plants/dracenae.jpg",title:"\u0414\u0440\u0430\u0446\u0435\u043d\u0430",group:"dracaena",price:15,date:new Date,quantity:5},{id:2,img:"./img/plants/calla.jpg",title:"\u041a\u0430\u043b\u043b\u0430 \u0431\u0435\u043b\u0430\u044f",group:"calla",price:27,date:new Date,quantity:5},{id:3,img:"./img/plants/maranta.jpg",title:"\u041c\u0430\u0440\u0430\u043d\u0442\u0430",group:"maranta",price:25,date:new Date,quantity:5},{id:4,img:"./img/plants/pachira.jpg",title:"\u041f\u0430\u0445\u0438\u0440\u0430",group:"pachira",price:33,date:new Date,quantity:5},{id:5,img:"./img/plants/polypodiophyta1.jpg",title:"\u041f\u0430\u043f\u043e\u0440\u043e\u0442\u043d\u0438\u043a 1",group:"polypodiophyta",price:9.99,date:new Date,inStock:!0},{id:6,img:"./img/plants/polypodiophyta2.jpg",title:"\u041f\u0430\u043f\u043e\u0440\u043e\u0442\u043d\u0438\u043a 2",group:"polypodiophyta",price:9.99,date:new Date,quantity:5},{id:7,img:"./img/plants/polypodiophyta3.jpg",title:"\u041f\u0430\u043f\u043e\u0440\u043e\u0442\u043d\u0438\u043a 3",group:"polypodiophyta",price:9.99,date:new Date,quantity:5},{id:8,img:"./img/plants/polypodiophyta4.jpg",title:"\u041f\u0430\u043f\u043e\u0440\u043e\u0442\u043d\u0438\u043a 4",group:"polypodiophyta",price:9.99,date:new Date,quantity:5},{id:9,img:"./img/plants/polypodiophyta5.jpg",title:"\u041f\u0430\u043f\u043e\u0440\u043e\u0442\u043d\u0438\u043a 5",group:"polypodiophyta",price:9.99,date:new Date,quantity:5},{id:10,img:"./img/plants/polypodiophyta6.jpg",title:"\u041f\u0430\u043f\u043e\u0440\u043e\u0442\u043d\u0438\u043a 6",group:"polypodiophyta",price:9.99,date:new Date,quantity:5},{id:11,img:"./img/plants/syngonium-pink.jpg",title:"\u0421\u0438\u043d\u0433\u043e\u043d\u0438\u0443\u043c \u041f\u0438\u043d\u043a",group:"syngonium",price:19.99,date:new Date,quantity:5},{id:12,img:"./img/plants/zamioculcas-zenzi.jpg",title:"\u0417\u0430\u043c\u0438\u043e\u043a\u0443\u043b\u044c\u043a\u0430\u0441 \u0417\u0435\u043d\u0437\u0438",group:"polypodiophyta",price:49.99,date:new Date,quantity:5}],xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;return t.type,e},_e=function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var a,o=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:ae.INIT}))throw new Error(ne(12));if("undefined"===typeof n(void 0,{type:ae.PROBE_UNKNOWN_ACTION()}))throw new Error(ne(13))}))}(n)}catch(u){a=u}return function(e,t){if(void 0===e&&(e={}),a)throw a;for(var r=!1,i={},u=0;u<o.length;u++){var s=o[u],c=n[s],l=e[s],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(ne(14))}i[s]=f,r=r||f!==l}return(r=r||o.length!==Object.keys(e).length)?i:e}}({user:he,cart:be,catalog:xe}),Ee=[ce()],Ie=function e(t,n,r){var i;if("function"===typeof n&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(ne(0));if("function"===typeof n&&"undefined"===typeof r&&(r=n,n=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(ne(1));return r(e)(t,n)}if("function"!==typeof t)throw new Error(ne(2));var a=t,o=n,u=[],s=u,c=!1;function l(){s===u&&(s=u.slice())}function f(){if(c)throw new Error(ne(3));return o}function h(e){if("function"!==typeof e)throw new Error(ne(4));if(c)throw new Error(ne(5));var t=!0;return l(),s.push(e),function(){if(t){if(c)throw new Error(ne(6));t=!1,l();var n=s.indexOf(e);s.splice(n,1),u=null}}}function d(e){if(!oe(e))throw new Error(ne(7));if("undefined"===typeof e.type)throw new Error(ne(8));if(c)throw new Error(ne(9));try{c=!0,o=a(o,e)}finally{c=!1}for(var t=u=s,n=0;n<t.length;n++){(0,t[n])()}return e}function p(e){if("function"!==typeof e)throw new Error(ne(10));a=e,d({type:ae.REPLACE})}function v(){var e,t=h;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ne(11));function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[re]=function(){return this},e}return d({type:ae.INIT}),(i={dispatch:d,subscribe:h,getState:f,replaceReducer:p})[re]=v,i}(_e,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),r=function(){throw new Error(ne(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return r=ue.apply(void 0,a)(n.dispatch),te(te({},n),{},{dispatch:r})}}}.apply(void 0,Ee)),Se=Ie;function Te(e){if(Array.isArray(e))return e}function Ce(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ae(e,t){return Te(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||ye(e,t)||Ce()}var Ne=n(613),Oe=n.n(Ne);var Pe=function(e){function t(e,r,s,c,h){for(var d,p,v,y,b,x=0,_=0,E=0,I=0,S=0,P=0,D=v=d=0,M=0,F=0,U=0,j=0,V=s.length,q=V-1,B="",z="",K="",W="";M<V;){if(p=s.charCodeAt(M),M===q&&0!==_+I+E+x&&(0!==_&&(p=47===_?10:47),I=E=x=0,V++,q++),0===_+I+E+x){if(M===q&&(0<F&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,j=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<q;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<q&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(j,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=O}if(j=(v=t(r,F,v,p,h+1)).length,0<R&&(b=u(3,v,F=n(O,B,U),r,C,T,j,p,h,c),B=F.join(""),void 0!==b&&0===(j=(v=b.trim()).length)&&(p=0,v="")),0<j)switch(p){case 115:B=B.replace(w,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(m,"$1 $2"))+"{"+v+"}",v=1===N||2===N&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(z+=v,v="")}else v=""}else v=t(r,n(r,B,U),v,c,h+1);K+=v,v=U=F=D=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(j=(B=(0<F?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(j=(B=B.replace(" ",":")).length),0<R&&void 0!==(b=u(1,B,r,e,C,T,z.length,c,h,c))&&0===(j=(B=b.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){W+=B+s.charAt(M);break}default:58!==B.charCodeAt(j-1)&&(z+=i(B,d,p,B.charCodeAt(2)))}U=F=D=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<R*L&&u(0,B,r,e,C,T,z.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+I+E+x){T++;break}default:switch(T++,y=s.charAt(M),p){case 9:case 32:if(0===I+x+_)switch(S){case 44:case 58:case 9:case 32:y="";break;default:32!==p&&(y=" ")}break;case 0:y="\\0";break;case 12:y="\\f";break;case 11:y="\\v";break;case 38:0===I+_+x&&(F=U=1,y="\f"+y);break;case 108:if(0===I+_+x+A&&0<D)switch(M-D){case 2:112===S&&58===s.charCodeAt(M-3)&&(A=S);case 8:111===P&&(A=P)}break;case 58:0===I+_+x&&(D=M);break;case 44:0===_+E+I+x&&(F=1,y+="\r");break;case 34:case 39:0===_&&(I=I===p?0:0===I?p:I);break;case 91:0===I+_+E&&x++;break;case 93:0===I+_+E&&x--;break;case 41:0===I+_+x&&E--;break;case 40:if(0===I+_+x){if(0===d)if(2*S+3*P===533);else d=1;E++}break;case 64:0===_+E+I+x+D+v&&(v=1);break;case 42:case 47:if(!(0<I+x+E))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:j=M,_=42}break;case 42:47===p&&42===S&&j+2!==M&&(33===s.charCodeAt(j+2)&&(z+=s.substring(j,M+1)),y="",_=0)}}0===_&&(B+=y)}P=S,S=p,M++}if(0<(j=z.length)){if(F=r,0<R&&(void 0!==(b=u(2,z,F,e,C,T,j,c,h,c))&&0===(z=b).length))return W+z+K;if(z=F.join(",")+"{"+z+"}",0!==N*A){switch(2!==N||a(z,2)||(A=0),A){case 111:z=z.replace(k,":-moz-$1")+z;break;case 112:z=z.replace(g,"::-webkit-input-$1")+z.replace(g,"::-moz-$1")+z.replace(g,":-ms-input-$1")+z}A=0}}return W+z+K}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(y,"$1"+e.trim());case 58:return e.trim()+t.replace(y,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(y,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===N||2===N&&a(s,1)?"-webkit-"+s+s:s}if(0===N||2===N&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(S,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(b,"tb");break;case 232:s=o.replace(b,"tb-rl");break;case 220:s=o.replace(b,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===I.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(E,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<R;++h)switch(f=P[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?N=1:(N=2,D=e):N=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(O,r,n,0,0);return 0<R&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",A=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,y=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,E=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,S=/([^-])(image-set\()/,T=1,C=1,A=0,N=1,O=[],P=[],R=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:R=P.length=0;break;default:if("function"===typeof t)P[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},Re={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var De=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Le=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Me=De((function(e){return Le.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function Fe(){return(Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ue=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},je=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,v.typeOf)(e)},Ve=Object.freeze([]),qe=Object.freeze({});function Be(e){return"function"==typeof e}function ze(e){return e.displayName||e.name||"Component"}function Ke(e){return e&&"string"==typeof e.styledComponentId}var We="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",He="undefined"!=typeof window&&"HTMLElement"in window,Ge=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),Qe={};function $e(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var Ye=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&$e(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),Je=new Map,Xe=new Map,Ze=1,et=function(e){if(Je.has(e))return Je.get(e);for(;Xe.has(Ze);)Ze++;var t=Ze++;return Je.set(e,t),Xe.set(t,e),t},tt=function(e){return Xe.get(e)},nt=function(e,t){t>=Ze&&(Ze=t+1),Je.set(e,t),Xe.set(t,e)},rt="style["+We+'][data-styled-version="5.3.3"]',it=new RegExp("^"+We+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),at=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},ot=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(it);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(nt(c,s),at(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},ut=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},st=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(We))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(We,"active"),r.setAttribute("data-styled-version","5.3.3");var o=ut();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},ct=function(){function e(e){var t=this.element=st(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}$e(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),lt=function(){function e(e){var t=this.element=st(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),ft=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),ht=He,dt={isServer:!He,useCSSOMInjection:!Ge},pt=function(){function e(e,t,n){void 0===e&&(e=qe),void 0===t&&(t={}),this.options=Fe({},dt,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&He&&ht&&(ht=!1,function(e){for(var t=document.querySelectorAll(rt),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(We)&&(ot(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return et(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(Fe({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new ft(i):r?new ct(i):new lt(i),new Ye(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(et(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(et(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(et(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=tt(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=We+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),vt=/(a)(d)/gi,yt=function(e){return String.fromCharCode(e+(e>25?39:97))};function mt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=yt(t%52)+n;return(yt(t%52)+n).replace(vt,"$1-$2")}var gt=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},kt=function(e){return gt(5381,e)};function bt(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Be(n)&&!Ke(n))return!1}return!0}var wt=kt("5.3.3"),xt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&bt(e),this.componentId=t,this.baseHash=gt(wt,t),this.baseStyle=n,pt.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Vt(this.rules,e,t,n).join(""),o=mt(gt(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=gt(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=Vt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=gt(c,p+f),l+=p}}if(l){var v=mt(c>>>0);if(!t.hasNameForId(r,v)){var y=n(l,"."+v,void 0,r);t.insertRules(r,v,y)}i.push(v)}}return i.join(" ")},e}(),_t=/^\s*\/\/.*$/gm,Et=[":","[",".","#"];function It(e){var t,n,r,i,a=void 0===e?qe:e,o=a.options,u=void 0===o?qe:o,s=a.plugins,c=void 0===s?Ve:s,l=new Pe(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Et.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(_t,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||$e(15),gt(e,t.name)}),5381).toString():"",p}var St=t.createContext(),Tt=(St.Consumer,t.createContext()),Ct=(Tt.Consumer,new pt),At=It();function Nt(){return(0,t.useContext)(St)||Ct}function Ot(){return(0,t.useContext)(Tt)||At}function Pt(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Nt(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return It({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){Oe()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(St.Provider,{value:o},t.createElement(Tt.Provider,{value:u},e.children))}var Rt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=At);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return $e(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=At),this.name+e.hash},e}(),Dt=/([A-Z])/,Lt=/([A-Z])/g,Mt=/^ms-/,Ft=function(e){return"-"+e.toLowerCase()};function Ut(e){return Dt.test(e)?e.replace(Lt,Ft).replace(Mt,"-ms-"):e}var jt=function(e){return null==e||!1===e||""===e};function Vt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=Vt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return jt(e)?"":Ke(e)?"."+e.styledComponentId:Be(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:Vt(e(t),t,n,r):e instanceof Rt?n?(e.inject(n,r),e.getName(r)):e:je(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!jt(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Be(t[o])?a.push(Ut(o)+":",t[o],";"):je(t[o])?a.push.apply(a,e(t[o],o)):a.push(Ut(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in Re?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var qt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Bt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Be(e)||je(e)?qt(Vt(Ue(Ve,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:qt(Vt(Ue(e,n)))}new Set;var zt=function(e,t,n){return void 0===n&&(n=qe),e.theme!==n.theme&&e.theme||t||n.theme},Kt=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Wt=/(^-|-$)/g;function Ht(e){return e.replace(Kt,"-").replace(Wt,"")}var Gt=function(e){return mt(kt(e)>>>0)};function Qt(e){return"string"==typeof e&&!0}var $t=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Yt=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Jt(e,t,n){var r=e[n];$t(t)&&$t(r)?Xt(r,t):e[n]=t}function Xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if($t(o))for(var u in o)Yt(u)&&Jt(e,o[u],u)}return e}var Zt=t.createContext();Zt.Consumer;function en(e){var n=(0,t.useContext)(Zt),r=(0,t.useMemo)((function(){return function(e,t){return e?Be(e)?e(t):Array.isArray(e)||"object"!=typeof e?$e(8):t?Fe({},t,{},e):e:$e(14)}(e.theme,n)}),[e.theme,n]);return e.children?t.createElement(Zt.Provider,{value:r},e.children):null}var tn={};function nn(e,n,r){var i=Ke(e),a=!Qt(e),o=n.attrs,u=void 0===o?Ve:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":Ht(e);tn[n]=(tn[n]||0)+1;var r=n+"-"+Gt("5.3.3"+n+tn[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return Qt(e)?"styled."+e:"Styled("+ze(e)+")"}(e):l,h=n.displayName&&n.componentId?Ht(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,v=n.shouldForwardProp;i&&e.shouldForwardProp&&(v=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var y,m=new xt(r,h,i?e.componentStyle:void 0),g=m.isStatic&&0===u.length,k=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=qe);var r=Fe({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Be(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(zt(n,(0,t.useContext)(Zt),u)||qe,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Nt(),a=Ot();return t?e.generateAndInjectStyles(qe,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),y=r,m=p.$as||n.$as||p.as||n.as||f,g=Qt(m),k=p!==n?Fe({},n,{},p):n,b={};for(var w in k)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=k[w]:(c?c(w,Me,m):!g||Me(w))&&(b[w]=k[w]));return n.style&&p.style!==n.style&&(b.style=Fe({},n.style,{},p.style)),b.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),b.ref=y,(0,t.createElement)(m,b)}(y,e,n,g)};return k.displayName=f,(y=t.forwardRef(k)).attrs=d,y.componentStyle=m,y.displayName=f,y.shouldForwardProp=v,y.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Ve,y.styledComponentId=h,y.target=i?e.target:e,y.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(Qt(e)?e:Ht(ze(e)));return nn(e,Fe({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(y,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?Xt({},e.defaultProps,t):t}}),y.toString=function(){return"."+y.styledComponentId},a&&p()(y,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),y}var rn=function(e){return function e(t,n,r){if(void 0===r&&(r=qe),!(0,v.isValidElementType)(n))return $e(1,String(n));var i=function(){return t(n,r,Bt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,Fe({},r,{},i))},i.attrs=function(i){return e(t,n,Fe({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(nn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){rn[e]=rn(e)}));var an=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=bt(e),pt.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Vt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&pt.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=ut();return"<style "+[n&&'nonce="'+n+'"',We+'="true"','data-styled-version="5.3.3"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?$e(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return $e(2);var r=((n={})[We]="",n["data-styled-version"]="5.3.3",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=ut();return i&&(r.nonce=i),[t.createElement("style",Fe({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new pt({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?$e(2):t.createElement(Pt,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return $e(3)}}();var on,un=rn,sn=n(184),cn=t.createContext(),ln=function(e){var n=e.children,r=Ae(t.useState({mode:"light"}),2),i=r[0],a=r[1];return(0,sn.jsx)(cn.Provider,{value:{toggle:function(){var e="light"===i.mode?"dark":"light";a({mode:e})}},children:(0,sn.jsx)(en,{theme:{mode:i.mode},children:n})})},fn=on||(on={});fn.Pop="POP",fn.Push="PUSH",fn.Replace="REPLACE";var hn=function(e){return e};function dn(e){e.preventDefault(),e.returnValue=""}function pn(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function vn(){return Math.random().toString(36).substr(2,8)}function yn(e){var t=e.pathname;t=void 0===t?"/":t;var n=e.search;return n=void 0===n?"":n,e=void 0===(e=e.hash)?"":e,n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),e&&"#"!==e&&(t+="#"===e.charAt(0)?e:"#"+e),t}function mn(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function gn(e,t){if(!e)throw new Error(t)}var kn=(0,t.createContext)(null);var bn=(0,t.createContext)(null);var wn=(0,t.createContext)({outlet:null,matches:[]});function xn(e){var n=e.to,r=e.replace,i=e.state;Cn()||gn(!1);var a=Nn();return(0,t.useEffect)((function(){a(n,{replace:r,state:i})})),null}function _n(e){return function(e){var n=(0,t.useContext)(wn).outlet;if(n)return(0,t.createElement)(On.Provider,{value:e},n);return n}(e.context)}function En(e){gn(!1)}function In(e){var n=e.basename,r=void 0===n?"/":n,i=e.children,a=void 0===i?null:i,o=e.location,u=e.navigationType,s=void 0===u?on.Pop:u,c=e.navigator,l=e.static,f=void 0!==l&&l;Cn()&&gn(!1);var h=Kn(r),d=(0,t.useMemo)((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=mn(o));var p=o,v=p.pathname,y=void 0===v?"/":v,m=p.search,g=void 0===m?"":m,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,_=p.key,E=void 0===_?"default":_,I=(0,t.useMemo)((function(){var e=Bn(y,h);return null==e?null:{pathname:e,search:g,hash:b,state:x,key:E}}),[h,y,g,b,x,E]);return null==I?null:(0,t.createElement)(kn.Provider,{value:d},(0,t.createElement)(bn.Provider,{children:a,value:{location:I,navigationType:s}}))}function Sn(e){var n=e.children,r=e.location;return function(e,n){Cn()||gn(!1);var r=(0,t.useContext)(wn).matches,i=r[r.length-1],a=i?i.params:{},o=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;0;var u,s=An();if(n){var c,l="string"===typeof n?mn(n):n;"/"===o||(null==(c=l.pathname)?void 0:c.startsWith(o))||gn(!1),u=l}else u=s;var f=u.pathname||"/",h="/"===o?f:f.slice(o.length)||"/",d=function(e,t,n){void 0===n&&(n="/");var r=Bn(("string"===typeof t?mn(t):t).pathname||"/",n);if(null==r)return null;var i=Dn(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=Un(i[o],r);return a}(e,{pathname:h});0;return jn(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:zn([o,e.pathname]),pathnameBase:"/"===e.pathnameBase?o:zn([o,e.pathnameBase])})})),r)}(Rn(n),r)}function Tn(e){Cn()||gn(!1);var n=(0,t.useContext)(kn),r=n.basename,i=n.navigator,a=Pn(e),o=a.hash,u=a.pathname,s=a.search,c=u;if("/"!==r){var l=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?mn(e).pathname:e.pathname}(e),f=null!=l&&l.endsWith("/");c="/"===u?r+(f?"/":""):zn([r,u])}return i.createHref({pathname:c,search:s,hash:o})}function Cn(){return null!=(0,t.useContext)(bn)}function An(){return Cn()||gn(!1),(0,t.useContext)(bn).location}function Nn(){Cn()||gn(!1);var e=(0,t.useContext)(kn),n=e.basename,r=e.navigator,i=(0,t.useContext)(wn).matches,a=An().pathname,o=JSON.stringify(i.map((function(e){return e.pathnameBase}))),u=(0,t.useRef)(!1);(0,t.useEffect)((function(){u.current=!0}));var s=(0,t.useCallback)((function(e,t){if(void 0===t&&(t={}),u.current)if("number"!==typeof e){var i=qn(e,JSON.parse(o),a);"/"!==n&&(i.pathname=zn([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state)}else r.go(e)}),[n,r,o,a]);return s}var On=(0,t.createContext)(null);function Pn(e){var n=(0,t.useContext)(wn).matches,r=An().pathname,i=JSON.stringify(n.map((function(e){return e.pathnameBase})));return(0,t.useMemo)((function(){return qn(e,JSON.parse(i),r)}),[e,i,r])}function Rn(e){var n=[];return t.Children.forEach(e,(function(e){if((0,t.isValidElement)(e))if(e.type!==t.Fragment){e.type!==En&&gn(!1);var r={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(r.children=Rn(e.props.children)),n.push(r)}else n.push.apply(n,Rn(e.props.children))})),n}function Dn(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var a={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(a.relativePath.startsWith(r)||gn(!1),a.relativePath=a.relativePath.slice(r.length));var o=zn([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(!0===e.index&&gn(!1),Dn(e.children,t,u,o)),(null!=e.path||e.index)&&t.push({path:o,score:Fn(o,e.index),routesMeta:u})})),t}var Ln=/^:\w+$/,Mn=function(e){return"*"===e};function Fn(e,t){var n=e.split("/"),r=n.length;return n.some(Mn)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!Mn(e)})).reduce((function(e,t){return e+(Ln.test(t)?3:""===t?1:10)}),r)}function Un(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=Vn({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},c);if(!l)return null;Object.assign(r,l.params);var f=u.route;a.push({params:r,pathname:zn([i,l.pathname]),pathnameBase:zn([i,l.pathnameBase]),route:f}),"/"!==l.pathnameBase&&(i=zn([i,l.pathnameBase]))}return a}function jn(e,n){return void 0===n&&(n=[]),null==e?null:e.reduceRight((function(r,i,a){return(0,t.createElement)(wn.Provider,{children:void 0!==i.route.element?i.route.element:(0,t.createElement)(_n,null),value:{outlet:r,matches:n.concat(e.slice(0,a+1))}})}),null)}function Vn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=Ae(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var u=o[0],s=u.replace(/(.)\/+$/,"$1"),c=o.slice(1),l=a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";s=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:l,pathname:u,pathnameBase:s,pattern:e}}function qn(e,t,n){var r,i="string"===typeof e?mn(e):e,a=""===e||""===i.pathname?"/":i.pathname;if(null==a)r=n;else{var o=t.length-1;if(a.startsWith("..")){for(var u=a.split("/");".."===u[0];)u.shift(),o-=1;i.pathname=u.join("/")}r=o>=0?t[o]:"/"}var s=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?mn(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,u=void 0===o?"":o,s=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:s,search:Wn(a),hash:Hn(u)}}(i,r);return a&&"/"!==a&&a.endsWith("/")&&!s.pathname.endsWith("/")&&(s.pathname+="/"),s}function Bn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var zn=function(e){return e.join("/").replace(/\/\/+/g,"/")},Kn=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},Wn=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},Hn=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function Gn(){return Gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gn.apply(this,arguments)}function Qn(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var $n=["onClick","reloadDocument","replace","state","target","to"];function Yn(e){var n=e.basename,r=e.children,i=e.window,a=(0,t.useRef)();null==a.current&&(a.current=function(e){function t(){var e=o.location,t=u.state||{};return[t.idx,hn({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:yn(e)}function r(e,t){return void 0===t&&(t=null),hn(f({pathname:h.pathname,hash:"",search:""},"string"===typeof e?mn(e):e,{state:t,key:vn()}))}function i(e){c=e,e=t(),l=e[0],h=e[1],d.call({action:c,location:h})}function a(e){u.go(e)}void 0===e&&(e={});var o=void 0===(e=e.window)?document.defaultView:e,u=o.history,s=null;o.addEventListener("popstate",(function(){if(s)p.call(s),s=null;else{var e=on.Pop,n=t(),r=n[0];if(n=n[1],p.length){if(null!=r){var o=l-r;o&&(s={action:e,location:n,retry:function(){a(-1*o)}},a(o))}}else i(e)}}));var c=on.Pop,l=(e=t())[0],h=e[1],d=pn(),p=pn();return null==l&&(l=0,u.replaceState(f({},u.state,{idx:l}),"")),{get action(){return c},get location(){return h},createHref:n,push:function e(t,a){var s=on.Push,c=r(t,a);if(!p.length||(p.call({action:s,location:c,retry:function(){e(t,a)}}),0)){var f=[{usr:c.state,key:c.key,idx:l+1},n(c)];c=f[0],f=f[1];try{u.pushState(c,"",f)}catch(rt){o.location.assign(f)}i(s)}},replace:function e(t,a){var o=on.Replace,s=r(t,a);p.length&&(p.call({action:o,location:s,retry:function(){e(t,a)}}),1)||(s=[{usr:s.state,key:s.key,idx:l},n(s)],u.replaceState(s[0],"",s[1]),i(o))},go:a,back:function(){a(-1)},forward:function(){a(1)},listen:function(e){return d.push(e)},block:function(e){var t=p.push(e);return 1===p.length&&o.addEventListener("beforeunload",dn),function(){t(),p.length||o.removeEventListener("beforeunload",dn)}}}}({window:i}));var o=a.current,u=Ae((0,t.useState)({action:o.action,location:o.location}),2),s=u[0],c=u[1];return(0,t.useLayoutEffect)((function(){return o.listen(c)}),[o]),(0,t.createElement)(In,{basename:n,children:r,location:s.location,navigationType:s.action,navigator:o})}var Jn=(0,t.forwardRef)((function(e,n){var r=e.onClick,i=e.reloadDocument,a=e.replace,o=void 0!==a&&a,u=e.state,s=e.target,c=e.to,l=Qn(e,$n),f=Tn(c),h=function(e,n){var r=void 0===n?{}:n,i=r.target,a=r.replace,o=r.state,u=Nn(),s=An(),c=Pn(e);return(0,t.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!a||yn(s)===yn(c);u(e,{replace:n,state:o})}}),[s,u,c,a,o,i,e])}(c,{replace:o,state:u,target:s});return(0,t.createElement)("a",Gn({},l,{href:f,onClick:function(e){r&&r(e),e.defaultPrevented||i||h(e)},ref:n,target:s}))}));function Xn(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Zn(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xn(a,r,i,o,u,"next",e)}function u(e){Xn(a,r,i,o,u,"throw",e)}o(void 0)}))}}var er=n(757),tr=n.n(er);function nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ir(e,t,n){return t&&rr(e.prototype,t),n&&rr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ar(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ye(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ur(e,t){return ur=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ur(e,t)}function sr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ur(e,t)}function cr(e){return cr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},cr(e)}function lr(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function fr(e){return fr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fr(e)}function hr(e,t){if(t&&("object"===fr(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return or(e)}function dr(e){var t=lr();return function(){var n,r=cr(e);if(t){var i=cr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hr(this,n)}}function pr(e,t,n){return pr=lr()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&ur(i,n.prototype),i},pr.apply(null,arguments)}function vr(e){var t="function"===typeof Map?new Map:void 0;return vr=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return pr(e,arguments,cr(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),ur(n,e)},vr(e)}var yr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},mr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(yr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},gr=function(e){var t=yr(e);return mr.encodeByteArray(t,!0)},kr=function(e){return gr(e).replace(/\./g,"")},br=function(e){try{return mr.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wr(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=wr(e[n],t[n]));return e}var xr=function(){function e(){var t=this;nr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return ir(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _r(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[kr(JSON.stringify({alg:"none",type:"JWT"})),kr(JSON.stringify(a)),""].join(".")}function Er(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ir(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function Sr(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Tr(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Cr(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Ar(){var e=Er();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Nr(){return"object"===typeof indexedDB}var Or=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(or(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(or(a),Pr.prototype.create),a}return ir(n)}(vr(Error)),Pr=function(){function e(t,n,r){nr(this,e),this.service=t,this.serviceName=n,this.errors=r}return ir(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Rr(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Or(n,a,t);return o}}]),e}();function Rr(e,t){return e.replace(Dr,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Dr=/\{\$([^}]+)}/g;function Lr(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mr(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Fr(u)&&Fr(s)){if(!Mr(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Fr(e){return null!==e&&"object"===typeof e}function Ur(e){for(var t=[],n=function(){var e=Ae(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function jr(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Ae(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Vr(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function qr(e,t){var n=new Br(e,t);return n.subscribe.bind(n)}var Br=function(){function e(t,n){var r=this;nr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return ir(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=ar(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=zr),void 0===r.error&&(r.error=zr),void 0===r.complete&&(r.complete=zr);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function zr(){}function Kr(e){return e&&e._delegate?e._delegate:e}var Wr=function(){function e(t,n,r){nr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ir(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Hr="[DEFAULT]",Gr=function(){function e(t,n){nr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return ir(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xr;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch(s){}var t,n=ar(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Ae(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Zn(er.mark((function e(){var t;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(me(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),me(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=ar(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Ae(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=ar(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Ek){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Hr?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Ek){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hr;return this.component?this.component.multipleInstances?e:Hr:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Qr,$r,Yr=function(){function e(t){nr(this,e),this.name=t,this.providers=new Map}return ir(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Gr(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Jr=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}($r||($r={}));var Xr={debug:$r.DEBUG,verbose:$r.VERBOSE,info:$r.INFO,warn:$r.WARN,error:$r.ERROR,silent:$r.SILENT},Zr=$r.INFO,ei=(Z(Qr={},$r.DEBUG,"log"),Z(Qr,$r.VERBOSE,"log"),Z(Qr,$r.INFO,"info"),Z(Qr,$r.WARN,"warn"),Z(Qr,$r.ERROR,"error"),Qr),ti=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ei[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},ni=function(){function e(t){nr(this,e),this.name=t,this._logLevel=Zr,this._logHandler=ti,this._userLogHandler=null,Jr.push(this)}return ir(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in $r))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Xr[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.DEBUG].concat(t)),this._logHandler.apply(this,[this,$r.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.VERBOSE].concat(t)),this._logHandler.apply(this,[this,$r.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.INFO].concat(t)),this._logHandler.apply(this,[this,$r.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.WARN].concat(t)),this._logHandler.apply(this,[this,$r.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,$r.ERROR].concat(t)),this._logHandler.apply(this,[this,$r.ERROR].concat(t))}}]),e}();var ri,ii,ai=n(753),oi=function(){function e(t){nr(this,e),this.container=t}return ir(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ui="@firebase/app",si="0.7.18",ci=new ni("@firebase/app"),li="[DEFAULT]",fi=(Z(ri={},ui,"fire-core"),Z(ri,"@firebase/app-compat","fire-core-compat"),Z(ri,"@firebase/analytics","fire-analytics"),Z(ri,"@firebase/analytics-compat","fire-analytics-compat"),Z(ri,"@firebase/app-check","fire-app-check"),Z(ri,"@firebase/app-check-compat","fire-app-check-compat"),Z(ri,"@firebase/auth","fire-auth"),Z(ri,"@firebase/auth-compat","fire-auth-compat"),Z(ri,"@firebase/database","fire-rtdb"),Z(ri,"@firebase/database-compat","fire-rtdb-compat"),Z(ri,"@firebase/functions","fire-fn"),Z(ri,"@firebase/functions-compat","fire-fn-compat"),Z(ri,"@firebase/installations","fire-iid"),Z(ri,"@firebase/installations-compat","fire-iid-compat"),Z(ri,"@firebase/messaging","fire-fcm"),Z(ri,"@firebase/messaging-compat","fire-fcm-compat"),Z(ri,"@firebase/performance","fire-perf"),Z(ri,"@firebase/performance-compat","fire-perf-compat"),Z(ri,"@firebase/remote-config","fire-rc"),Z(ri,"@firebase/remote-config-compat","fire-rc-compat"),Z(ri,"@firebase/storage","fire-gcs"),Z(ri,"@firebase/storage-compat","fire-gcs-compat"),Z(ri,"@firebase/firestore","fire-fst"),Z(ri,"@firebase/firestore-compat","fire-fst-compat"),Z(ri,"fire-js","fire-js"),Z(ri,"firebase","fire-js-all"),ri),hi=new Map,di=new Map;function pi(e,t){try{e.container.addComponent(t)}catch(n){ci.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function vi(e,t){e.container.addOrOverwriteComponent(t)}function yi(e){var t=e.name;if(di.has(t))return ci.debug("There were multiple attempts to register component ".concat(t,".")),!1;di.set(t,e);var n,r=ar(hi.values());try{for(r.s();!(n=r.n()).done;){pi(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function mi(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:li;mi(e,t).clearInstance(n)}function ki(){di.clear()}var bi=(Z(ii={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Z(ii,"bad-app-name","Illegal App name: '{$appName}"),Z(ii,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Z(ii,"app-deleted","Firebase App named '{$appName}' already deleted"),Z(ii,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Z(ii,"invalid-log-argument","First argument to `onLog` must be null or a function."),Z(ii,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Z(ii,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Z(ii,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Z(ii,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ii),wi=new Pr("app","Firebase",bi),xi=function(){function e(t,n,r){var i=this;nr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wr("app",(function(){return i}),"PUBLIC"))}return ir(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}]),e}(),_i="9.6.8";function Ei(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:li,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw wi.create("bad-app-name",{appName:String(i)});var a=hi.get(i);if(a){if(Mr(e,a.options)&&Mr(r,a.config))return a;throw wi.create("duplicate-app",{appName:i})}var o,u=new Yr(i),s=ar(di.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new xi(e,r,u);return hi.set(i,l),l}function Ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:li,t=hi.get(e);if(!t)throw wi.create("no-app",{appName:e});return t}function Si(){return Array.from(hi.values())}function Ti(e){return Ci.apply(this,arguments)}function Ci(){return Ci=Zn(er.mark((function e(t){var n;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!hi.has(n)){e.next=6;break}return hi.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ci.apply(this,arguments)}function Ai(e,t,n){var r,i=null!==(r=fi[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void ci.warn(u.join(" "))}yi(new Wr("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ni(e,t){if(null!==e&&"function"!==typeof e)throw wi.create("invalid-log-argument");!function(e,t){var n,r=ar(Jr);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Xr[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:$r[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Oi(e){var t;t=e,Jr.forEach((function(e){e.setLogLevel(t)}))}var Pi="firebase-heartbeat-store",Ri=null;function Di(){return Ri||(Ri=(0,ai.openDb)("firebase-heartbeat-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(Pi)})).catch((function(e){throw wi.create("storage-open",{originalErrorMessage:e.message})}))),Ri}function Li(e){return Mi.apply(this,arguments)}function Mi(){return Mi=Zn(er.mark((function e(t){var n;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Di();case 3:return n=e.sent,e.abrupt("return",n.transaction(Pi).objectStore(Pi).get(qi(t)));case 7:throw e.prev=7,e.t0=e.catch(0),wi.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Mi.apply(this,arguments)}function Fi(e,t){return Ui.apply(this,arguments)}function Ui(){return Ui=Zn(er.mark((function e(t,n){var r,i,a;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Di();case 3:return r=e.sent,i=r.transaction(Pi,"readwrite"),a=i.objectStore(Pi),e.next=8,a.put(n,qi(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),wi.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Ui.apply(this,arguments)}function ji(e){return Vi.apply(this,arguments)}function Vi(){return Vi=Zn(er.mark((function e(t){var n,r;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Di();case 3:return n=e.sent,r=n.transaction(Pi,"readwrite"),e.next=7,r.objectStore(Pi).delete(qi(t));case 7:return e.abrupt("return",r.complete);case 10:throw e.prev=10,e.t0=e.catch(0),wi.create("storage-delete",{originalErrorMessage:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),Vi.apply(this,arguments)}function qi(e){return"".concat(e.name,"!").concat(e.options.appId)}var Bi=function(){function e(t){var n=this;nr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Gi(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return ir(e,[{key:"triggerHeartbeat",value:function(){var e=Zn(er.mark((function e(){var t,n,r;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=zi(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(!this._heartbeatsCache.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.push({date:r,userAgent:n});case 12:return this._heartbeatsCache=this._heartbeatsCache.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Zn(er.mark((function e(){var t,n,r,i;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ki(this._heartbeatsCache),n=t.heartbeatsToSend,r=t.unsentEntries,i=gr(JSON.stringify({version:2,heartbeats:n})),!(r.length>0)){e.next=13;break}return this._heartbeatsCache=r,e.next=11,this._storage.overwrite(this._heartbeatsCache);case 11:e.next=15;break;case 13:this._heartbeatsCache=null,this._storage.deleteAll();case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function zi(){return(new Date).toISOString().substring(0,10)}function Ki(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=ar(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.userAgent===e.userAgent}));if(a){if(a.dates.push(e.date),Qi(r)>n)return a.dates.pop(),"break"}else if(r.push({userAgent:e.userAgent,dates:[e.date]}),Qi(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Wi,Hi,Gi=function(){function e(t){nr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return ir(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Zn(er.mark((function e(){return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nr()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Zn(er.mark((function e(){var t;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",[]);case 7:return e.next=9,Li(this.app);case 9:return t=e.sent,e.abrupt("return",(null===t||void 0===t?void 0:t.heartbeats)||[]);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Zn(er.mark((function e(t){return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",Fi(this.app,{heartbeats:t}));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Zn(er.mark((function e(t){var n;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Fi(this.app,{heartbeats:[].concat(me(n),me(t))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Zn(er.mark((function e(t){var n;return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return n=e.sent,e.abrupt("return",Fi(this.app,{heartbeats:n.filter((function(e){return!t.includes(e)}))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAll",value:function(){var e=Zn(er.mark((function e(){return er.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.abrupt("return",ji(this.app));case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Qi(e){return gr(JSON.stringify({version:2,heartbeats:e})).length}Wi="",yi(new Wr("platform-logger",(function(e){return new oi(e)}),"PRIVATE")),yi(new Wr("heartbeat",(function(e){return new Bi(e)}),"PRIVATE")),Ai(ui,si,Wi),Ai(ui,si,"esm2017"),Ai("fire-js","");var $i=function(){function e(t,n){var r=this;nr(this,e),this._delegate=t,this.firebase=n,pi(t,new Wr("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return ir(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Ti(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){pi(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){vi(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Yi=(Z(Hi={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Z(Hi,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Hi),Ji=new Pr("app-compat","Firebase",Yi);var Xi=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=Ei(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Lr(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Ai,setLogLevel:Oi,onLog:Ni,apps:null,SDK_VERSION:_i,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(yi(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ji.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&wr(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Lr(n,e=e||li))throw Ji.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}($i);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){wr(n,e)},createSubscribe:qr,ErrorFactory:Pr,deepExtend:wr}),n}(),Zi=new ni("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Zi.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ea=self.firebase.SDK_VERSION;ea&&ea.indexOf("LITE")>=0&&Zi.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var ta=Xi;!function(e){Ai("@firebase/app-compat","0.1.19",e)}();function na(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=cr(e)););return e}function ra(){return ra="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=na(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ra.apply(this,arguments)}ta.registerVersion("firebase","9.6.8","app-compat");var ia,aa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},oa={},ua=ua||{},sa=aa||self;function ca(){}function la(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function fa(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ha="closure_uid_"+(1e9*Math.random()>>>0),da=0;function pa(e,t,n){return e.call.apply(e.bind,arguments)}function va(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function ya(e,t,n){return(ya=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?pa:va).apply(null,arguments)}function ma(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function ga(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ka(){this.s=this.s,this.o=this.o}var ba={};ka.prototype.s=!1,ka.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,ha)&&e[ha]||(e[ha]=++da)}(this);delete ba[e]}},ka.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var wa=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},xa=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function _a(e){return Array.prototype.concat.apply([],arguments)}function Ea(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Ia(e){return/^[\s\xa0]*$/.test(e)}var Sa,Ta=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ca(e,t){return-1!=e.indexOf(t)}function Aa(e,t){return e<t?-1:e>t?1:0}e:{var Na=sa.navigator;if(Na){var Oa=Na.userAgent;if(Oa){Sa=Oa;break e}}Sa=""}function Pa(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Ra(e){var t={};for(var n in e)t[n]=e[n];return t}var Da="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function La(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Da.length;a++)n=Da[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ma(e){return Ma[" "](e),e}Ma[" "]=ca;var Fa,Ua=Ca(Sa,"Opera"),ja=Ca(Sa,"Trident")||Ca(Sa,"MSIE"),Va=Ca(Sa,"Edge"),qa=Va||ja,Ba=Ca(Sa,"Gecko")&&!(Ca(Sa.toLowerCase(),"webkit")&&!Ca(Sa,"Edge"))&&!(Ca(Sa,"Trident")||Ca(Sa,"MSIE"))&&!Ca(Sa,"Edge"),za=Ca(Sa.toLowerCase(),"webkit")&&!Ca(Sa,"Edge");function Ka(){var e=sa.document;return e?e.documentMode:void 0}e:{var Wa="",Ha=function(){var e=Sa;return Ba?/rv:([^\);]+)(\)|;)/.exec(e):Va?/Edge\/([\d\.]+)/.exec(e):ja?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):za?/WebKit\/(\S+)/.exec(e):Ua?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ha&&(Wa=Ha?Ha[1]:""),ja){var Ga=Ka();if(null!=Ga&&Ga>parseFloat(Wa)){Fa=String(Ga);break e}}Fa=Wa}var Qa,$a={};function Ya(){return function(e){var t=$a;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Ta(String(Fa)).split("."),n=Ta("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Aa(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Aa(0==a[2].length,0==o[2].length)||Aa(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(sa.document&&ja){var Ja=Ka();Qa=Ja||(parseInt(Fa,10)||void 0)}else Qa=void 0;var Xa=Qa,Za=function(){if(!sa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{sa.addEventListener("test",ca,t),sa.removeEventListener("test",ca,t)}catch(n){}return e}();function eo(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function to(e,t){if(eo.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Ba){e:{try{Ma(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:no[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&to.Z.h.call(this)}}eo.prototype.h=function(){this.defaultPrevented=!0},ga(to,eo);var no={2:"touch",3:"pen",4:"mouse"};to.prototype.h=function(){to.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ro="closure_listenable_"+(1e6*Math.random()|0),io=0;function ao(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++io,this.ca=this.fa=!1}function oo(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function uo(e){this.src=e,this.g={},this.h=0}function so(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=wa(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(oo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function co(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}uo.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=co(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new ao(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var lo="closure_lm_"+(1e6*Math.random()|0),fo={};function ho(e,t,n,r,i){if(r&&r.once)return vo(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)ho(e,t[a],n,r,i);return null}return n=xo(n),e&&e[ro]?e.N(t,n,fa(r)?!!r.capture:!!r,i):po(e,t,n,!1,r,i)}function po(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=fa(i)?!!i.capture:!!i,u=bo(e);if(u||(e[lo]=u=new uo(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ko;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Za||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(go(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function vo(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)vo(e,t[a],n,r,i);return null}return n=xo(n),e&&e[ro]?e.O(t,n,fa(r)?!!r.capture:!!r,i):po(e,t,n,!0,r,i)}function yo(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)yo(e,t[a],n,r,i);else r=fa(r)?!!r.capture:!!r,n=xo(n),e&&e[ro]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=co(a=e.g[t],n,r,i))&&(oo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=bo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=co(t,n,r,i)),(n=-1<e?t[e]:null)&&mo(n))}function mo(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ro])so(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(go(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=bo(t))?(so(n,e),0==n.h&&(n.src=null,t[lo]=null)):oo(e)}}}function go(e){return e in fo?fo[e]:fo[e]="on"+e}function ko(e,t){if(e.ca)e=!0;else{t=new to(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&mo(e),e=n.call(r,t)}return e}function bo(e){return(e=e[lo])instanceof uo?e:null}var wo="__closure_events_fn_"+(1e9*Math.random()>>>0);function xo(e){return"function"===typeof e?e:(e[wo]||(e[wo]=function(t){return e.handleEvent(t)}),e[wo])}function _o(){ka.call(this),this.i=new uo(this),this.P=this,this.I=null}function Eo(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new eo(t,e);else if(t instanceof eo)t.target=t.target||e;else{var i=t;La(t=new eo(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Io(o,r,!0,t)&&i}if(i=Io(o=t.g=e,r,!0,t)&&i,i=Io(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Io(o=t.g=n[a],r,!1,t)&&i}function Io(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&so(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}ga(_o,ka),_o.prototype[ro]=!0,_o.prototype.removeEventListener=function(e,t,n,r){yo(this,e,t,n,r)},_o.prototype.M=function(){if(_o.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oo(n[r]);delete t.g[e],t.h--}}this.I=null},_o.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},_o.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var So=sa.JSON.stringify;function To(){var e=Lo,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Co,Ao=function(){function e(){nr(this,e),this.h=this.g=null}return ir(e,[{key:"add",value:function(e,t){var n=No.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),No=new(function(){function e(t,n){nr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return ir(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Oo}),(function(e){return e.reset()})),Oo=function(){function e(){nr(this,e),this.next=this.g=this.h=null}return ir(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Po(e){sa.setTimeout((function(){throw e}),0)}function Ro(e,t){Co||function(){var e=sa.Promise.resolve(void 0);Co=function(){e.then(Mo)}}(),Do||(Co(),Do=!0),Lo.add(e,t)}var Do=!1,Lo=new Ao;function Mo(){for(var e;e=To();){try{e.h.call(e.g)}catch(n){Po(n)}var t=No;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Do=!1}function Fo(e,t){_o.call(this),this.h=e||1,this.g=t||sa,this.j=ya(this.kb,this),this.l=Date.now()}function Uo(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function jo(e,t,n){if("function"===typeof e)n&&(e=ya(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=ya(e.handleEvent,e)}return 2147483647<Number(t)?-1:sa.setTimeout(e,t||0)}function Vo(e){e.g=jo((function(){e.g=null,e.i&&(e.i=!1,Vo(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}ga(Fo,_o),(ia=Fo.prototype).da=!1,ia.S=null,ia.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Eo(this,"tick"),this.da&&(Uo(this),this.start()))}},ia.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ia.M=function(){Fo.Z.M.call(this),Uo(this),delete this.g};var qo=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return ir(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Vo(this)}},{key:"M",value:function(){ra(cr(n.prototype),"M",this).call(this),this.g&&(sa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ka);function Bo(e){ka.call(this),this.h=e,this.g={}}ga(Bo,ka);var zo=[];function Ko(e,t,n,r){Array.isArray(n)||(n&&(zo[0]=n.toString()),n=zo);for(var i=0;i<n.length;i++){var a=ho(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Wo(e){Pa(e.g,(function(e,t){this.g.hasOwnProperty(t)&&mo(e)}),e),e.g={}}function Ho(){this.g=!0}function Go(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return So(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Bo.prototype.M=function(){Bo.Z.M.call(this),Wo(this)},Bo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ho.prototype.Aa=function(){this.g=!1},Ho.prototype.info=function(){};var Qo={},$o=null;function Yo(){return $o=$o||new _o}function Jo(e){eo.call(this,Qo.Ma,e)}function Xo(e){var t=Yo();Eo(t,new Jo(t,e))}function Zo(e,t){eo.call(this,Qo.STAT_EVENT,e),this.stat=t}function eu(e){var t=Yo();Eo(t,new Zo(t,e))}function tu(e,t){eo.call(this,Qo.Na,e),this.size=t}function nu(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return sa.setTimeout((function(){e()}),t)}Qo.Ma="serverreachability",ga(Jo,eo),Qo.STAT_EVENT="statevent",ga(Zo,eo),Qo.Na="timingevent",ga(tu,eo);var ru={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},iu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function au(){}function ou(e){return e.h||(e.h=e.i())}function uu(){}au.prototype.h=null;var su,cu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function lu(){eo.call(this,"d")}function fu(){eo.call(this,"c")}function hu(){}function du(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Bo(this),this.P=vu,e=qa?125:void 0,this.W=new Fo(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new pu}function pu(){this.i=null,this.g="",this.h=!1}ga(lu,eo),ga(fu,eo),ga(hu,au),hu.prototype.g=function(){return new XMLHttpRequest},hu.prototype.i=function(){return{}},su=new hu;var vu=45e3,yu={},mu={};function gu(e,t,n){e.K=1,e.v=qu(Lu(t)),e.s=n,e.U=!0,ku(e,null)}function ku(e,t){e.F=Date.now(),_u(e),e.A=Lu(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),es(n.h,"t",r),e.C=0,n=e.l.H,e.h=new pu,e.g=nc(e.l,n?t:null,!e.s),0<e.O&&(e.L=new qo(ya(e.Ia,e,e.g),e.O)),Ko(e.V,e.g,"readystatechange",e.gb),t=e.H?Ra(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Xo(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function bu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function wu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=xu(e,n))==mu){4==t&&(e.o=4,eu(14),i=!1),Go(e.j,e.m,null,"[Incomplete Response]");break}if(r==yu){e.o=4,eu(15),Go(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Go(e.j,e.m,r,null),Cu(e,r)}bu(e)&&r!=mu&&r!=yu&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,eu(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Qs(t),t.L=!0,eu(11))):(Go(e.j,e.m,n,"[Invalid Chunked Response]"),Tu(e),Su(e))}function xu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?mu:(n=Number(t.substring(n,r)),isNaN(n)?yu:(r+=1)+n>t.length?mu:(t=t.substr(r,n),e.C=r+n,t))}function _u(e){e.Y=Date.now()+e.P,Eu(e,e.P)}function Eu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=nu(ya(e.eb,e),t)}function Iu(e){e.B&&(sa.clearTimeout(e.B),e.B=null)}function Su(e){0==e.l.G||e.I||Js(e.l,e)}function Tu(e){Iu(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Uo(e.W),Wo(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Cu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||ss(n.i,e)))if(n.I=e.N,!e.J&&ss(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ys(n),js(n)}Gs(n),eu(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=nu(ya(n.ab,n),6e3));if(1>=us(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Zs(n,11)}else if((e.J||n.g==e)&&Ys(n),!Ia(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Ca(l,"spdy")||Ca(l,"quic")||Ca(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(cs(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Vu(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=tc(r,r.H?r.la:null,r.W),d.J){ls(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Iu(p),_u(p)),r.g=d}else Hs(r);0<n.l.length&&Bs(n)}else"stop"!=a[0]&&"close"!=a[0]||Zs(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Zs(n,7):Us(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Xo(4)}catch(a){}}function Au(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(la(e)||"string"===typeof e)xa(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(la(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(la(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Nu(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nu)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Ou(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Pu(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Pu(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Pu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(ia=du.prototype).setTimeout=function(e){this.P=e},ia.gb=function(e){e=e.target;var t=this.L;t&&3==Rs(e)?t.l():this.Ia(e)},ia.Ia=function(e){try{if(e==this.g)e:{var t=Rs(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||qa||this.g&&(this.h.h||this.g.ga()||Ds(this.g)))){this.I||4!=t||7==n||Xo(8==n||0>=r?3:2),Iu(this);var i=this.g.ba();this.N=i;t:if(bu(this)){var a=Ds(this.g);e="";var o=a.length,u=4==Rs(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Tu(this),Su(this);var s="";break t}this.h.i=new sa.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ia(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,eu(12),Tu(this),Su(this);break e}Go(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Cu(this,i)}this.U?(wu(this,t,s),qa&&this.i&&3==t&&(Ko(this.V,this.W,"tick",this.fb),this.W.start())):(Go(this.j,this.m,s,null),Cu(this,s)),4==t&&Tu(this),this.i&&!this.I&&(4==t?Js(this.l,this):(this.i=!1,_u(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,eu(12)):(this.o=0,eu(13)),Tu(this),Su(this)}}}catch(t){}},ia.fb=function(){if(this.g){var e=Rs(this.g),t=this.g.ga();this.C<t.length&&(Iu(this),wu(this,e,t),this.i&&4!=e&&_u(this))}},ia.cancel=function(){this.I=!0,Tu(this)},ia.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Xo(3),eu(17)),Tu(this),this.o=2,Su(this)):Eu(this,this.Y-e)},(ia=Nu.prototype).R=function(){Ou(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},ia.T=function(){return Ou(this),this.g.concat()},ia.get=function(e,t){return Pu(this.h,e)?this.h[e]:t},ia.set=function(e,t){Pu(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},ia.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Ru=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Du(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Du){this.g=void 0!==t?t:e.g,Mu(this,e.j),this.s=e.s,Fu(this,e.i),Uu(this,e.m),this.l=e.l,t=e.h;var n=new Yu;n.i=t.i,t.g&&(n.g=new Nu(t.g),n.h=t.h),ju(this,n),this.o=e.o}else e&&(n=String(e).match(Ru))?(this.g=!!t,Mu(this,n[1]||"",!0),this.s=Bu(n[2]||""),Fu(this,n[3]||"",!0),Uu(this,n[4]),this.l=Bu(n[5]||"",!0),ju(this,n[6]||"",!0),this.o=Bu(n[7]||"")):(this.g=!!t,this.h=new Yu(null,this.g))}function Lu(e){return new Du(e)}function Mu(e,t,n){e.j=n?Bu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Fu(e,t,n){e.i=n?Bu(t,!0):t}function Uu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function ju(e,t,n){t instanceof Yu?(e.h=t,function(e,t){t&&!e.j&&(Ju(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Xu(this,t),es(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=zu(t,Qu)),e.h=new Yu(t,e.g))}function Vu(e,t,n){e.h.set(t,n)}function qu(e){return Vu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Bu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zu(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ku),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ku(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Du.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zu(t,Wu,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zu(t,Wu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(zu(n,"/"==n.charAt(0)?Gu:Hu,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zu(n,$u)),e.join("")};var Wu=/[#\/\?@]/g,Hu=/[#\?:]/g,Gu=/[#\?]/g,Qu=/[#\?@]/g,$u=/#/g;function Yu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ju(e){e.g||(e.g=new Nu,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Xu(e,t){Ju(e),t=ts(e,t),Pu(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Pu((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Ou(e)))}function Zu(e,t){return Ju(e),t=ts(e,t),Pu(e.g.h,t)}function es(e,t,n){Xu(e,t),0<n.length&&(e.i=null,e.g.set(ts(e,t),Ea(n)),e.h+=n.length)}function ts(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(ia=Yu.prototype).add=function(e,t){Ju(this),this.i=null,e=ts(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},ia.forEach=function(e,t){Ju(this),this.g.forEach((function(n,r){xa(n,(function(n){e.call(t,n,r,this)}),this)}),this)},ia.T=function(){Ju(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},ia.R=function(e){Ju(this);var t=[];if("string"===typeof e)Zu(this,e)&&(t=_a(t,this.g.get(ts(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=_a(t,e[n])}return t},ia.set=function(e,t){return Ju(this),this.i=null,Zu(this,e=ts(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},ia.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},ia.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ns=ir((function e(t,n){nr(this,e),this.h=t,this.g=n}));function rs(e){this.l=e||as,sa.PerformanceNavigationTiming?e=0<(e=sa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(sa.g&&sa.g.Ea&&sa.g.Ea()&&sa.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var is,as=10;function os(e){return!!e.h||!!e.g&&e.g.size>=e.j}function us(e){return e.h?1:e.g?e.g.size:0}function ss(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function cs(e,t){e.g?e.g.add(t):e.h=t}function ls(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function fs(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=ar(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Ea(e.i)}function hs(){}function ds(){this.g=new hs}function ps(e,t,n){var r=n||"";try{Au(e,(function(e,n){var i=e;fa(e)&&(i=So(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function vs(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function ys(e){this.l=e.$b||null,this.j=e.ib||!1}function ms(e,t){_o.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=gs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rs.prototype.cancel=function(){if(this.i=fs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=ar(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},hs.prototype.stringify=function(e){return sa.JSON.stringify(e,void 0)},hs.prototype.parse=function(e){return sa.JSON.parse(e,void 0)},ga(ys,au),ys.prototype.g=function(){return new ms(this.l,this.j)},ys.prototype.i=(is={},function(){return is}),ga(ms,_o);var gs=0;function ks(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function bs(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ws(e)}function ws(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(ia=ms.prototype).open=function(e,t){if(this.readyState!=gs)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ws(this)},ia.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||sa).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},ia.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,bs(this)),this.readyState=gs},ia.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ws(this)),this.g&&(this.readyState=3,ws(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof sa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ks(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},ia.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?bs(this):ws(this),3==this.readyState&&ks(this)}},ia.Ua=function(e){this.g&&(this.response=this.responseText=e,bs(this))},ia.Ta=function(e){this.g&&(this.response=e,bs(this))},ia.ha=function(){this.g&&bs(this)},ia.setRequestHeader=function(e,t){this.v.append(e,t)},ia.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},ia.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ms.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var xs=sa.JSON.parse;function _s(e){_o.call(this),this.headers=new Nu,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Es,this.K=this.L=!1}ga(_s,_o);var Es="",Is=/^https?$/i,Ss=["POST","PUT"];function Ts(e){return"content-type"==e.toLowerCase()}function Cs(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,As(e),Os(e)}function As(e){e.D||(e.D=!0,Eo(e,"complete"),Eo(e,"error"))}function Ns(e){if(e.h&&"undefined"!=typeof ua&&(!e.C[1]||4!=Rs(e)||2!=e.ba()))if(e.v&&4==Rs(e))jo(e.Fa,0,e);else if(Eo(e,"readystatechange"),4==Rs(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Ru)[1]||null;if(!a&&sa.self&&sa.self.location){var o=sa.self.location.protocol;a=o.substr(0,o.length-1)}i=!Is.test(a?a.toLowerCase():"")}t=i}if(t)Eo(e,"complete"),Eo(e,"success");else{e.m=6;try{var u=2<Rs(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",As(e)}}finally{Os(e)}}}function Os(e,t){if(e.g){Ps(e);var n=e.g,r=e.C[0]?ca:null;e.g=null,e.C=null,t||Eo(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ps(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(sa.clearTimeout(e.A),e.A=null)}function Rs(e){return e.g?e.g.readyState:0}function Ds(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Es:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Be){return null}}function Ls(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Pa(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Vu(e,t,n))}function Ms(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Fs(e){this.za=0,this.l=[],this.h=new Ho,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ms("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ms("baseRetryDelayMs",5e3,e),this.$a=Ms("retryDelaySeedMs",1e4,e),this.Ya=Ms("forwardChannelMaxRetries",2,e),this.ra=Ms("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new rs(e&&e.concurrentRequestLimit),this.Ca=new ds,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Us(e){if(Vs(e),3==e.G){var t=e.V++,n=Lu(e.F);Vu(n,"SID",e.J),Vu(n,"RID",t),Vu(n,"TYPE","terminate"),Ks(e,n),(t=new du(e,e.h,t,void 0)).K=2,t.v=qu(Lu(n)),n=!1,sa.navigator&&sa.navigator.sendBeacon&&(n=sa.navigator.sendBeacon(t.v.toString(),"")),!n&&sa.Image&&((new Image).src=t.v,n=!0),n||(t.g=nc(t.l,null),t.g.ea(t.v)),t.F=Date.now(),_u(t)}ec(e)}function js(e){e.g&&(Qs(e),e.g.cancel(),e.g=null)}function Vs(e){js(e),e.u&&(sa.clearTimeout(e.u),e.u=null),Ys(e),e.i.cancel(),e.m&&("number"===typeof e.m&&sa.clearTimeout(e.m),e.m=null)}function qs(e,t){e.l.push(new ns(e.Za++,t)),3==e.G&&Bs(e)}function Bs(e){os(e.i)||e.m||(e.m=!0,Ro(e.Ha,e),e.C=0)}function zs(e,t){var n;n=t?t.m:e.V++;var r=Lu(e.F);Vu(r,"SID",e.J),Vu(r,"RID",n),Vu(r,"AID",e.U),Ks(e,r),e.o&&e.s&&Ls(r,e.o,e.s),n=new du(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Ws(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),cs(e.i,n),gu(n,r,t)}function Ks(e,t){e.j&&Au({},(function(e,n){Vu(t,n,e)}))}function Ws(e,t,n){n=Math.min(e.l.length,n);var r=e.j?ya(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{ps(l,o,"req"+c+"_")}catch(rt){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Hs(e){e.g||e.u||(e.Y=1,Ro(e.Ga,e),e.A=0)}function Gs(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=nu(ya(e.Ga,e),Xs(e,e.A)),e.A++,!0)}function Qs(e){null!=e.B&&(sa.clearTimeout(e.B),e.B=null)}function $s(e){e.g=new du(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Lu(e.oa);Vu(t,"RID","rpc"),Vu(t,"SID",e.J),Vu(t,"CI",e.N?"0":"1"),Vu(t,"AID",e.U),Ks(e,t),Vu(t,"TYPE","xmlhttp"),e.o&&e.s&&Ls(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=qu(Lu(t)),n.s=null,n.U=!0,ku(n,e)}function Ys(e){null!=e.v&&(sa.clearTimeout(e.v),e.v=null)}function Js(e,t){var n=null;if(e.g==t){Ys(e),Qs(e),e.g=null;var r=2}else{if(!ss(e.i,t))return;n=t.D,ls(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Eo(r=Yo(),new tu(r,n,t,i)),Bs(e)}else Hs(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(us(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=nu(ya(e.Ha,e,t),Xs(e,e.C)),e.C++,!0))}(e,t)||2==r&&Gs(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Zs(e,5);break;case 4:Zs(e,10);break;case 3:Zs(e,6);break;default:Zs(e,2)}}function Xs(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Zs(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=ya(e.jb,e);n||(n=new Du("//www.google.com/images/cleardot.gif"),sa.location&&"http"==sa.location.protocol||Mu(n,"https"),qu(n)),function(e,t){var n=new Ho;if(sa.Image){var r=new Image;r.onload=ma(vs,n,r,"TestLoadImage: loaded",!0,t),r.onerror=ma(vs,n,r,"TestLoadImage: error",!1,t),r.onabort=ma(vs,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=ma(vs,n,r,"TestLoadImage: timeout",!1,t),sa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else eu(2);e.G=0,e.j&&e.j.va(t),ec(e),Vs(e)}function ec(e){e.G=0,e.I=-1,e.j&&(0==fs(e.i).length&&0==e.l.length||(e.i.i.length=0,Ea(e.l),e.l.length=0),e.j.ua())}function tc(e,t,n){var r=function(e){return e instanceof Du?Lu(e):new Du(e,void 0)}(n);if(""!=r.i)t&&Fu(r,t+"."+r.i),Uu(r,r.m);else{var i=sa.location;r=function(e,t,n,r){var i=new Du(null,void 0);return e&&Mu(i,e),t&&Fu(i,t),n&&Uu(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Pa(e.aa,(function(e,t){Vu(r,t,e)})),t=e.D,n=e.sa,t&&n&&Vu(r,t,n),Vu(r,"VER",e.ma),Ks(e,r),r}function nc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new _s(new ys({ib:!0})):new _s(e.qa)).L=e.H,t}function rc(){}function ic(){if(ja&&!(10<=Number(Xa)))throw Error("Environmental error: no available transport.")}function ac(e,t){_o.call(this),this.g=new Fs(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Ia(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ia(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new sc(this)}function oc(e){lu.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function uc(){fu.call(this),this.status=1}function sc(e){this.g=e}(ia=_s.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():su.g(),this.C=this.u?ou(this.u):ou(su),this.g.onreadystatechange=ya(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void Cs(this,a)}e=n||"";var i=new Nu(this.headers);r&&Au(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ts,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=sa.FormData&&e instanceof sa.FormData,!(0<=wa(Ss,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ps(this),0<this.B&&((this.K=function(e){return ja&&Ya()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ya(this.pa,this)):this.A=jo(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){Cs(this,a)}},ia.pa=function(){"undefined"!=typeof ua&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Eo(this,"timeout"),this.abort(8))},ia.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Eo(this,"complete"),Eo(this,"abort"),Os(this))},ia.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Os(this,!0)),_s.Z.M.call(this)},ia.Fa=function(){this.s||(this.F||this.v||this.l?Ns(this):this.cb())},ia.cb=function(){Ns(this)},ia.ba=function(){try{return 2<Rs(this)?this.g.status:-1}catch(is){return-1}},ia.ga=function(){try{return this.g?this.g.responseText:""}catch(is){return""}},ia.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),xs(t)}},ia.Da=function(){return this.m},ia.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(ia=Fs.prototype).ma=8,ia.G=1,ia.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Be){}},ia.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new du(this,this.h,e,void 0),n=this.s;if(this.P&&(n?La(n=Ra(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Ws(this,t,r),Vu(i=Lu(this.F),"RID",e),Vu(i,"CVER",22),this.D&&Vu(i,"X-HTTP-Session-Id",this.D),Ks(this,i),this.o&&n&&Ls(i,this.o,n),cs(this.i,t),this.Ra&&Vu(i,"TYPE","init"),this.ja?(Vu(i,"$req",r),Vu(i,"SID","null"),t.$=!0,gu(t,i,null)):gu(t,i,r),this.G=2}}else 3==this.G&&(e?zs(this,e):0==this.l.length||os(this.i)||zs(this))},ia.Ga=function(){if(this.u=null,$s(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=nu(ya(this.bb,this),e)}},ia.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,eu(10),js(this),$s(this))},ia.ab=function(){null!=this.v&&(this.v=null,js(this),Gs(this),eu(19))},ia.jb=function(e){e?(this.h.info("Successfully pinged google.com"),eu(2)):(this.h.info("Failed to ping google.com"),eu(1))},(ia=rc.prototype).xa=function(){},ia.wa=function(){},ia.va=function(){},ia.ua=function(){},ia.Oa=function(){},ic.prototype.g=function(e,t){return new ac(e,t)},ga(ac,_o),ac.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Ro(ya(e.hb,e,t))),eu(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=tc(e,null,e.W),Bs(e)},ac.prototype.close=function(){Us(this.g)},ac.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,qs(this.g,t)}else this.v?((t={}).__data__=So(e),qs(this.g,t)):qs(this.g,e)},ac.prototype.M=function(){this.g.j=null,delete this.j,Us(this.g),delete this.g,ac.Z.M.call(this)},ga(oc,lu),ga(uc,fu),ga(sc,rc),sc.prototype.xa=function(){Eo(this.g,"a")},sc.prototype.wa=function(e){Eo(this.g,new oc(e))},sc.prototype.va=function(e){Eo(this.g,new uc(e))},sc.prototype.ua=function(){Eo(this.g,"b")},ic.prototype.createWebChannel=ic.prototype.g,ac.prototype.send=ac.prototype.u,ac.prototype.open=ac.prototype.m,ac.prototype.close=ac.prototype.close,ru.NO_ERROR=0,ru.TIMEOUT=8,ru.HTTP_ERROR=6,iu.COMPLETE="complete",uu.EventType=cu,cu.OPEN="a",cu.CLOSE="b",cu.ERROR="c",cu.MESSAGE="d",_o.prototype.listen=_o.prototype.N,_s.prototype.listenOnce=_s.prototype.O,_s.prototype.getLastError=_s.prototype.La,_s.prototype.getLastErrorCode=_s.prototype.Da,_s.prototype.getStatus=_s.prototype.ba,_s.prototype.getResponseJson=_s.prototype.Qa,_s.prototype.getResponseText=_s.prototype.ga,_s.prototype.send=_s.prototype.ea;var cc=oa.createWebChannelTransport=function(){return new ic},lc=oa.getStatEventTarget=function(){return Yo()},fc=oa.ErrorCode=ru,hc=oa.EventType=iu,dc=oa.Event=Qo,pc=oa.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},vc=oa.FetchXmlHttpFactory=ys,yc=oa.WebChannel=uu,mc=oa.XhrIo=_s,gc="@firebase/firestore",kc=function(){function e(t){nr(this,e),this.uid=t}return ir(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();kc.UNAUTHENTICATED=new kc(null),kc.GOOGLE_CREDENTIALS=new kc("google-credentials-uid"),kc.FIRST_PARTY=new kc("first-party-uid"),kc.MOCK_USER=new kc("mock-user");var bc="9.6.7",wc=new ni("@firebase/firestore");function xc(){return wc.logLevel}function _c(e){if(wc.logLevel<=$r.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sc);wc.debug.apply(wc,["Firestore (".concat(bc,"): ").concat(e)].concat(me(i)))}}function Ec(e){if(wc.logLevel<=$r.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sc);wc.error.apply(wc,["Firestore (".concat(bc,"): ").concat(e)].concat(me(i)))}}function Ic(e){if(wc.logLevel<=$r.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Sc);wc.warn.apply(wc,["Firestore (".concat(bc,"): ").concat(e)].concat(me(i)))}}function Sc(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Tc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(bc,") INTERNAL ASSERTION FAILED: ")+e;throw Ec(t),new Error(t)}function Cc(e,t){e||Tc()}function Ac(e,t){return e}var Nc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Oc=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return ir(n)}(Or),Pc=ir((function e(){var t=this;nr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Rc=ir((function e(t,n){nr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),Dc=function(){function e(){nr(this,e)}return ir(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),Lc=function(){function e(t){nr(this,e),this.token=t,this.changeListener=null}return ir(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Mc=function(){function e(t){nr(this,e),this.t=t,this.currentUser=kc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return ir(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new Pc;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new Pc,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){_c("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(_c("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Pc)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(_c("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Cc("string"==typeof n.accessToken),new Rc(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Cc(null===e||"string"==typeof e),new kc(e)}}]),e}(),Fc=ir((function e(t,n,r){nr(this,e),this.type="FirstParty",this.user=kc.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Uc=function(){function e(t,n,r){nr(this,e),this.h=t,this.l=n,this.m=r}return ir(e,[{key:"getToken",value:function(){return Promise.resolve(new Fc(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(kc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),jc=ir((function e(t){nr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Vc=function(){function e(t){nr(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return ir(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&_c("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,_c("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){_c("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):_c("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Cc("string"==typeof t.token),e.p=t.token,new jc(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),qc=function(){function e(t,n){var r=this;nr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return ir(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Bc(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}qc.A=-1;var zc=function(){function e(){nr(this,e)}return ir(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Bc(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Kc(e,t){return e<t?-1:e>t?1:0}function Wc(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Hc(e){return e+"\0"}var Gc=function(){function e(t,n){if(nr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Oc(Nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Oc(Nc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Oc(Nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Oc(Nc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return ir(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Kc(this.nanoseconds,e.nanoseconds):Kc(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),Qc=function(){function e(t){nr(this,e),this.timestamp=t}return ir(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Gc(0,0))}}]),e}();function $c(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Yc(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Jc(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Xc=function(){function e(t,n,r){nr(this,e),void 0===n?n=0:n>t.length&&Tc(),void 0===r?r=t.length-n:r>t.length-n&&Tc(),this.segments=t,this.offset=n,this.len=r}return ir(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Zc=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.apply(this,arguments)}return ir(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,me(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xc),el=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tl=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.apply(this,arguments)}return ir(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return el.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Oc(Nc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Oc(Nc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Oc(Nc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Xc),nl=function(){function e(t){nr(this,e),this.fields=t,t.sort(tl.comparator)}return ir(e,[{key:"covers",value:function(e){var t,n=ar(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Wc(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var rl=function(e){function t(e){nr(this,t),this.binaryString=e}return ir(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Kc(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();rl.EMPTY_BYTE_STRING=new rl("");var il=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function al(e){if(Cc(!!e),"string"==typeof e){var t=0,n=il.exec(e);if(Cc(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ol(e.seconds),nanos:ol(e.nanos)}}function ol(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ul(e){return"string"==typeof e?rl.fromBase64String(e):rl.fromUint8Array(e)}function sl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function cl(e){var t=e.mapValue.fields.__previous_value__;return sl(t)?cl(t):t}function ll(e){var t=al(e.mapValue.fields.__local_write_time__.timestampValue);return new Gc(t.seconds,t.nanos)}var fl=ir((function e(t,n,r,i,a,o,u,s){nr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),hl=function(){function e(t,n){nr(this,e),this.projectId=t,this.database=n||"(default)"}return ir(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function dl(e){return null==e}function pl(e){return 0===e&&1/e==-1/0}function vl(e){return"number"==typeof e&&Number.isInteger(e)&&!pl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var yl=function(){function e(t){nr(this,e),this.path=t}return ir(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Zc.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Zc.fromString(t))}},{key:"fromName",value:function(t){return new e(Zc.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Zc.emptyPath())}},{key:"comparator",value:function(e,t){return Zc.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Zc(t.slice()))}}]),e}(),ml={mapValue:{fields:{__type__:{stringValue:"__max___"}}}};function gl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sl(e)?4:10:Tc()}function kl(e,t){if(e===t)return!0;var n=gl(e);if(n!==gl(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ll(e).isEqual(ll(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=al(e.timestampValue),r=al(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ul(e.bytesValue).isEqual(ul(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ol(e.geoPointValue.latitude)===ol(t.geoPointValue.latitude)&&ol(e.geoPointValue.longitude)===ol(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ol(e.integerValue)===ol(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ol(e.doubleValue),r=ol(t.doubleValue);return n===r?pl(n)===pl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Wc(e.arrayValue.values||[],t.arrayValue.values||[],kl);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if($c(n)!==$c(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!kl(n[i],r[i])))return!1;return!0}(e,t);default:return Tc()}}function bl(e,t){return void 0!==(e.values||[]).find((function(e){return kl(e,t)}))}function wl(e,t){if(e===t)return 0;var n=gl(e),r=gl(t);if(n!==r)return Kc(n,r);switch(n){case 0:return 0;case 1:return Kc(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ol(e.integerValue||e.doubleValue),r=ol(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return xl(e.timestampValue,t.timestampValue);case 4:return xl(ll(e),ll(t));case 5:return Kc(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ul(e),r=ul(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Kc(n[i],r[i]);if(0!==a)return a}return Kc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Kc(ol(e.latitude),ol(t.latitude));return 0!==n?n:Kc(ol(e.longitude),ol(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=wl(n[i],r[i]);if(a)return a}return Kc(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Kc(r[o],a[o]);if(0!==u)return u;var s=wl(n[r[o]],i[a[o]]);if(0!==s)return s}return Kc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Tc()}}function xl(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Kc(e,t);var n=al(e),r=al(t),i=Kc(n.seconds,r.seconds);return 0!==i?i:Kc(n.nanos,r.nanos)}function _l(e){return El(e)}function El(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=al(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ul(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,yl.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=ar(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=El(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=ar(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(El(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Tc();var t,n}function Il(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Sl(e){return!!e&&"integerValue"in e}function Tl(e){return!!e&&"arrayValue"in e}function Cl(e){return!!e&&"nullValue"in e}function Al(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Nl(e){return!!e&&"mapValue"in e}function Ol(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Yc(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ol(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ol(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Pl=function(){function e(t){nr(this,e),this.value=t}return ir(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Nl(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(t)}},{key:"setAll",value:function(e){var t=this,n=tl.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Ol(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Nl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return kl(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Nl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Yc(t,(function(t,n){return e[t]=n}));var r,i=ar(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Ol(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Rl(e){var t=[];return Yc(e.fields,(function(e,n){var r=new tl([e]);if(Nl(n)){var i=Rl(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=ar(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new nl(t)}var Dl=function(){function e(t,n,r,i,a,o){nr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return ir(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Pl.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Pl.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,Qc.min(),Qc.min(),Pl.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,Qc.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Qc.min(),Pl.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Qc.min(),Pl.empty(),2)}}]),e}(),Ll=ir((function e(t,n,r,i){nr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Ll.UNKNOWN_ID=-1;var Ml=ir((function e(t,n){nr(this,e),this.fieldPath=t,this.kind=n})),Fl=function(){function e(t,n){nr(this,e),this.sequenceNumber=t,this.offset=n}return ir(e,null,[{key:"empty",value:function(){return new e(0,Ul.min())}}]),e}(),Ul=function(){function e(t,n,r){nr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return ir(e,null,[{key:"min",value:function(){return new e(Qc.min(),yl.empty(),-1)}}]),e}(),jl=ir((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;nr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Vl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new jl(e,t,n,r,i,a,o)}function ql(e){var t=Ac(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+_l(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),dl(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return _l(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return _l(e)})).join(",")),t.P=n}return t.P}function Bl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!tf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!kl(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!rf(e.startAt,t.startAt)&&rf(e.endAt,t.endAt)}function zl(e){return yl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Kl=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return ir(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.V(wl(t,this.value)):null!==t&&gl(this.value)===gl(t)&&this.V(wl(t,this.value))}},{key:"V",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Tc()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.v(e,t,r):new Wl(e,t,r):"array-contains"===t?new $l(e,r):"in"===t?new Yl(e,r):"not-in"===t?new Jl(e,r):"array-contains-any"===t?new Xl(e,r):new n(e,t,r)}},{key:"v",value:function(e,t,n){return"in"===t?new Hl(e,n):new Gl(e,n)}}]),n}(function(){return ir((function e(){nr(this,e)}))}()),Wl=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this,e,r,i)).key=yl.fromName(i.referenceValue),a}return ir(n,[{key:"matches",value:function(e){var t=yl.comparator(e.key,this.key);return this.V(t)}}]),n}(Kl),Hl=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e,"in",r)).keys=Ql("in",r),i}return ir(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kl),Gl=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e,"not-in",r)).keys=Ql("not-in",r),i}return ir(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Kl);function Ql(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return yl.fromName(e.referenceValue)}))}var $l=function(e){sr(n,e);var t=dr(n);function n(e,r){return nr(this,n),t.call(this,e,"array-contains",r)}return ir(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Tl(t)&&bl(t.arrayValue,this.value)}}]),n}(Kl),Yl=function(e){sr(n,e);var t=dr(n);function n(e,r){return nr(this,n),t.call(this,e,"in",r)}return ir(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&bl(this.value.arrayValue,t)}}]),n}(Kl),Jl=function(e){sr(n,e);var t=dr(n);function n(e,r){return nr(this,n),t.call(this,e,"not-in",r)}return ir(n,[{key:"matches",value:function(e){if(bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!bl(this.value.arrayValue,t)}}]),n}(Kl),Xl=function(e){sr(n,e);var t=dr(n);function n(e,r){return nr(this,n),t.call(this,e,"array-contains-any",r)}return ir(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Tl(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return bl(t.value.arrayValue,e)}))}}]),n}(Kl),Zl=ir((function e(t,n){nr(this,e),this.position=t,this.inclusive=n})),ef=ir((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";nr(this,e),this.field=t,this.dir=n}));function tf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function nf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?yl.comparator(yl.fromName(o.referenceValue),n.key):wl(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function rf(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!kl(e.position[n],t.position[n]))return!1;return!0}var af=ir((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;nr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function of(e,t,n,r,i,a,o,u){return new af(e,t,n,r,i,a,o,u)}function uf(e){return new af(e)}function sf(e){return!dl(e.limit)&&"F"===e.limitType}function cf(e){return!dl(e.limit)&&"L"===e.limitType}function lf(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ff(e){var t,n=ar(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function hf(e){return null!==e.collectionGroup}function df(e){var t=Ac(e);if(null===t.D){t.D=[];var n=ff(t),r=lf(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new ef(n)),t.D.push(new ef(tl.keyField(),"asc"));else{var i,a=!1,o=ar(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new ef(tl.keyField(),s))}}}return t.D}function pf(e){var t=Ac(e);if(!t.C)if("F"===t.limitType)t.C=Vl(t.path,t.collectionGroup,df(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=ar(df(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new ef(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Zl(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new Zl(t.startAt.position,!t.startAt.inclusive):null;t.C=Vl(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function vf(e,t,n){return new af(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yf(e,t){return Bl(pf(e),pf(t))&&e.limitType===t.limitType}function mf(e){return"".concat(ql(pf(e)),"|lt:").concat(e.limitType)}function gf(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(_l(t.value));var t})).join(", "),"]")),dl(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return _l(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return _l(e)})).join(",")),"Target(".concat(t,")")}(pf(e)),"; limitType=").concat(e.limitType,")")}function kf(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):yl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=ar(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=ar(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=nf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,df(e),t))&&!(e.endAt&&!function(e,t,n){var r=nf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,df(e),t))}(e,t)}function bf(e){return function(t,n){var r,i=!1,a=ar(df(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=wf(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function wf(e,t,n){var r=e.field.isKeyField()?yl.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?wl(r,i):Tc()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Tc()}}function xf(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pl(t)?"-0":t}}function _f(e){return{integerValue:""+e}}function Ef(e,t){return vl(t)?_f(t):xf(e,t)}var If=ir((function e(){nr(this,e),this._=void 0}));function Sf(e,t,n){return e instanceof Af?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Nf?Of(e,t):e instanceof Pf?Rf(e,t):function(e,t){var n=Cf(e,t),r=Lf(n)+Lf(e.k);return Sl(n)&&Sl(e.k)?_f(r):xf(e.O,r)}(e,t)}function Tf(e,t,n){return e instanceof Nf?Of(e,t):e instanceof Pf?Rf(e,t):n}function Cf(e,t){return e instanceof Df?Sl(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Af=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.apply(this,arguments)}return ir(n)}(If),Nf=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this)).elements=e,r}return ir(n)}(If);function Of(e,t){var n,r=Mf(t),i=ar(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return kl(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Pf=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this)).elements=e,r}return ir(n)}(If);function Rf(e,t){var n,r=Mf(t),i=ar(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!kl(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Df=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this)).O=e,i.k=r,i}return ir(n)}(If);function Lf(e){return ol(e.integerValue||e.doubleValue)}function Mf(e){return Tl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Ff=ir((function e(t,n){nr(this,e),this.field=t,this.transform=n}));var Uf=ir((function e(t,n){nr(this,e),this.version=t,this.transformResults=n})),jf=function(){function e(t,n){nr(this,e),this.updateTime=t,this.exists=n}return ir(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Vf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var qf=ir((function e(){nr(this,e)}));function Bf(e,t,n){e instanceof Gf?function(e,t,n){var r=e.value.clone(),i=Yf(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qf?function(e,t,n){if(Vf(e.precondition,t)){var r=Yf(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll($f(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function zf(e,t,n){e instanceof Gf?function(e,t,n){if(Vf(e.precondition,t)){var r=e.value.clone(),i=Jf(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Hf(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Qf?function(e,t,n){if(Vf(e.precondition,t)){var r=Jf(e.fieldTransforms,n,t),i=t.data;i.setAll($f(e)),i.setAll(r),t.convertToFoundDocument(Hf(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Vf(e.precondition,t)&&t.convertToNoDocument(Qc.min())}(e,t)}function Kf(e,t){var n,r=null,i=ar(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Cf(a.transform,o||null);null!=u&&(null==r&&(r=Pl.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function Wf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Wc(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nf&&t instanceof Nf||e instanceof Pf&&t instanceof Pf?Wc(e.elements,t.elements,kl):e instanceof Df&&t instanceof Df?kl(e.k,t.k):e instanceof Af&&t instanceof Af}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Hf(e){return e.isFoundDocument()?e.version:Qc.min()}var Gf=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return nr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return ir(n)}(qf),Qf=function(e){sr(n,e);var t=dr(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return nr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return ir(n)}(qf);function $f(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Yf(e,t,n){var r=new Map;Cc(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Tf(o,u,n[i]))}return r}function Jf(e,t,n){var r,i=new Map,a=ar(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Sf(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var Xf,Zf,eh=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return ir(n)}(qf),th=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return ir(n)}(qf),nh=ir((function e(t){nr(this,e),this.count=t}));function rh(e){switch(e){default:return Tc();case Nc.CANCELLED:case Nc.UNKNOWN:case Nc.DEADLINE_EXCEEDED:case Nc.RESOURCE_EXHAUSTED:case Nc.INTERNAL:case Nc.UNAVAILABLE:case Nc.UNAUTHENTICATED:return!1;case Nc.INVALID_ARGUMENT:case Nc.NOT_FOUND:case Nc.ALREADY_EXISTS:case Nc.PERMISSION_DENIED:case Nc.FAILED_PRECONDITION:case Nc.ABORTED:case Nc.OUT_OF_RANGE:case Nc.UNIMPLEMENTED:case Nc.DATA_LOSS:return!0}}function ih(e){if(void 0===e)return Ec("GRPC error has no .code"),Nc.UNKNOWN;switch(e){case Xf.OK:return Nc.OK;case Xf.CANCELLED:return Nc.CANCELLED;case Xf.UNKNOWN:return Nc.UNKNOWN;case Xf.DEADLINE_EXCEEDED:return Nc.DEADLINE_EXCEEDED;case Xf.RESOURCE_EXHAUSTED:return Nc.RESOURCE_EXHAUSTED;case Xf.INTERNAL:return Nc.INTERNAL;case Xf.UNAVAILABLE:return Nc.UNAVAILABLE;case Xf.UNAUTHENTICATED:return Nc.UNAUTHENTICATED;case Xf.INVALID_ARGUMENT:return Nc.INVALID_ARGUMENT;case Xf.NOT_FOUND:return Nc.NOT_FOUND;case Xf.ALREADY_EXISTS:return Nc.ALREADY_EXISTS;case Xf.PERMISSION_DENIED:return Nc.PERMISSION_DENIED;case Xf.FAILED_PRECONDITION:return Nc.FAILED_PRECONDITION;case Xf.ABORTED:return Nc.ABORTED;case Xf.OUT_OF_RANGE:return Nc.OUT_OF_RANGE;case Xf.UNIMPLEMENTED:return Nc.UNIMPLEMENTED;case Xf.DATA_LOSS:return Nc.DATA_LOSS;default:return Tc()}}(Zf=Xf||(Xf={}))[Zf.OK=0]="OK",Zf[Zf.CANCELLED=1]="CANCELLED",Zf[Zf.UNKNOWN=2]="UNKNOWN",Zf[Zf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zf[Zf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zf[Zf.NOT_FOUND=5]="NOT_FOUND",Zf[Zf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zf[Zf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zf[Zf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zf[Zf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zf[Zf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zf[Zf.ABORTED=10]="ABORTED",Zf[Zf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zf[Zf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zf[Zf.INTERNAL=13]="INTERNAL",Zf[Zf.UNAVAILABLE=14]="UNAVAILABLE",Zf[Zf.DATA_LOSS=15]="DATA_LOSS";var ah=function(){function e(t,n){nr(this,e),this.comparator=t,this.root=n||uh.EMPTY}return ir(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,uh.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,uh.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new oh(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new oh(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new oh(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new oh(this.root,e,this.comparator,!0)}}]),e}(),oh=function(){function e(t,n,r,i){nr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return ir(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),uh=function(){function e(t,n,r,i,a){nr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return ir(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Tc();if(this.right.isRed())throw Tc();var e=this.left.check();if(e!==this.right.check())throw Tc();return e+(this.isRed()?0:1)}}]),e}();uh.EMPTY=null,uh.RED=!0,uh.BLACK=!1,uh.EMPTY=new(function(){function e(){nr(this,e),this.size=0}return ir(e,[{key:"key",get:function(){throw Tc()}},{key:"value",get:function(){throw Tc()}},{key:"color",get:function(){throw Tc()}},{key:"left",get:function(){throw Tc()}},{key:"right",get:function(){throw Tc()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new uh(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var sh=function(){function e(t){nr(this,e),this.comparator=t,this.data=new ah(this.comparator)}return ir(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ch(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ch(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),ch=function(){function e(t){nr(this,e),this.iter=t}return ir(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function lh(e){return e.hasNext()?e.getNext():void 0}var fh=new ah(yl.comparator);function hh(){return fh}var dh=new ah(yl.comparator);function ph(){return dh}var vh=new ah(yl.comparator),yh=new sh(yl.comparator);function mh(){for(var e=yh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var gh=new sh(Kc);function kh(){return gh}var bh=function(){function e(t,n,r,i,a){nr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return ir(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,wh.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Qc.min(),r,kh(),hh(),mh())}}]),e}(),wh=function(){function e(t,n,r,i,a){nr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return ir(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(rl.EMPTY_BYTE_STRING,n,mh(),mh(),mh())}}]),e}(),xh=ir((function e(t,n,r,i){nr(this,e),this.M=t,this.removedTargetIds=n,this.key=r,this.$=i})),_h=ir((function e(t,n){nr(this,e),this.targetId=t,this.F=n})),Eh=ir((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:rl.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;nr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Ih=function(){function e(){nr(this,e),this.B=0,this.L=Ch(),this.U=rl.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return ir(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=mh(),t=mh(),n=mh();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Tc()}})),new wh(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Ch()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Sh=function(){function e(t){nr(this,e),this.nt=t,this.st=new Map,this.it=hh(),this.rt=Th(),this.ot=new sh(Kc)}return ir(e,[{key:"ct",value:function(e){var t,n=ar(e.M);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ut(r,e.$):this.at(r,e.key,e.$)}}catch(u){n.e(u)}finally{n.f()}var i,a=ar(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.at(o,e.key,e.$)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Tc()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.F.count,r=this.wt(t);if(r){var i=r.target;if(zl(i))if(0===n){var a=new yl(i.path);this.at(t,a,Dl.newNoDocument(a,Qc.min()))}else Cc(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&zl(a.target)){var o=new yl(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.at(i,o,Dl.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=mh();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new bh(e,n,this.ot,this.it,r);return this.it=hh(),this.rt=Th(),this.ot=new sh(Kc),i}},{key:"ut",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Et(t.key).add(e))}}},{key:"at",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Et(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Ih,this.st.set(e,t)),t}},{key:"Et",value:function(e){var t=this.rt.get(e);return t||(t=new sh(Kc),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||_c("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Tt(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Ih),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.at(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Th(){return new ah(yl.comparator)}function Ch(){return new ah(yl.comparator)}var Ah={asc:"ASCENDING",desc:"DESCENDING"},Nh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oh=ir((function e(t,n){nr(this,e),this.databaseId=t,this.N=n}));function Ph(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Rh(e,t){return e.N?t.toBase64():t.toUint8Array()}function Dh(e,t){return Ph(e,t.toTimestamp())}function Lh(e){return Cc(!!e),Qc.fromTimestamp(function(e){var t=al(e);return new Gc(t.seconds,t.nanos)}(e))}function Mh(e,t){return function(e){return new Zc(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Fh(e){var t=Zc.fromString(e);return Cc(od(t)),t}function Uh(e,t){return Mh(e.databaseId,t.path)}function jh(e,t){var n=Fh(t);if(n.get(1)!==e.databaseId.projectId)throw new Oc(Nc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Oc(Nc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new yl(zh(n))}function Vh(e,t){return Mh(e.databaseId,t)}function qh(e){var t=Fh(e);return 4===t.length?Zc.emptyPath():zh(t)}function Bh(e){return new Zc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function zh(e){return Cc(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Kh(e,t,n){return{name:Uh(e,t),fields:n.value.mapValue.fields}}function Wh(e,t,n){var r=jh(e,t.name),i=Lh(t.updateTime),a=new Pl({mapValue:{fields:t.fields}}),o=Dl.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function Hh(e,t){return"found"in t?function(e,t){Cc(!!t.found),t.found.name,t.found.updateTime;var n=jh(e,t.found.name),r=Lh(t.found.updateTime),i=new Pl({mapValue:{fields:t.found.fields}});return Dl.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Cc(!!t.missing),Cc(!!t.readTime);var n=jh(e,t.missing),r=Lh(t.readTime);return Dl.newNoDocument(n,r)}(e,t):Tc()}function Gh(e,t){var n;if(t instanceof Gf)n={update:Kh(e,t.key,t.value)};else if(t instanceof eh)n={delete:Uh(e,t.key)};else if(t instanceof Qf)n={update:Kh(e,t.key,t.data),updateMask:ad(t.fieldMask)};else{if(!(t instanceof th))return Tc();n={verify:Uh(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Af)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Pf)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Df)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Tc()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dh(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Tc()}(e,t.precondition)),n}function Qh(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?jf.updateTime(Lh(e.updateTime)):void 0!==e.exists?jf.exists(e.exists):jf.none()}(t.currentDocument):jf.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Cc("REQUEST_TIME"===t.setToServerValue),n=new Af;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Nf(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new Pf(i)}else"increment"in t?n=new Df(e,t.increment):Tc();var a=tl.fromServerFormat(t.fieldPath);return new Ff(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=jh(e,t.update.name),a=new Pl({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new nl(t.map((function(e){return tl.fromServerFormat(e)})))}(t.updateMask);return new Qf(i,a,o,n,r)}return new Gf(i,a,n,r)}if(t.delete){var u=jh(e,t.delete);return new eh(u,n)}if(t.verify){var s=jh(e,t.verify);return new th(s,n)}return Tc()}function $h(e,t){return{documents:[Vh(e,t.path)]}}function Yh(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Vh(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Vh(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Al(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NAN"}};if(Cl(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Al(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NOT_NAN"}};if(Cl(e.value))return{unaryFilter:{field:td(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:td(e.field),op:ed(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:td(e.field),direction:Zh(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||dl(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Jh(e){var t=qh(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Cc(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=Xh(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new ef(nd(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return dl(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Zl(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Zl(n,t)}(n.endAt)),of(t,i,u,o,s,"F",c,l)}function Xh(e){return e?void 0!==e.unaryFilter?[id(e)]:void 0!==e.fieldFilter?[rd(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Xh(e)})).reduce((function(e,t){return e.concat(t)})):Tc():[]}function Zh(e){return Ah[e]}function ed(e){return Nh[e]}function td(e){return{fieldPath:e.canonicalString()}}function nd(e){return tl.fromServerFormat(e.fieldPath)}function rd(e){return Kl.create(nd(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Tc()}}(e.fieldFilter.op),e.fieldFilter.value)}function id(e){switch(e.unaryFilter.op){case"IS_NAN":var t=nd(e.unaryFilter.field);return Kl.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=nd(e.unaryFilter.field);return Kl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=nd(e.unaryFilter.field);return Kl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=nd(e.unaryFilter.field);return Kl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Tc()}}function ad(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function od(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ud(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=cd(t)),t=sd(e.get(n),t);return cd(t)}function sd(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function cd(e){return e+"\x01\x01"}function ld(e){var t=e.length;if(Cc(t>=2),2===t)return Cc("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Zc.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Tc(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Tc()}a=o+2}return new Zc(r)}var fd=ir((function e(t,n){nr(this,e),this.seconds=t,this.nanoseconds=n})),hd=ir((function e(t,n,r){nr(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r}));hd.store="owner",hd.key="owner";var dd=ir((function e(t,n,r){nr(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r}));dd.store="mutationQueues",dd.keyPath="userId";var pd=ir((function e(t,n,r,i,a){nr(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}));pd.store="mutations",pd.keyPath="batchId",pd.userMutationsIndex="userMutationsIndex",pd.userMutationsKeyPath=["userId","batchId"];var vd=function(){function e(){nr(this,e)}return ir(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,ud(t)]}},{key:"key",value:function(e,t,n){return[e,ud(t),n]}}]),e}();vd.store="documentMutations",vd.PLACEHOLDER=new vd;var yd=ir((function e(t,n){nr(this,e),this.path=t,this.readTime=n})),md=ir((function e(t,n){nr(this,e),this.path=t,this.version=n})),gd=ir((function e(t,n,r,i,a,o){nr(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=o}));gd.store="remoteDocuments",gd.readTimeIndex="readTimeIndex",gd.readTimeIndexPath="readTime",gd.collectionReadTimeIndex="collectionReadTimeIndex",gd.collectionReadTimeIndexPath=["parentPath","readTime"];var kd=ir((function e(t){nr(this,e),this.byteSize=t}));kd.store="remoteDocumentGlobal",kd.key="remoteDocumentGlobalKey";var bd=ir((function e(t,n,r,i,a,o,u){nr(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=o,this.query=u}));bd.store="targets",bd.keyPath="targetId",bd.queryTargetsIndexName="queryTargetsIndex",bd.queryTargetsKeyPath=["canonicalId","targetId"];var wd=ir((function e(t,n,r){nr(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r}));wd.store="targetDocuments",wd.keyPath=["targetId","path"],wd.documentTargetsIndex="documentTargetsIndex",wd.documentTargetsKeyPath=["path","targetId"];var xd=ir((function e(t,n,r,i){nr(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=i}));xd.key="targetGlobalKey",xd.store="targetGlobal";var _d=ir((function e(t,n){nr(this,e),this.collectionId=t,this.parent=n}));_d.store="collectionParents",_d.keyPath=["collectionId","parent"];var Ed=ir((function e(t,n,r,i){nr(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=i}));Ed.store="clientMetadata",Ed.keyPath="clientId";var Id=ir((function e(t,n,r){nr(this,e),this.bundleId=t,this.createTime=n,this.version=r}));Id.store="bundles",Id.keyPath="bundleId";var Sd=ir((function e(t,n,r){nr(this,e),this.name=t,this.readTime=n,this.bundledQuery=r}));Sd.store="namedQueries",Sd.keyPath="name";var Td=ir((function e(t,n,r){nr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r}));Td.store="indexConfiguration",Td.keyPath="indexId",Td.collectionGroupIndex="collectionGroupIndex",Td.collectionGroupIndexPath="collectionGroup";var Cd=ir((function e(t,n,r,i,a,o){nr(this,e),this.indexId=t,this.uid=n,this.sequenceNumber=r,this.readTime=i,this.documentKey=a,this.largestBatchId=o}));Cd.store="indexState",Cd.keyPath=["indexId","uid"],Cd.sequenceNumberIndex="sequenceNumberIndex",Cd.sequenceNumberIndexPath=["uid","sequenceNumber"];var Ad=ir((function e(t,n,r,i,a){nr(this,e),this.indexId=t,this.uid=n,this.arrayValue=r,this.directionalValue=i,this.documentKey=a}));Ad.store="indexEntries",Ad.keyPath=["indexId","uid","arrayValue","directionalValue","documentKey"],Ad.documentKeyIndex="documentKeyIndex",Ad.documentKeyIndexPath=["indexId","uid","documentKey"];var Nd=ir((function e(t,n,r,i,a,o){nr(this,e),this.userId=t,this.collectionPath=n,this.documentId=r,this.collectionGroup=i,this.largestBatchId=a,this.overlayMutation=o}));Nd.store="documentOverlays",Nd.keyPath=["userId","collectionPath","documentId"],Nd.collectionPathOverlayIndex="collectionPathOverlayIndex",Nd.collectionPathOverlayIndexPath=["userId","collectionPath","largestBatchId"],Nd.collectionGroupOverlayIndex="collectionGroupOverlayIndex",Nd.collectionGroupOverlayIndexPath=["userId","collectionGroup","largestBatchId"];var Od=[dd.store,pd.store,vd.store,gd.store,bd.store,hd.store,xd.store,wd.store].concat([Ed.store]).concat([kd.store]).concat([_d.store]).concat([Id.store,Sd.store]),Pd=[].concat(me(Od),[Nd.store]),Rd=[].concat(me(Pd),[Td.store,Cd.store,Ad.store]),Dd="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ld=function(){function e(){nr(this,e),this.onCommittedListeners=[]}return ir(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Md=function(){function e(t){var n=this;nr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return ir(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Tc(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=ar(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),Fd=function(){function e(t,n){var r=this;nr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new Pc,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new Vd(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=Wd(e.target.error);r.At.reject(new Vd(t,n))}}return ir(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(_c("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Bd(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Vd(n,t)}}}]),e}(),Ud=function(){function e(t,n,r){nr(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.vt(Er())&&Ec("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return ir(e,[{key:"xt",value:function(){var e=Zn(tr().mark((function e(t){var n=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return _c("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Vd(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Oc(Nc.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Oc(Nc.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Vd(t,n))},i.onupgradeneeded=function(e){_c("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){_c("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Ot&&(this.db.onversionchange=function(e){return n.Ot(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mt",value:function(e){this.Ot=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Zn(tr().mark((function e(t,n,r,i){var a,o,u,s,c=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(tr().mark((function e(){var n,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.xt(t);case 2:return c.db=e.sent,n=Fd.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),Md.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,_c("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return _c("SimpleDb","Removing database:",e),zd(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"Vt",value:function(){if(!Nr())return!1;if(e.St())return!0;var t=Er(),n=e.vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/botanica-shop",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"Nt",value:function(e,t){return e.store(t)}},{key:"vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),jd=function(){function e(t){nr(this,e),this.$t=t,this.Ft=!1,this.Bt=null}return ir(e,[{key:"isDone",get:function(){return this.Ft}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.$t=e}},{key:"done",value:function(){this.Ft=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return zd(this.$t.delete())}}]),e}(),Vd=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,Nc.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return ir(n)}(Oc);function qd(e){return"IndexedDbTransactionError"===e.name}var Bd=function(){function e(t){nr(this,e),this.store=t}return ir(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(_c("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_c("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),zd(n)}},{key:"add",value:function(e){return _c("SimpleDb","ADD",this.store.name,e,e),zd(this.store.add(e))}},{key:"get",value:function(e){var t=this;return zd(this.store.get(e)).next((function(n){return void 0===n&&(n=null),_c("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return _c("SimpleDb","DELETE",this.store.name,e),zd(this.store.delete(e))}},{key:"count",value:function(){return _c("SimpleDb","COUNT",this.store.name),zd(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new Md((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){_c("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Qt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"Wt",value:function(e){var t=this.cursor({});return new Md((function(n,r){t.onerror=function(e){var t=Wd(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new Md((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new jd(i),o=t(i.primaryKey,i.value,a);if(o instanceof Md){var u=o.catch((function(e){return a.done(),Md.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return Md.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function zd(e){return new Md((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Wd(e.target.error);n(t)}}))}var Kd=!1;function Wd(e){var t=Ud.vt(Er());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Oc("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Kd||(Kd=!0,setTimeout((function(){throw r}),0)),r}}return e}var Hd=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this)).zt=e,i.currentSequenceNumber=r,i}return ir(n)}(Ld);function Gd(e,t){var n=Ac(e);return Ud.Nt(n.zt,t)}var Qd=function(){function e(t,n,r,i){nr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return ir(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Bf(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=ar(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&zf(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=ar(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&zf(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Qc.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),mh())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Wc(this.mutations,e.mutations,(function(e,t){return Wf(e,t)}))&&Wc(this.baseMutations,e.baseMutations,(function(e,t){return Wf(e,t)}))}}]),e}(),$d=function(){function e(t,n,r,i){nr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return ir(e,null,[{key:"from",value:function(t,n,r){Cc(t.mutations.length===r.length);for(var i=vh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),Yd=function(){function e(t,n){nr(this,e),this.largestBatchId=t,this.mutation=n}return ir(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Jd=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Qc.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Qc.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:rl.EMPTY_BYTE_STRING;nr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return ir(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),Xd=ir((function e(t){nr(this,e),this.Ht=t}));function Zd(e,t){var n;if(t.document)n=Wh(e.Ht,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=yl.fromSegments(t.noDocument.path),i=ip(t.noDocument.readTime);n=Dl.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Tc();var a=yl.fromSegments(t.unknownDocument.path),o=ip(t.unknownDocument.version);n=Dl.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(np(t.readTime)),n}function ep(e,t){var n=tp(t.readTime),r=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:Uh(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Ph(e,t.version.toTimestamp())}}(e.Ht,t),a=t.hasCommittedMutations;return new gd(null,null,i,a,n,r)}if(t.isNoDocument()){var o=t.key.path.toArray(),u=rp(t.version),s=t.hasCommittedMutations;return new gd(null,new yd(o,u),null,s,n,r)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=rp(t.version);return new gd(new md(c,l),null,null,!0,n,r)}return Tc()}function tp(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function np(e){var t=new Gc(e[0],e[1]);return Qc.fromTimestamp(t)}function rp(e){var t=e.toTimestamp();return new fd(t.seconds,t.nanoseconds)}function ip(e){var t=new Gc(e.seconds,e.nanoseconds);return Qc.fromTimestamp(t)}function ap(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Qh(e.Ht,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Qh(e.Ht,t)})),u=Gc.fromMillis(t.localWriteTimeMs);return new Qd(t.batchId,u,n,o)}function op(e){var t,n,r=ip(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?ip(e.lastLimboFreeSnapshotVersion):Qc.min();return void 0!==e.query.documents?(Cc(1===(n=e.query).documents.length),t=pf(uf(qh(n.documents[0])))):t=function(e){return pf(Jh(e))}(e.query),new Jd(t,e.targetId,0,e.lastListenSequenceNumber,r,i,rl.fromBase64String(e.resumeToken))}function up(e,t){var n,r=rp(t.snapshotVersion),i=rp(t.lastLimboFreeSnapshotVersion);n=zl(t.target)?$h(e.Ht,t.target):Yh(e.Ht,t.target);var a=t.resumeToken.toBase64();return new bd(t.targetId,ql(t.target),r,a,t.sequenceNumber,i,n)}function sp(e){var t=Jh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vf(t,t.limit,"L"):t}function cp(e,t){return new Yd(t.largestBatchId,Qh(e.Ht,t.overlayMutation))}function lp(e,t){var n=t.path.lastSegment();return[e,ud(t.path.popLast()),n]}var fp=function(){function e(){nr(this,e)}return ir(e,[{key:"getBundleMetadata",value:function(e,t){return hp(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:ip(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return hp(e).put({bundleId:(n=t).id,createTime:rp(Lh(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return dp(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:sp(t.bundledQuery),readTime:ip(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return dp(e).put(function(e){return{name:e.name,readTime:rp(Lh(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function hp(e){return Gd(e,Id.store)}function dp(e){return Gd(e,Sd.store)}var pp=function(){function e(t,n){nr(this,e),this.O=t,this.userId=n}return ir(e,[{key:"getOverlay",value:function(e,t){var n=this;return vp(e).get(lp(this.userId,t)).next((function(e){return e?cp(n.O,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n){var a=new Yd(t,n);i.push(r.Yt(e,a))})),Md.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(ud(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(vp(e).Gt(Nd.collectionPathOverlayIndex,i))})),Md.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=new Map,a=ud(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return vp(e).qt(Nd.collectionPathOverlayIndex,o).next((function(e){var t,n=ar(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=cp(r.O,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=new Map,u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return vp(e).Qt({index:Nd.collectionGroupOverlayIndex,range:u},(function(e,t,n){var u=cp(a.O,t);o.size<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Yt",value:function(e,t){return vp(e).put(function(e,t,n){var r=Ae(lp(t,n.mutation.key),3),i=(r[0],r[1]),a=r[2];return new Nd(t,i,a,n.mutation.key.getCollectionGroup(),n.largestBatchId,Gh(e.Ht,n.mutation))}(this.O,this.userId,t))}}],[{key:"Jt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function vp(e){return Gd(e,Nd.store)}var yp=function(){function e(){nr(this,e)}return ir(e,[{key:"Xt",value:function(e,t){this.Zt(e,t),t.te()}},{key:"Zt",value:function(e,t){if("nullValue"in e)this.ee(t,5);else if("booleanValue"in e)this.ee(t,10),t.ne(e.booleanValue?1:0);else if("integerValue"in e)this.ee(t,15),t.ne(ol(e.integerValue));else if("doubleValue"in e){var n=ol(e.doubleValue);isNaN(n)?this.ee(t,13):(this.ee(t,15),pl(n)?t.ne(0):t.ne(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ee(t,20),"string"==typeof r?t.se(r):(t.se("".concat(r.seconds||"")),t.ne(r.nanos||0))}else if("stringValue"in e)this.ie(e.stringValue,t),this.re(t);else if("bytesValue"in e)this.ee(t,30),t.oe(ul(e.bytesValue)),this.re(t);else if("referenceValue"in e)this.ce(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ee(t,45),t.ne(i.latitude||0),t.ne(i.longitude||0)}else"mapValue"in e?kl(e,ml)?this.ee(t,Number.MAX_SAFE_INTEGER):(this.ue(e.mapValue,t),this.re(t)):"arrayValue"in e?(this.ae(e.arrayValue,t),this.re(t)):Tc()}},{key:"ie",value:function(e,t){this.ee(t,25),this.he(e,t)}},{key:"he",value:function(e,t){t.se(e)}},{key:"ue",value:function(e,t){var n=e.fields||{};this.ee(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.ie(a,t),this.Zt(n[a],t)}}},{key:"ae",value:function(e,t){var n=e.values||[];this.ee(t,50);var r,i=ar(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.Zt(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ce",value:function(e,t){var n=this;this.ee(t,37),yl.fromName(e).path.forEach((function(e){n.ee(t,60),n.he(e,t)}))}},{key:"ee",value:function(e,t){e.ne(t)}},{key:"re",value:function(e){e.ne(2)}}]),e}();function mp(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function gp(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=mp(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}yp.le=new yp;var kp=function(){function e(){nr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return ir(e,[{key:"fe",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.de(n.value),n=t.next();this._e()}},{key:"we",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.me(n.value),n=t.next();this.ge()}},{key:"ye",value:function(e){var t,n=ar(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.de(i);else if(i<2048)this.de(960|i>>>6),this.de(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.de(480|i>>>12),this.de(128|63&i>>>6),this.de(128|63&i);else{var a=r.codePointAt(0);this.de(240|a>>>18),this.de(128|63&a>>>12),this.de(128|63&a>>>6),this.de(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this._e()}},{key:"pe",value:function(e){var t,n=ar(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.me(i);else if(i<2048)this.me(960|i>>>6),this.me(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.me(480|i>>>12),this.me(128|63&i>>>6),this.me(128|63&i);else{var a=r.codePointAt(0);this.me(240|a>>>18),this.me(128|63&a>>>12),this.me(128|63&a>>>6),this.me(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ge()}},{key:"Ie",value:function(e){var t=this.Ee(e),n=gp(t);this.Te(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Ae",value:function(e){var t=this.Ee(e),n=gp(t);this.Te(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Re",value:function(){this.Pe(255),this.Pe(255)}},{key:"be",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Te(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Ve",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"de",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"me",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"_e",value:function(){this.Pe(0),this.Pe(1)}},{key:"ge",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Te(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Te(1),this.buffer[this.position++]=~e}},{key:"Te",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),bp=function(){function e(t){nr(this,e),this.Se=t}return ir(e,[{key:"oe",value:function(e){this.Se.fe(e)}},{key:"se",value:function(e){this.Se.ye(e)}},{key:"ne",value:function(e){this.Se.Ie(e)}},{key:"te",value:function(){this.Se.Re()}}]),e}(),wp=function(){function e(t){nr(this,e),this.Se=t}return ir(e,[{key:"oe",value:function(e){this.Se.we(e)}},{key:"se",value:function(e){this.Se.pe(e)}},{key:"ne",value:function(e){this.Se.Ae(e)}},{key:"te",value:function(){this.Se.be()}}]),e}(),xp=function(){function e(){nr(this,e),this.Se=new kp,this.De=new bp(this.Se),this.Ce=new wp(this.Se)}return ir(e,[{key:"seed",value:function(e){this.Se.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.De:this.Ce}},{key:"Ve",value:function(){return this.Se.Ve()}},{key:"reset",value:function(){this.Se.reset()}}]),e}(),_p=ir((function e(t,n,r,i){nr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}));function Ep(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=yl.comparator(e.documentKey,t.documentKey))?n:0!==(n=Ip(e.arrayValue,t.arrayValue))?n:Ip(e.directionalValue,t.directionalValue)}function Ip(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Sp=function(){function e(){nr(this,e),this.xe=new Tp}return ir(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.xe.add(t),Md.resolve()}},{key:"getCollectionParents",value:function(e,t){return Md.resolve(this.xe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Md.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Md.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Md.resolve(mh())}},{key:"getFieldIndex",value:function(e,t){return Md.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return Md.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Md.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return Md.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Md.resolve()}}]),e}(),Tp=function(){function e(){nr(this,e),this.index={}}return ir(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new sh(Zc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new sh(Zc.comparator)).toArray()}}]),e}(),Cp=function(){function e(t){nr(this,e),this.user=t,this.ke=new Tp,this.uid=t.uid||""}return ir(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.ke.add(t)}));var a={collectionId:r,parent:ud(i)};return Ap(e).put(a)}return Md.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Hc(t),""],!1,!0);return Ap(e).qt(r).next((function(e){var r,i=ar(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ld(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=Op(e),r=function(e){return new Td(e.indexId,e.collectionGroup,e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]})))}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=Op(e),r=Pp(e),i=Np(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t,n){return Md.resolve(mh())}},{key:"getFieldIndex",value:function(e,t){return Md.resolve(null)}},{key:"Oe",value:function(e,t){var n,r=new xp,i=ar(function(e){return e.fields.filter((function(e){return 2!==e.kind}))}(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);yp.le.Xt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Ve()}},{key:"Me",value:function(e){var t=new xp;return yp.le.Xt(e,t.Ne(0)),t.Ve()}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=Op(e),i=Pp(e);return(t?r.qt(Td.collectionGroupIndex,IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return Md.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new Fl(t.sequenceNumber,new Ul(ip(t.readTime),new yl(ld(t.documentKey)),t.largestBatchId)):Fl.empty(),r=e.fields.map((function(e){var t=Ae(e,2),n=t[0],r=t[1];return new Ml(tl.fromServerFormat(n),r)}));return new Ll(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){return e.indexState.sequenceNumber-t.indexState.sequenceNumber})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=Op(e),a=Pp(e);return this.$e(e).next((function(e){return i.qt(Td.collectionGroupIndex,IDBKeyRange.bound(t,t)).next((function(t){return Md.forEach(t,(function(t){return a.put(function(e,t,n,r){return new Cd(e,t.uid||"",n,rp(r.readTime),ud(r.documentKey.path),r.largestBatchId)}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return Md.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?Md.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),Md.forEach(a,(function(r){return n.Fe(e,t,r).next((function(t){var a=n.Be(i,r);return t.isEqual(a)?Md.resolve():n.Le(e,i,t,a)}))}))}))}))}},{key:"Ue",value:function(e,t,n){return Np(e).put(new Ad(n.indexId,this.uid,n.arrayValue,n.directionalValue,ud(t.key.path)))}},{key:"qe",value:function(e,t,n){return Np(e).delete([n.indexId,this.uid,n.arrayValue,n.directionalValue,ud(t.key.path)])}},{key:"Fe",value:function(e,t,n){var r=Np(e),i=new sh(Ep);return r.Qt({index:Ad.documentKeyIndex,range:IDBKeyRange.only([n.indexId,this.uid,ud(t.path)])},(function(e,r){i=i.add(new _p(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"Be",value:function(e,t){var n=new sh(Ep),r=this.Oe(t,e);if(null==r)return n;var i=function(e){return e.fields.find((function(e){return 2===e.kind}))}(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Tl(a)){var o,u=ar(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new _p(t.indexId,e.key,this.Me(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new _p(t.indexId,e.key,new Uint8Array,r));return n}},{key:"Le",value:function(e,t,n,r){var i=this;_c("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var a=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=lh(a),s=lh(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=lh(o)):l?(i(u),u=lh(a)):(u=lh(a),s=lh(o))}}(n,r,Ep,(function(n){a.push(i.Ue(e,t,n))}),(function(n){a.push(i.qe(e,t,n))})),Md.waitFor(a)}},{key:"$e",value:function(e){var t=1;return Pp(e).Qt({index:Cd.sequenceNumberIndex,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}}]),e}();function Ap(e){return Gd(e,_d.store)}function Np(e){return Gd(e,Ad.store)}function Op(e){return Gd(e,Td.store)}function Pp(e){return Gd(e,Cd.store)}var Rp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Dp=function(){function e(t,n,r){nr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return ir(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function Lp(e,t,n){var r=e.store(pd.store),i=e.store(vd.store),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Qt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Cc(1===u)})));var c,l=[],f=ar(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=vd.key(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return Md.waitFor(a).next((function(){return l}))}function Mp(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Tc();t=e.noDocument}return JSON.stringify(t).length}Dp.DEFAULT_COLLECTION_PERCENTILE=10,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dp.DEFAULT=new Dp(41943040,Dp.DEFAULT_COLLECTION_PERCENTILE,Dp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dp.DISABLED=new Dp(-1,0,0);var Fp=function(){function e(t,n,r,i){nr(this,e),this.userId=t,this.O=n,this.indexManager=r,this.referenceDelegate=i,this.Ke={}}return ir(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jp(e).Qt({index:pd.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=Vp(e),o=jp(e);return o.add({}).next((function(u){Cc("number"==typeof u);var s,c=new Qd(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return Gh(e.Ht,t)})),i=n.mutations.map((function(t){return Gh(e.Ht,t)}));return new pd(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.O,i.userId,c),f=[],h=new sh((function(e,t){return Kc(e.canonicalString(),t.canonicalString())})),d=ar(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=vd.key(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,vd.PLACEHOLDER))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Ke[u]=c.keys()})),Md.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return jp(e).get(t).next((function(e){return e?(Cc(e.userId===n.userId),ap(n.O,e)):null}))}},{key:"Ge",value:function(e,t){var n=this;return this.Ke[t]?Md.resolve(this.Ke[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Ke[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return jp(e).Qt({index:pd.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Cc(t.batchId>=r),a=ap(n.O,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jp(e).Qt({index:pd.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jp(e).qt(pd.userMutationsIndex,n).next((function(e){return e.map((function(e){return ap(t.O,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=vd.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return Vp(e).Qt({range:i},(function(r,i,o){var u=Ae(r,3),s=u[0],c=u[1],l=u[2],f=ld(c);if(s===n.userId&&t.path.isEqual(f))return jp(e).get(l).next((function(e){if(!e)throw Tc();Cc(e.userId===n.userId),a.push(ap(n.O,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sh(Kc),i=[];return t.forEach((function(t){var a=vd.prefixForPath(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=Vp(e).Qt({range:o},(function(e,i,a){var o=Ae(e,3),u=o[0],s=o[1],c=o[2],l=ld(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),Md.waitFor(i).next((function(){return n.je(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=vd.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new sh(Kc);return Vp(e).Qt({range:o},(function(e,t,a){var o=Ae(e,3),s=o[0],c=o[1],l=o[2],f=ld(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.je(e,u)}))}},{key:"je",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(jp(e).get(t).next((function(e){if(null===e)throw Tc();Cc(e.userId===n.userId),r.push(ap(n.O,e))})))})),Md.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return Lp(e.zt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Qe(t.batchId)})),Md.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"Qe",value:function(e){delete this.Ke[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Md.resolve();var r=IDBKeyRange.lowerBound(vd.prefixForUser(t.userId)),i=[];return Vp(e).Qt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ld(e[1]);i.push(a)}else r.done()})).next((function(){Cc(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return Up(e,this.userId,t)}},{key:"We",value:function(e){var t=this;return qp(e).get(this.userId).next((function(e){return e||new dd(t.userId,-1,"")}))}}],[{key:"Jt",value:function(t,n,r,i){return Cc(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function Up(e,t,n){var r=vd.prefixForPath(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return Vp(e).Qt({range:a,jt:!0},(function(e,n,r){var a=Ae(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function jp(e){return Gd(e,pd.store)}function Vp(e){return Gd(e,vd.store)}function qp(e){return Gd(e,dd.store)}var Bp=function(){function e(t){nr(this,e),this.ze=t}return ir(e,[{key:"next",value:function(){return this.ze+=2,this.ze}}],[{key:"He",value:function(){return new e(0)}},{key:"Je",value:function(){return new e(-1)}}]),e}(),zp=function(){function e(t,n){nr(this,e),this.referenceDelegate=t,this.O=n}return ir(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.Ye(e).next((function(n){var r=new Bp(n.highestTargetId);return n.highestTargetId=r.next(),t.Xe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.Ye(e).next((function(e){return Qc.fromTimestamp(new Gc(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.Ye(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.Ye(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Xe(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Ze(e,t).next((function(){return n.Ye(e).next((function(r){return r.targetCount+=1,n.tn(t,r),n.Xe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Ze(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return Kp(e).delete(t.targetId)})).next((function(){return n.Ye(e)})).next((function(t){return Cc(t.targetCount>0),t.targetCount-=1,n.Xe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return Kp(e).Qt((function(o,u){var s=op(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return Md.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return Kp(e).Qt((function(e,n){var r=op(n);t(r)}))}},{key:"Ye",value:function(e){return Wp(e).get(xd.key).next((function(e){return Cc(null!==e),e}))}},{key:"Xe",value:function(e,t){return Wp(e).put(xd.key,t)}},{key:"Ze",value:function(e,t){return Kp(e).put(up(this.O,t))}},{key:"tn",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.Ye(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ql(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Kp(e).Qt({range:r,index:bd.queryTargetsIndexName},(function(e,n,r){var a=op(n);Bl(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=Hp(e);return t.forEach((function(t){var o=ud(t.path);i.push(a.put(new wd(n,o))),i.push(r.referenceDelegate.addReference(e,n,t))})),Md.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=Hp(e);return Md.forEach(t,(function(t){var a=ud(t.path);return Md.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=Hp(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Hp(e),i=mh();return r.Qt({range:n,jt:!0},(function(e,t,n){var r=ld(e[1]),a=new yl(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=ud(t.path),r=IDBKeyRange.bound([n],[Hc(n)],!1,!0),i=0;return Hp(e).Qt({index:wd.documentTargetsIndex,jt:!0,range:r},(function(e,t,n){var r=Ae(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Tt",value:function(e,t){return Kp(e).get(t).next((function(e){return e?op(e):null}))}}]),e}();function Kp(e){return Gd(e,bd.store)}function Wp(e){return Gd(e,xd.store)}function Hp(e){return Gd(e,wd.store)}function Gp(e){return Qp.apply(this,arguments)}function Qp(){return Qp=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Nc.FAILED_PRECONDITION&&t.message===Dd){e.next=2;break}throw t;case 2:_c("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),Qp.apply(this,arguments)}function $p(e,t){var n=Ae(e,2),r=n[0],i=n[1],a=Ae(t,2),o=a[0],u=a[1],s=Kc(r,o);return 0===s?Kc(i,u):s}var Yp=function(){function e(t){nr(this,e),this.en=t,this.buffer=new sh($p),this.nn=0}return ir(e,[{key:"sn",value:function(){return++this.nn}},{key:"rn",value:function(e){var t=[e,this.sn()];if(this.buffer.size<this.en)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();$p(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),Jp=function(){function e(t,n){nr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.on=!1,this.cn=null}return ir(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.un(e)}},{key:"stop",value:function(){this.cn&&(this.cn.cancel(),this.cn=null)}},{key:"started",get:function(){return null!==this.cn}},{key:"un",value:function(e){var t=this,n=this.on?3e5:6e4;_c("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.cn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Zn(tr().mark((function n(){return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.cn=null,t.on=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!qd(n.t0)){n.next=12;break}_c("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,Gp(n.t0);case 14:return n.next=16,t.un(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Xp=function(){function e(t,n){nr(this,e),this.an=t,this.params=n}return ir(e,[{key:"calculateTargetCount",value:function(e,t){return this.an.hn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Md.resolve(qc.A);var r=new Yp(t);return this.an.forEachTarget(e,(function(e){return r.rn(e.sequenceNumber)})).next((function(){return n.an.ln(e,(function(e){return r.rn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.an.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.an.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(_c("LruGarbageCollector","Garbage collection skipped; disabled"),Md.resolve(Rp)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(_c("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),Rp):n.fn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.an.getCacheSize(e)}},{key:"fn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(_c("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),xc()<=$r.DEBUG&&_c("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Md.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),Zp=function(){function e(t,n){nr(this,e),this.db=t,this.garbageCollector=function(e,t){return new Xp(e,t)}(this,n)}return ir(e,[{key:"hn",value:function(e){var t=this.dn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"dn",value:function(e){var t=0;return this.ln(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ln",value:function(e,t){return this._n(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return ev(e,n)}},{key:"removeReference",value:function(e,t,n){return ev(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return ev(e,t)}},{key:"wn",value:function(e,t){return function(e,t){var n=!1;return qp(e).Wt((function(r){return Up(e,r,t).next((function(e){return e&&(n=!0),Md.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this._n(e,(function(o,u){if(u<=t){var s=n.wn(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,Qc.min()),Hp(e).delete([0,ud(o.path)])}))}));i.push(s)}})).next((function(){return Md.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return ev(e,t)}},{key:"_n",value:function(e,t){var n,r=Hp(e),i=qc.A;return r.Qt({index:wd.documentTargetsIndex},(function(e,r){var a=Ae(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==qc.A&&t(new yl(ld(n)),i),i=s,n=u):i=qc.A})).next((function(){i!==qc.A&&t(new yl(ld(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function ev(e,t){return Hp(e).put(function(e,t){return new wd(0,ud(e.path),t)}(t,e.currentSequenceNumber))}var tv=function(){function e(t,n){nr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return ir(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=ar(n);try{for(i.s();!(r=i.n()).done;){var a=Ae(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){Yc(this.inner,(function(t,n){var r,i=ar(n);try{for(i.s();!(r=i.n()).done;){var a=Ae(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Jc(this.inner)}}]),e}(),nv=function(){function e(){nr(this,e),this.changes=new tv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return ir(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Dl.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Md.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),rv=function(){function e(t){nr(this,e),this.O=t}return ir(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return ov(e).put(uv(t),n)}},{key:"removeEntry",value:function(e,t){var n=ov(e),r=uv(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.mn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return ov(e).get(uv(t)).next((function(e){return n.gn(t,e)}))}},{key:"yn",value:function(e,t){var n=this;return ov(e).get(uv(t)).next((function(e){return{document:n.gn(t,e),size:Mp(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=hh();return this.pn(e,t,(function(e,t){var i=n.gn(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"In",value:function(e,t){var n=this,r=hh(),i=new ah(yl.comparator);return this.pn(e,t,(function(e,t){var a=n.gn(e,t);r=r.insert(e,a),i=i.insert(e,Mp(t))})).next((function(){return{documents:r,En:i}}))}},{key:"pn",value:function(e,t,n){if(t.isEmpty())return Md.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),a=i.getNext();return ov(e).Qt({range:r},(function(e,t,r){for(var o=yl.fromSegments(e);a&&yl.comparator(a,o)<0;)n(a,null),a=i.getNext();a&&a.isEqual(o)&&(n(a,t),a=i.hasNext()?i.getNext():null),a?r.Ut(a.path.toArray()):r.done()})).next((function(){for(;a;)n(a,null),a=i.hasNext()?i.getNext():null}))}},{key:"getAll",value:function(e,t,n){var r=this,i=hh(),a=t.length+1,o={};if(n.isEqual(Qc.min())){var u=t.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.toArray(),c=tp(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=gd.collectionReadTimeIndex}return ov(e).Qt(o,(function(e,n,o){if(e.length===a){var u=r.gn(yl.fromSegments(e),n);t.isPrefixOf(u.key.path)?i=i.insert(u.key,u):o.done()}})).next((function(){return i}))}},{key:"newChangeBuffer",value:function(e){return new iv(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return av(e).get(kd.key).next((function(e){return Cc(!!e),e}))}},{key:"mn",value:function(e,t){return av(e).put(kd.key,t)}},{key:"gn",value:function(e,t){if(t){var n=Zd(this.O,t);if(!n.isNoDocument()||!n.version.isEqual(Qc.min()))return n}return Dl.newInvalidDocument(e)}}]),e}(),iv=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this)).Tn=e,i.trackRemovals=r,i.An=new tv((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return ir(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new sh((function(e,t){return Kc(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.An.get(a);if(o.isValidDocument()){var s=ep(t.Tn.O,o);i=i.add(a.path.popLast());var c=Mp(s);r+=c-u,n.push(t.Tn.addEntry(e,a,s))}else if(r-=u,t.trackRemovals){var l=ep(t.Tn.O,o.convertToNoDocument(Qc.min()));n.push(t.Tn.addEntry(e,a,l))}else n.push(t.Tn.removeEntry(e,a))})),i.forEach((function(r){n.push(t.Tn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Tn.updateMetadata(e,r)),Md.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Tn.yn(e,t).next((function(e){return n.An.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Tn.In(e,t).next((function(e){var t=e.documents;return e.En.forEach((function(e,t){n.An.set(e,t)})),t}))}}]),n}(nv);function av(e){return Gd(e,kd.store)}function ov(e){return Gd(e,gd.store)}function uv(e){return e.path.toArray()}var sv=function(){function e(t){nr(this,e),this.O=t}return ir(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new Fd("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(hd.store)}(e),function(e){e.createObjectStore(dd.store,{keyPath:dd.keyPath}),e.createObjectStore(pd.store,{keyPath:pd.keyPath,autoIncrement:!0}).createIndex(pd.userMutationsIndex,pd.userMutationsKeyPath,{unique:!0}),e.createObjectStore(vd.store)}(e),cv(e),function(e){e.createObjectStore(gd.store)}(e));var o=Md.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(wd.store),e.deleteObjectStore(bd.store),e.deleteObjectStore(xd.store)}(e),cv(e)),o=o.next((function(){return function(e){var t=e.store(xd.store),n=new xd(0,0,Qc.min().toTimestamp(),0);return t.put(xd.key,n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(pd.store).qt().next((function(n){e.deleteObjectStore(pd.store),e.createObjectStore(pd.store,{keyPath:pd.keyPath,autoIncrement:!0}).createIndex(pd.userMutationsIndex,pd.userMutationsKeyPath,{unique:!0});var r=t.store(pd.store),i=n.map((function(e){return r.put(e)}));return Md.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore(Ed.store,{keyPath:Ed.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Rn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(kd.store)}(e),i.Pn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.bn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.vn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(gd.store);t.createIndex(gd.readTimeIndex,gd.readTimeIndexPath,{unique:!1}),t.createIndex(gd.collectionReadTimeIndex,gd.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return i.Vn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(Id.store,{keyPath:Id.keyPath})}(e),function(e){e.createObjectStore(Sd.store,{keyPath:Sd.keyPath})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore(Nd.store,{keyPath:Nd.keyPath});t.createIndex(Nd.collectionPathOverlayIndex,Nd.collectionPathOverlayIndexPath,{unique:!1}),t.createIndex(Nd.collectionGroupOverlayIndex,Nd.collectionGroupOverlayIndexPath,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){!function(e){e.createObjectStore(Td.store,{keyPath:Td.keyPath,autoIncrement:!0}).createIndex(Td.collectionGroupIndex,Td.collectionGroupIndexPath,{unique:!1}),e.createObjectStore(Cd.store,{keyPath:Cd.keyPath}).createIndex(Cd.sequenceNumberIndex,Cd.sequenceNumberIndexPath,{unique:!1}),e.createObjectStore(Ad.store,{keyPath:Ad.keyPath}).createIndex(Ad.documentKeyIndex,Ad.documentKeyIndexPath,{unique:!1})}(e)}))),o}},{key:"Pn",value:function(e){var t=0;return e.store(gd.store).Qt((function(e,n){t+=Mp(n)})).next((function(){var n=new kd(t);return e.store(kd.store).put(kd.key,n)}))}},{key:"Rn",value:function(e){var t=this,n=e.store(dd.store),r=e.store(pd.store);return n.qt().next((function(n){return Md.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt(pd.userMutationsIndex,i).next((function(r){return Md.forEach(r,(function(r){Cc(r.userId===n.userId);var i=ap(t.O,r);return Lp(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"bn",value:function(e){var t=e.store(wd.store),n=e.store(gd.store);return e.store(xd.store).get(xd.key).next((function(e){var r=[];return n.Qt((function(n,i){var a=new Zc(n),o=function(e){return[0,ud(e)]}(a);r.push(t.get(o).next((function(n){return n?Md.resolve():function(n){return t.put(new wd(0,ud(n),e.highestListenSequenceNumber))}(a)})))})).next((function(){return Md.waitFor(r)}))}))}},{key:"vn",value:function(e,t){e.createObjectStore(_d.store,{keyPath:_d.keyPath});var n=t.store(_d.store),r=new Tp,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:ud(i)})}};return t.store(gd.store).Qt({jt:!0},(function(e,t){var n=new Zc(e);return i(n.popLast())})).next((function(){return t.store(vd.store).Qt({jt:!0},(function(e,t){var n=Ae(e,3),r=(n[0],n[1]),a=(n[2],ld(r));return i(a.popLast())}))}))}},{key:"Vn",value:function(e){var t=this,n=e.store(bd.store);return n.Qt((function(e,r){var i=op(r),a=up(t.O,i);return n.put(a)}))}}]),e}();function cv(e){e.createObjectStore(wd.store,{keyPath:wd.keyPath}).createIndex(wd.documentTargetsIndex,wd.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(bd.store,{keyPath:bd.keyPath}).createIndex(bd.queryTargetsIndexName,bd.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(xd.store)}var lv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",fv=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:12;if(nr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Sn=a,this.window=o,this.document=u,this.Dn=c,this.Cn=l,this.schemaVersion=f,this.Nn=null,this.xn=!1,this.isPrimary=!1,this.networkEnabled=!0,this.kn=null,this.inForeground=!1,this.On=null,this.Mn=null,this.$n=Number.NEGATIVE_INFINITY,this.Fn=function(e){return Promise.resolve()},!e.Vt())throw new Oc(Nc.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zp(this,i),this.Bn=n+"main",this.O=new Xd(s),this.Ln=new Ud(this.Bn,this.schemaVersion,new sv(this.O)),this.Un=new zp(this.referenceDelegate,this.O),this.qn=function(e){return new rv(e)}(this.O),this.Kn=new fp,this.window&&this.window.localStorage?this.Gn=this.window.localStorage:(this.Gn=null,!1===l&&Ec("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return ir(e,[{key:"start",value:function(){var e=this;return this.jn().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Oc(Nc.FAILED_PRECONDITION,lv);return e.Qn(),e.Wn(),e.zn(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.Un.getHighestSequenceNumber(t)}))})).then((function(t){e.Nn=new qc(t,e.Dn)})).then((function(){e.xn=!0})).catch((function(t){return e.Ln&&e.Ln.close(),Promise.reject(t)}))}},{key:"Hn",value:function(e){var t=this;return this.Fn=function(){var n=Zn(tr().mark((function n(r){return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ln.Mt(function(){var t=Zn(tr().mark((function t(n){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Sn.enqueueAndForget(Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.jn();case 4:case"end":return e.stop()}}),e)})))))}},{key:"jn",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return dv(t).put(new Ed(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Jn(t).next((function(t){t||(e.isPrimary=!1,e.Sn.enqueueRetryable((function(){return e.Fn(!1)})))}))})).next((function(){return e.Yn(t)})).next((function(n){return e.isPrimary&&!n?e.Xn(t).next((function(){return!1})):!!n&&e.Zn(t).next((function(){return!0}))}))})).catch((function(t){if(qd(t))return _c("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return _c("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Sn.enqueueRetryable((function(){return e.Fn(t)})),e.isPrimary=t}))}},{key:"Jn",value:function(e){var t=this;return hv(e).get(hd.key).next((function(e){return Md.resolve(t.ts(e))}))}},{key:"es",value:function(e){return dv(e).delete(this.clientId)}},{key:"ns",value:function(){var e=Zn(tr().mark((function e(){var t,n,r,i,a=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ss(this.$n,18e5)){e.next=6;break}return this.$n=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Gd(e,Ed.store);return t.qt().next((function(e){var n=a.rs(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Md.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Gn){n=ar(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.Gn.removeItem(this.os(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zn",value:function(){var e=this;this.Mn=this.Sn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.jn().then((function(){return e.ns()})).then((function(){return e.zn()}))}))}},{key:"ts",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"Yn",value:function(e){var t=this;return this.Cn?Md.resolve(!0):hv(e).get(hd.key).next((function(n){if(null!==n&&t.ss(n.leaseTimestampMs,5e3)&&!t.cs(n.ownerId)){if(t.ts(n)&&t.networkEnabled)return!0;if(!t.ts(n)){if(!n.allowTabSynchronization)throw new Oc(Nc.FAILED_PRECONDITION,lv);return!1}}return!(!t.networkEnabled||!t.inForeground)||dv(e).qt().next((function(e){return void 0===t.rs(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&_c("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Zn(tr().mark((function e(){var t=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.xn=!1,this.us(),this.Mn&&(this.Mn.cancel(),this.Mn=null),this.hs(),this.ls(),e.next=7,this.Ln.runTransaction("shutdown","readwrite",[hd.store,Ed.store],(function(e){var n=new Hd(e,qc.A);return t.Xn(n).next((function(){return t.es(n)}))}));case 7:this.Ln.close(),this.fs();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"rs",value:function(e,t){var n=this;return e.filter((function(e){return n.ss(e.updateTimeMs,t)&&!n.cs(e.clientId)}))}},{key:"ds",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return dv(t).qt().next((function(t){return e.rs(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.xn}},{key:"getMutationQueue",value:function(e,t){return Fp.Jt(e,this.O,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getIndexManager",value:function(e){return new Cp(e)}},{key:"getDocumentOverlayCache",value:function(e){return pp.Jt(this.O,e)}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;_c("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=13===(i=this.schemaVersion)?Rd:12===i?Pd:11===i?Od:void Tc();return this.Ln.runTransaction(e,o,u,(function(i){return a=new Hd(i,r.Nn?r.Nn.next():qc.A),"readwrite-primary"===t?r.Jn(a).next((function(e){return!!e||r.Yn(a)})).next((function(t){if(!t)throw Ec("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Sn.enqueueRetryable((function(){return r.Fn(!1)})),new Oc(Nc.FAILED_PRECONDITION,Dd);return n(a)})).next((function(e){return r.Zn(a).next((function(){return e}))})):r._s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"_s",value:function(e){var t=this;return hv(e).get(hd.key).next((function(e){if(null!==e&&t.ss(e.leaseTimestampMs,5e3)&&!t.cs(e.ownerId)&&!t.ts(e)&&!(t.Cn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Oc(Nc.FAILED_PRECONDITION,lv)}))}},{key:"Zn",value:function(e){var t=new hd(this.clientId,this.allowTabSynchronization,Date.now());return hv(e).put(hd.key,t)}},{key:"Xn",value:function(e){var t=this,n=hv(e);return n.get(hd.key).next((function(e){return t.ts(e)?(_c("IndexedDbPersistence","Releasing primary lease."),n.delete(hd.key)):Md.resolve()}))}},{key:"ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Ec("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Qn",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.On=function(){e.Sn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.jn()}))},this.document.addEventListener("visibilitychange",this.On),this.inForeground="visible"===this.document.visibilityState)}},{key:"hs",value:function(){this.On&&(this.document.removeEventListener("visibilitychange",this.On),this.On=null)}},{key:"Wn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.kn=function(){t.us(),!Sr()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Sn.enterRestrictedMode(!0),t.Sn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.kn))}},{key:"ls",value:function(){this.kn&&(this.window.removeEventListener("pagehide",this.kn),this.kn=null)}},{key:"cs",value:function(e){var t;try{var n=null!==(null===(t=this.Gn)||void 0===t?void 0:t.getItem(this.os(e)));return _c("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Ec("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"us",value:function(){if(this.Gn)try{this.Gn.setItem(this.os(this.clientId),String(Date.now()))}catch(ga){Ec("Failed to set zombie client id.",ga)}}},{key:"fs",value:function(){if(this.Gn)try{this.Gn.removeItem(this.os(this.clientId))}catch(ga){}}},{key:"os",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"Vt",value:function(){return Ud.Vt()}}]),e}();function hv(e){return Gd(e,hd.store)}function dv(e){return Gd(e,Ed.store)}function pv(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var vv=ir((function e(t,n){nr(this,e),this.progress=t,this.ws=n})),yv=function(){function e(t,n,r){nr(this,e),this.qn=t,this.gs=n,this.indexManager=r}return ir(e,[{key:"ys",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.ps(e,t,r)}))}},{key:"ps",value:function(e,t,n){return this.qn.getEntry(e,t).next((function(e){var t,r=ar(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"Is",value:function(e,t){e.forEach((function(e,n){var r,i=ar(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Es",value:function(e,t){var n=this;return this.qn.getEntries(e,t).next((function(t){return n.Ts(e,t).next((function(){return t}))}))}},{key:"Ts",value:function(e,t){var n=this;return this.gs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.Is(t,e)}))}},{key:"As",value:function(e,t,n){return function(e){return yl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Rs(e,t.path):hf(t)?this.Ps(e,t,n):this.bs(e,t,n)}},{key:"Rs",value:function(e,t){return this.ys(e,new yl(t)).next((function(e){var t=ph();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ps",value:function(e,t,n){var r=this,i=t.collectionGroup,a=ph();return this.indexManager.getCollectionParents(e,i).next((function(o){return Md.forEach(o,(function(o){var u=function(e,t){return new af(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.bs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"bs",value:function(e,t,n){var r,i=this;return this.qn.getAll(e,t.path,n).next((function(n){return r=n,i.gs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=ar(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=ar(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Dl.newInvalidDocument(s),r=r.insert(s,c)),zf(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){kf(t,n)||(r=r.remove(e))})),r}))}}]),e}(),mv=function(){function e(t,n,r,i){nr(this,e),this.targetId=t,this.fromCache=n,this.vs=r,this.Vs=i}return ir(e,null,[{key:"Ss",value:function(t,n){var r,i=mh(),a=mh(),o=ar(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),gv=function(){function e(){nr(this,e)}return ir(e,[{key:"Ds",value:function(e){this.Cs=e}},{key:"As",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Qc.min())?this.Ns(e,t):this.Cs.Es(e,r).next((function(a){var o=i.xs(t,a);return(sf(t)||cf(t))&&i.ks(t.limitType,o,r,n)?i.Ns(e,t):(xc()<=$r.DEBUG&&_c("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),gf(t)),i.Cs.As(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"xs",value:function(e,t){var n=new sh(bf(e));return t.forEach((function(t,r){kf(e,r)&&(n=n.add(r))})),n}},{key:"ks",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ns",value:function(e,t){return xc()<=$r.DEBUG&&_c("QueryEngine","Using full collection scan to execute query:",gf(t)),this.Cs.As(e,t,Qc.min())}}]),e}(),kv=function(){function e(t,n,r,i){nr(this,e),this.persistence=t,this.Os=n,this.O=i,this.Ms=new ah(Kc),this.$s=new tv((function(e){return ql(e)}),Bl),this.Fs=Qc.min(),this.Bs=t.getRemoteDocumentCache(),this.Un=t.getTargetCache(),this.Kn=t.getBundleCache(),this.Ls(r)}return ir(e,[{key:"Ls",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.gs=this.persistence.getMutationQueue(e,this.indexManager),this.Us=new yv(this.Bs,this.gs,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Os.Ds(this.Us)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Ms)}))}}]),e}();function bv(e,t,n,r){return new kv(e,t,n,r)}function wv(e,t){return xv.apply(this,arguments)}function xv(){return xv=Zn(tr().mark((function e(t,n){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.gs.getAllMutationBatches(e).next((function(i){return t=i,r.Ls(n),r.gs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=mh(),s=ar(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=ar(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=ar(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=ar(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.Us.Es(e,u).next((function(e){return{qs:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),xv.apply(this,arguments)}function _v(e,t){var n=Ac(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Md.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Cc(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.gs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}function Ev(e){var t=Ac(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Un.getLastRemoteSnapshotVersion(e)}))}function Iv(e,t){var n=Ac(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.Ms;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.Un.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.Un.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(rl.EMPTY_BYTE_STRING,Qc.min()).withLastLimboFreeSnapshotVersion(Qc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.Un.updateTargetData(e,c))}}));var u=hh();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Sv(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(Qc.min())){var s=n.Un.getLastRemoteSnapshotVersion(e).next((function(t){return n.Un.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Md.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.Us.Ts(e,u)})).next((function(){return u}))})).then((function(e){return n.Ms=i,e}))}function Sv(e,t,n){var r=mh();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hh();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(Qc.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):_c("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function Tv(e,t){var n=Ac(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.gs.getNextMutationBatchAfterBatchId(e,t)}))}function Cv(e,t){var n=Ac(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Un.getTargetData(e,t).next((function(i){return i?(r=i,Md.resolve(r)):n.Un.allocateTargetId(e).next((function(i){return r=new Jd(t,i,0,e.currentSequenceNumber),n.Un.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Ms.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.$s.set(t,e.targetId)),e}))}function Av(e,t,n){return Nv.apply(this,arguments)}function Nv(){return Nv=Zn(tr().mark((function e(t,n,r){var i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ac(t),a=i.Ms.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),qd(e.t1)){e.next=12;break}throw e.t1;case 12:_c("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Ms=i.Ms.remove(n),i.$s.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),Nv.apply(this,arguments)}function Ov(e,t,n){var r=Ac(e),i=Qc.min(),a=mh();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Ac(e),i=r.$s.get(n);return void 0!==i?Md.resolve(r.Ms.get(i)):r.Un.getTargetData(t,n)}(r,e,pf(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Un.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Os.As(e,t,n?i:Qc.min(),n?a:mh())})).next((function(e){return{documents:e,Ks:a}}))}))}function Pv(e,t){var n=Ac(e),r=Ac(n.Un),i=n.Ms.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function Rv(e){var t=Ac(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Ac(e),i=hh(),a=tp(n),o=ov(t),u=IDBKeyRange.lowerBound(a,!0);return o.Qt({index:gd.readTimeIndex,range:u},(function(e,t){var n=Zd(r.O,t);i=i.insert(n.key,n),a=t.readTime})).next((function(){return{ws:i,readTime:np(a)}}))}(t.Bs,e,t.Fs)})).then((function(e){var n=e.ws,r=e.readTime;return t.Fs=r,n}))}function Dv(e){return Lv.apply(this,arguments)}function Lv(){return Lv=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ac(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=ov(e),n=Qc.min();return t.Qt({index:gd.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=np(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Fs=e})));case 2:case"end":return e.stop()}}),e)}))),Lv.apply(this,arguments)}function Mv(e,t,n,r){return Fv.apply(this,arguments)}function Fv(){return Fv=Zn(tr().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Ac(t),o=mh(),u=hh(),s=ar(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.Gs(l.metadata.name),l.document&&(o=o.add(f)),(h=n.js(l)).setReadTime(n.Qs(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.Bs.newChangeBuffer({trackRemovals:!0}),e.next=7,Cv(a,function(e){return pf(uf(Zc.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return Sv(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.Un.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.Un.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.Us.Ts(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),Fv.apply(this,arguments)}function Uv(e,t){return jv.apply(this,arguments)}function jv(){return jv=Zn(tr().mark((function e(t,n){var r,i,a,o=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:mh(),e.next=3,Cv(t,pf(sp(n.bundledQuery)));case 3:return i=e.sent,a=Ac(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=Lh(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a.Kn.saveNamedQuery(e,n);var o=i.withResumeToken(rl.EMPTY_BYTE_STRING,t);return a.Ms=a.Ms.insert(o.targetId,o),a.Un.updateTargetData(e,o).next((function(){return a.Un.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.Un.addMatchingKeys(e,r,i.targetId)})).next((function(){return a.Kn.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),jv.apply(this,arguments)}var Vv=function(){function e(t){nr(this,e),this.O=t,this.Ws=new Map,this.zs=new Map}return ir(e,[{key:"getBundleMetadata",value:function(e,t){return Md.resolve(this.Ws.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Ws.set(t.id,{id:(n=t).id,version:n.version,createTime:Lh(n.createTime)}),Md.resolve()}},{key:"getNamedQuery",value:function(e,t){return Md.resolve(this.zs.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.zs.set(t.name,function(e){return{name:e.name,query:sp(e.bundledQuery),readTime:Lh(e.readTime)}}(t)),Md.resolve()}}]),e}(),qv=function(){function e(){nr(this,e),this.overlays=new ah(yl.comparator),this.Hs=new Map}return ir(e,[{key:"getOverlay",value:function(e,t){return Md.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n){r.Yt(e,t,n)})),Md.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Hs.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Hs.delete(n)),Md.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=new Map,i=t.length+1,a=new yl(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Md.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new ah((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=new Map,i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=new Map,c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(t,e)})),!(s.size>=r)););return Md.resolve(s)}},{key:"Yt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);null!==r&&this.Hs.get(r.largestBatchId).delete(n.key),this.overlays=this.overlays.insert(n.key,new Yd(t,n));var i=this.Hs.get(t);void 0===i&&(i=new Set,this.Hs.set(t,i)),i.add(n.key)}}}]),e}(),Bv=function(){function e(){nr(this,e),this.Js=new sh(zv.Ys),this.Xs=new sh(zv.Zs)}return ir(e,[{key:"isEmpty",value:function(){return this.Js.isEmpty()}},{key:"addReference",value:function(e,t){var n=new zv(e,t);this.Js=this.Js.add(n),this.Xs=this.Xs.add(n)}},{key:"ti",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.ei(new zv(e,t))}},{key:"ni",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"si",value:function(e){var t=this,n=new yl(new Zc([])),r=new zv(n,e),i=new zv(n,e+1),a=[];return this.Xs.forEachInRange([r,i],(function(e){t.ei(e),a.push(e.key)})),a}},{key:"ii",value:function(){var e=this;this.Js.forEach((function(t){return e.ei(t)}))}},{key:"ei",value:function(e){this.Js=this.Js.delete(e),this.Xs=this.Xs.delete(e)}},{key:"ri",value:function(e){var t=new yl(new Zc([])),n=new zv(t,e),r=new zv(t,e+1),i=mh();return this.Xs.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new zv(e,0),n=this.Js.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),zv=function(){function e(t,n){nr(this,e),this.key=t,this.oi=n}return ir(e,null,[{key:"Ys",value:function(e,t){return yl.comparator(e.key,t.key)||Kc(e.oi,t.oi)}},{key:"Zs",value:function(e,t){return Kc(e.oi,t.oi)||yl.comparator(e.key,t.key)}}]),e}(),Kv=function(){function e(t,n){nr(this,e),this.indexManager=t,this.referenceDelegate=n,this.gs=[],this.ci=1,this.ui=new sh(zv.Ys)}return ir(e,[{key:"checkEmpty",value:function(e){return Md.resolve(0===this.gs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ci;this.ci++,this.gs.length>0&&this.gs[this.gs.length-1];var a=new Qd(i,t,n,r);this.gs.push(a);var o,u=ar(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.ui=this.ui.add(new zv(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return Md.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Md.resolve(this.ai(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.hi(n),i=r<0?0:r;return Md.resolve(this.gs.length>i?this.gs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Md.resolve(0===this.gs.length?-1:this.ci-1)}},{key:"getAllMutationBatches",value:function(e){return Md.resolve(this.gs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new zv(t,0),i=new zv(t,Number.POSITIVE_INFINITY),a=[];return this.ui.forEachInRange([r,i],(function(e){var t=n.ai(e.oi);a.push(t)})),Md.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new sh(Kc);return t.forEach((function(e){var t=new zv(e,0),i=new zv(e,Number.POSITIVE_INFINITY);n.ui.forEachInRange([t,i],(function(e){r=r.add(e.oi)}))})),Md.resolve(this.li(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;yl.isDocumentKey(i)||(i=i.child(""));var a=new zv(new yl(i),0),o=new sh(Kc);return this.ui.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.oi)),!0)}),a),Md.resolve(this.li(o))}},{key:"li",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ai(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Cc(0===this.fi(t.batchId,"removed")),this.gs.shift();var r=this.ui;return Md.forEach(t.mutations,(function(i){var a=new zv(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.ui=r}))}},{key:"Qe",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new zv(t,0),r=this.ui.firstAfterOrEqual(n);return Md.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.gs.length,Md.resolve()}},{key:"fi",value:function(e,t){return this.hi(e)}},{key:"hi",value:function(e){return 0===this.gs.length?0:e-this.gs[0].batchId}},{key:"ai",value:function(e){var t=this.hi(e);return t<0||t>=this.gs.length?null:this.gs[t]}}]),e}(),Wv=function(){function e(t){nr(this,e),this.di=t,this.docs=new ah(yl.comparator),this.size=0}return ir(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.di(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Md.resolve(n?n.document.mutableCopy():Dl.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Dl.newInvalidDocument(e))})),Md.resolve(r)}},{key:"getAll",value:function(e,t,n){for(var r=hh(),i=new yl(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||s.readTime.compareTo(n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Md.resolve(r)}},{key:"_i",value:function(e,t){return Md.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Hv(this)}},{key:"getSize",value:function(e){return Md.resolve(this.size)}}]),e}(),Hv=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this)).Tn=e,r}return ir(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Tn.addEntry(e,i)):t.Tn.removeEntry(r)})),Md.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Tn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Tn.getEntries(e,t)}}]),n}(nv),Gv=function(){function e(t){nr(this,e),this.persistence=t,this.wi=new tv((function(e){return ql(e)}),Bl),this.lastRemoteSnapshotVersion=Qc.min(),this.highestTargetId=0,this.mi=0,this.gi=new Bv,this.targetCount=0,this.yi=Bp.He()}return ir(e,[{key:"forEachTarget",value:function(e,t){return this.wi.forEach((function(e,n){return t(n)})),Md.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Md.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Md.resolve(this.mi)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.yi.next(),Md.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.mi&&(this.mi=t),Md.resolve()}},{key:"Ze",value:function(e){this.wi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.yi=new Bp(t),this.highestTargetId=t),e.sequenceNumber>this.mi&&(this.mi=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Ze(t),this.targetCount+=1,Md.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Ze(t),Md.resolve()}},{key:"removeTargetData",value:function(e,t){return this.wi.delete(t.target),this.gi.si(t.targetId),this.targetCount-=1,Md.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.wi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.wi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),Md.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Md.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.wi.get(t)||null;return Md.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.gi.ti(t,n),Md.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.gi.ni(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Md.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.gi.si(t),Md.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.gi.ri(t);return Md.resolve(n)}},{key:"containsKey",value:function(e,t){return Md.resolve(this.gi.containsKey(t))}}]),e}(),Qv=function(){function e(t,n){var r=this;nr(this,e),this.pi={},this.overlays={},this.Nn=new qc(0),this.xn=!1,this.xn=!0,this.referenceDelegate=t(this),this.Un=new Gv(this),this.indexManager=new Sp,this.qn=new Wv((function(e){return r.referenceDelegate.Ii(e)})),this.O=new Xd(n),this.Kn=new Vv(this.O)}return ir(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.xn=!1,Promise.resolve()}},{key:"started",get:function(){return this.xn}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new qv,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.pi[e.toKey()];return n||(n=new Kv(t,this.referenceDelegate),this.pi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Un}},{key:"getRemoteDocumentCache",value:function(){return this.qn}},{key:"getBundleCache",value:function(){return this.Kn}},{key:"runTransaction",value:function(e,t,n){var r=this;_c("MemoryPersistence","Starting transaction:",e);var i=new $v(this.Nn.next());return this.referenceDelegate.Ei(),n(i).next((function(e){return r.referenceDelegate.Ti(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Ai",value:function(e,t){return Md.or(Object.values(this.pi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),$v=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return ir(n)}(Ld),Yv=function(){function e(t){nr(this,e),this.persistence=t,this.Ri=new Bv,this.Pi=null}return ir(e,[{key:"vi",get:function(){if(this.Pi)return this.Pi;throw Tc()}},{key:"addReference",value:function(e,t,n){return this.Ri.addReference(n,t),this.vi.delete(n.toString()),Md.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ri.removeReference(n,t),this.vi.add(n.toString()),Md.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.vi.add(t.toString()),Md.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ri.si(t.targetId).forEach((function(e){return n.vi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ei",value:function(){this.Pi=new Set}},{key:"Ti",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Md.forEach(this.vi,(function(r){var i=yl.fromPath(r);return t.Vi(e,i).next((function(e){e||n.removeEntry(i,Qc.min())}))})).next((function(){return t.Pi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Vi(e,t).next((function(e){e?n.vi.delete(t.toString()):n.vi.add(t.toString())}))}},{key:"Ii",value:function(e){return 0}},{key:"Vi",value:function(e,t){var n=this;return Md.or([function(){return Md.resolve(n.Ri.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ai(e,t)}])}}],[{key:"bi",value:function(t){return new e(t)}}]),e}();function Jv(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function Xv(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Zv(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var ey=function(){function e(t,n,r,i){nr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return ir(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Oc(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Ec("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),ty=function(){function e(t,n,r){nr(this,e),this.targetId=t,this.state=n,this.error=r}return ir(e,[{key:"Di",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Si",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Oc(i.error.code,i.error.message))),a?new e(t,i.state,r):(Ec("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),ny=function(){function e(t,n){nr(this,e),this.clientId=t,this.activeTargetIds=n}return ir(e,null,[{key:"Si",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=kh(),o=0;i&&o<r.activeTargetIds.length;++o)i=vl(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Ec("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ry=function(){function e(t,n){nr(this,e),this.clientId=t,this.onlineState=n}return ir(e,null,[{key:"Si",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ec("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),iy=function(){function e(){nr(this,e),this.activeTargetIds=kh()}return ir(e,[{key:"Ci",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ni",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Di",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),ay=function(){function e(t,n,r,i,a){nr(this,e),this.window=t,this.Sn=n,this.persistenceKey=r,this.xi=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ki=this.Oi.bind(this),this.Mi=new ah(Kc),this.started=!1,this.$i=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.Fi=Jv(this.persistenceKey,this.xi),this.Bi=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.Mi=this.Mi.insert(this.xi,new iy),this.Li=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Ui=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.qi=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Ki=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Gi=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.ki)}return ir(e,[{key:"start",value:function(){var e=Zn(tr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.ds();case 2:t=e.sent,n=ar(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.xi){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(Jv(this.persistenceKey,i)))&&(o=ny.Si(i,a))&&(this.Mi=this.Mi.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.ji(),(u=this.storage.getItem(this.Ki))&&(s=this.Qi(u))&&this.Wi(s),c=ar(this.$i);try{for(c.s();!(l=c.n()).done;)f=l.value,this.Oi(f)}catch(d){c.e(d)}finally{c.f()}this.$i=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Bi,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.zi(this.Mi)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.Mi.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Hi(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Hi(e,t,n),this.Ji(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Zv(this.persistenceKey,e));if(n){var r=ty.Si(e,n);r&&(t=r.state)}}return this.Yi.Ci(e),this.ji(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Yi.Ni(e),this.ji()}},{key:"isLocalQueryTarget",value:function(e){return this.Yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Zv(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Xi(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ji(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Zi(e)}},{key:"notifyBundleLoaded",value:function(){this.tr()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.ki),this.removeItem(this.Fi),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return _c("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){_c("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){_c("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Oi",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(_c("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Fi)return void Ec("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Sn.enqueueRetryable(Zn(tr().mark((function e(){var r,i,a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Li.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.er(n.key),e.abrupt("return",t.nr(r,null));case 6:if(!(i=t.sr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.nr(i.clientId,i));case 9:e.next=39;break;case 11:if(!t.Ui.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.ir(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.rr(a));case 16:e.next=39;break;case 18:if(!t.qi.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.cr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.ur(o));case 23:e.next=39;break;case 25:if(n.key!==t.Ki){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Qi(n.newValue))){e.next=30;break}return e.abrupt("return",t.Wi(u));case 30:e.next=39;break;case 32:if(n.key!==t.Bi){e.next=37;break}s=function(e){var t=qc.A;if(null!=e)try{var n=JSON.parse(e);Cc("number"==typeof n),t=n}catch(e){Ec("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==qc.A&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Gi){e.next=39;break}return e.abrupt("return",t.syncEngine.ar());case 39:e.next=42;break;case 41:t.$i.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"Yi",get:function(){return this.Mi.get(this.xi)}},{key:"ji",value:function(){this.setItem(this.Fi,this.Yi.Di())}},{key:"Hi",value:function(e,t,n){var r=new ey(this.currentUser,e,t,n),i=Xv(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Di())}},{key:"Ji",value:function(e){var t=Xv(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Zi",value:function(e){var t={clientId:this.xi,onlineState:e};this.storage.setItem(this.Ki,JSON.stringify(t))}},{key:"Xi",value:function(e,t,n){var r=Zv(this.persistenceKey,e),i=new ty(e,t,n);this.setItem(r,i.Di())}},{key:"tr",value:function(){this.setItem(this.Gi,"value-not-used")}},{key:"er",value:function(e){var t=this.Li.exec(e);return t?t[1]:null}},{key:"sr",value:function(e,t){var n=this.er(e);return ny.Si(n,t)}},{key:"ir",value:function(e,t){var n=this.Ui.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return ey.Si(new kc(i),r,t)}},{key:"cr",value:function(e,t){var n=this.qi.exec(e),r=Number(n[1]);return ty.Si(r,t)}},{key:"Qi",value:function(e){return ry.Si(e)}},{key:"rr",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.hr(t.batchId,t.state,t.error));case 2:_c("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ur",value:function(e){return this.syncEngine.lr(e.targetId,e.state,e.error)}},{key:"nr",value:function(e,t){var n=this,r=t?this.Mi.insert(e,t):this.Mi.remove(e),i=this.zi(this.Mi),a=this.zi(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.dr(o,u).then((function(){n.Mi=r}))}},{key:"Wi",value:function(e){this.Mi.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"zi",value:function(e){var t=kh();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"Vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),oy=function(){function e(){nr(this,e),this._r=new iy,this.wr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return ir(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this._r.Ci(e),this.wr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.wr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this._r.Ni(e)}},{key:"isLocalQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.wr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this._r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this._r.activeTargetIds.has(e)}},{key:"start",value:function(){return this._r=new iy,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),uy=function(){function e(){nr(this,e)}return ir(e,[{key:"mr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),sy=function(){function e(){var t=this;nr(this,e),this.gr=function(){return t.yr()},this.pr=function(){return t.Ir()},this.Er=[],this.Tr()}return ir(e,[{key:"mr",value:function(e){this.Er.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.gr),window.removeEventListener("offline",this.pr)}},{key:"Tr",value:function(){window.addEventListener("online",this.gr),window.addEventListener("offline",this.pr)}},{key:"yr",value:function(){_c("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=ar(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ir",value:function(){_c("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=ar(this.Er);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"Vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),cy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},ly=function(){function e(t){nr(this,e),this.Ar=t.Ar,this.Rr=t.Rr}return ir(e,[{key:"Pr",value:function(e){this.br=e}},{key:"vr",value:function(e){this.Vr=e}},{key:"onMessage",value:function(e){this.Sr=e}},{key:"close",value:function(){this.Rr()}},{key:"send",value:function(e){this.Ar(e)}},{key:"Dr",value:function(){this.br()}},{key:"Cr",value:function(e){this.Vr(e)}},{key:"Nr",value:function(e){this.Sr(e)}}]),e}(),fy=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return ir(n,[{key:"Br",value:function(e,t,n,r){return new Promise((function(i,a){var o=new mc;o.listenOnce(hc.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case fc.NO_ERROR:var t=o.getResponseJson();_c("Connection","XHR received:",JSON.stringify(t)),i(t);break;case fc.TIMEOUT:_c("Connection",'RPC "'+e+'" timed out'),a(new Oc(Nc.DEADLINE_EXCEEDED,"Request time out"));break;case fc.HTTP_ERROR:var n=o.getStatus();if(_c("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Nc).indexOf(t)>=0?t:Nc.UNKNOWN}(r.status);a(new Oc(u,r.message))}else a(new Oc(Nc.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Oc(Nc.UNAVAILABLE,"Connection failed."));break;default:Tc()}}finally{_c("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"Ur",value:function(e,t,n){var r=[this.kr,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=cc(),a=lc(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new vc({})),this.Fr(o.initMessageHeaders,t,n),Ir()||Cr()||Er().indexOf("Electron/")>=0||Ar()||Er().indexOf("MSAppHost/")>=0||Tr()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");_c("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new ly({Ar:function(e){l?_c("Connection","Not sending because WebChannel is closed:",e):(c||(_c("Connection","Opening WebChannel transport."),s.open(),c=!0),_c("Connection","WebChannel sending:",e),s.send(e))},Rr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,yc.EventType.OPEN,(function(){l||_c("Connection","WebChannel transport opened.")})),h(s,yc.EventType.CLOSE,(function(){l||(l=!0,_c("Connection","WebChannel transport closed"),f.Cr())})),h(s,yc.EventType.ERROR,(function(e){l||(l=!0,Ic("Connection","WebChannel transport errored:",e),f.Cr(new Oc(Nc.UNAVAILABLE,"The operation could not be completed")))})),h(s,yc.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Cc(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_c("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Xf[e];if(void 0!==t)return ih(t)}(a),u=i.message;void 0===o&&(o=Nc.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.Cr(new Oc(o,u)),s.close()}else _c("Connection","WebChannel received:",n),f.Nr(n)}})),h(a,dc.STAT_EVENT,(function(e){e.stat===pc.PROXY?_c("Connection","Detected buffering proxy"):e.stat===pc.NOPROXY&&_c("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Dr()}),0),f}}]),n}(function(){function e(t){nr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.kr=n+"://"+t.host,this.Or="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return ir(e,[{key:"Mr",value:function(e,t,n,r,i){var a=this.$r(e,t);_c("RestConnection","Sending: ",a,n);var o={};return this.Fr(o,r,i),this.Br(e,a,o,n).then((function(e){return _c("RestConnection","Received: ",e),e}),(function(t){throw Ic("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Lr",value:function(e,t,n,r,i){return this.Mr(e,t,n,r,i)}},{key:"Fr",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+bc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"$r",value:function(e,t){var n=cy[e];return"".concat(this.kr,"/v1/").concat(t,":").concat(n)}}]),e}());function hy(){return"undefined"!=typeof window?window:null}function dy(){return"undefined"!=typeof document?document:null}function py(e){return new Oh(e,!0)}var vy=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;nr(this,e),this.Sn=t,this.timerId=n,this.qr=r,this.Kr=i,this.Gr=a,this.jr=0,this.Qr=null,this.Wr=Date.now(),this.reset()}return ir(e,[{key:"reset",value:function(){this.jr=0}},{key:"zr",value:function(){this.jr=this.Gr}},{key:"Hr",value:function(e){var t=this;this.cancel();var n=Math.floor(this.jr+this.Jr()),r=Math.max(0,Date.now()-this.Wr),i=Math.max(0,n-r);i>0&&_c("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.jr," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Qr=this.Sn.enqueueAfterDelay(this.timerId,i,(function(){return t.Wr=Date.now(),e()})),this.jr*=this.Kr,this.jr<this.qr&&(this.jr=this.qr),this.jr>this.Gr&&(this.jr=this.Gr)}},{key:"Yr",value:function(){null!==this.Qr&&(this.Qr.skipDelay(),this.Qr=null)}},{key:"cancel",value:function(){null!==this.Qr&&(this.Qr.cancel(),this.Qr=null)}},{key:"Jr",value:function(){return(Math.random()-.5)*this.jr}}]),e}(),yy=function(){function e(t,n,r,i,a,o,u,s){nr(this,e),this.Sn=t,this.Xr=r,this.Zr=i,this.eo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.no=0,this.so=null,this.io=null,this.stream=null,this.ro=new vy(t,n)}return ir(e,[{key:"oo",value:function(){return 1===this.state||5===this.state||this.co()}},{key:"co",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.uo()}},{key:"stop",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.oo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ao",value:function(){this.state=0,this.ro.reset()}},{key:"ho",value:function(){var e=this;this.co()&&null===this.so&&(this.so=this.Sn.enqueueAfterDelay(this.Xr,6e4,(function(){return e.lo()})))}},{key:"fo",value:function(e){this._o(),this.stream.send(e)}},{key:"lo",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.co()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_o",value:function(){this.so&&(this.so.cancel(),this.so=null)}},{key:"wo",value:function(){this.io&&(this.io.cancel(),this.io=null)}},{key:"close",value:function(){var e=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._o(),this.wo(),this.ro.cancel(),this.no++,4!==t?this.ro.reset():n&&n.code===Nc.RESOURCE_EXHAUSTED?(Ec(n.toString()),Ec("Using maximum backoff delay to prevent overloading the backend."),this.ro.zr()):n&&n.code===Nc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.mo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.vr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"mo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.yo(this.no),n=this.no;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Ae(t,2),i=r[0],a=r[1];e.no===n&&e.po(i,a)}),(function(n){t((function(){var t=new Oc(Nc.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Io(t)}))}))}},{key:"po",value:function(e,t){var n=this,r=this.yo(this.no);this.stream=this.Eo(e,t),this.stream.Pr((function(){r((function(){return n.state=2,n.io=n.Sn.enqueueAfterDelay(n.Zr,1e4,(function(){return n.co()&&(n.state=3),Promise.resolve()})),n.listener.Pr()}))})),this.stream.vr((function(e){r((function(){return n.Io(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"uo",value:function(){var e=this;this.state=5,this.ro.Hr(Zn(tr().mark((function t(){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Io",value:function(e){return _c("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"yo",value:function(e){var t=this;return function(n){t.Sn.enqueueAndForget((function(){return t.no===e?n():(_c("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),my=function(e){sr(n,e);var t=dr(n);function n(e,r,i,a,o,u){var s;return nr(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).O=o,s}return ir(n,[{key:"Eo",value:function(e,t){return this.eo.Ur("Listen",e,t)}},{key:"onMessage",value:function(e){this.ro.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Tc()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Cc(void 0===t||"string"==typeof t),rl.fromBase64String(t||"")):(Cc(void 0===t||t instanceof Uint8Array),rl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Nc.UNKNOWN:ih(e.code);return new Oc(t,e.message||"")}(o);n=new Eh(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=jh(e,s.document.name),l=Lh(s.document.updateTime),f=new Pl({mapValue:{fields:s.document.fields}}),h=Dl.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new xh(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=jh(e,v.document),m=v.readTime?Lh(v.readTime):Qc.min(),g=Dl.newNoDocument(y,m),k=v.removedTargetIds||[];n=new xh([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=jh(e,b.document),x=b.removedTargetIds||[];n=new xh([],x,w,null)}else{if(!("filter"in t))return Tc();t.filter;var _=t.filter;_.targetId;var E=_.count||0,I=new nh(E),S=_.targetId;n=new _h(S,I)}return n}(this.O,e),n=function(e){if(!("targetChange"in e))return Qc.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Qc.min():t.readTime?Lh(t.readTime):Qc.min()}(e);return this.listener.To(t,n)}},{key:"Ao",value:function(e){var t={};t.database=Bh(this.O),t.addTarget=function(e,t){var n,r=t.target;return(n=zl(r)?{documents:$h(e,r)}:{query:Yh(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Rh(e,t.resumeToken):t.snapshotVersion.compareTo(Qc.min())>0&&(n.readTime=Ph(e,t.snapshotVersion.toTimestamp())),n}(this.O,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Tc()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.O,e);n&&(t.labels=n),this.fo(t)}},{key:"Ro",value:function(e){var t={};t.database=Bh(this.O),t.removeTarget=e,this.fo(t)}}]),n}(yy),gy=function(e){sr(n,e);var t=dr(n);function n(e,r,i,a,o,u){var s;return nr(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).O=o,s.Po=!1,s}return ir(n,[{key:"bo",get:function(){return this.Po}},{key:"start",value:function(){this.Po=!1,this.lastStreamToken=void 0,ra(cr(n.prototype),"start",this).call(this)}},{key:"mo",value:function(){this.Po&&this.vo([])}},{key:"Eo",value:function(e,t){return this.eo.Ur("Write",e,t)}},{key:"onMessage",value:function(e){if(Cc(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Po){this.ro.reset();var t=function(e,t){return e&&e.length>0?(Cc(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Lh(e.updateTime):Lh(t);return n.isEqual(Qc.min())&&(n=Lh(t)),new Uf(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Lh(e.commitTime);return this.listener.Vo(n,t)}return Cc(!e.writeResults||0===e.writeResults.length),this.Po=!0,this.listener.So()}},{key:"Do",value:function(){var e={};e.database=Bh(this.O),this.fo(e)}},{key:"vo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Gh(t.O,e)}))};this.fo(n)}}]),n}(yy),ky=function(e){sr(n,e);var t=dr(n);function n(e,r,i,a){var o;return nr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.eo=i,o.O=a,o.Co=!1,o}return ir(n,[{key:"No",value:function(){if(this.Co)throw new Oc(Nc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Mr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Ae(i,2),o=a[0],u=a[1];return r.eo.Mr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Oc(Nc.UNKNOWN,e.toString())}))}},{key:"Lr",value:function(e,t,n){var r=this;return this.No(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Ae(i,2),o=a[0],u=a[1];return r.eo.Lr(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Nc.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Oc(Nc.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.Co=!0}}]),n}(function(){return ir((function e(){nr(this,e)}))}()),by=function(){function e(t,n){nr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.xo=0,this.ko=null,this.Oo=!0}return ir(e,[{key:"Mo",value:function(){var e=this;0===this.xo&&(this.$o("Unknown"),this.ko=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ko=null,e.Fo("Backend didn't respond within 10 seconds."),e.$o("Offline"),Promise.resolve()})))}},{key:"Bo",value:function(e){"Online"===this.state?this.$o("Unknown"):(this.xo++,this.xo>=1&&(this.Lo(),this.Fo("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.$o("Offline")))}},{key:"set",value:function(e){this.Lo(),this.xo=0,"Online"===e&&(this.Oo=!1),this.$o(e)}},{key:"$o",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Fo",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Oo?(Ec(t),this.Oo=!1):_c("OnlineStateTracker",t)}},{key:"Lo",value:function(){null!==this.ko&&(this.ko.cancel(),this.ko=null)}}]),e}(),wy=ir((function e(t,n,r,i,a){var o=this;nr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Uo=[],this.qo=new Map,this.Ko=new Set,this.Go=[],this.jo=a,this.jo.mr((function(e){r.enqueueAndForget(Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Py(o),!e.t0){e.next=5;break}return _c("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ac(t)).Ko.add(4),e.next=4,Ey(n);case 4:return n.Qo.set("Unknown"),n.Ko.delete(4),e.next=8,xy(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Qo=new by(r,i)}));function xy(e){return _y.apply(this,arguments)}function _y(){return _y=Zn(tr().mark((function e(t){var n,r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Py(t)){e.next=18;break}n=ar(t.Go),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),_y.apply(this,arguments)}function Ey(e){return Iy.apply(this,arguments)}function Iy(){return Iy=Zn(tr().mark((function e(t){var n,r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ar(t.Go),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),Iy.apply(this,arguments)}function Sy(e,t){var n=Ac(e);n.qo.has(t.targetId)||(n.qo.set(t.targetId,t),Oy(n)?Ny(n):um(n).co()&&Cy(n,t))}function Ty(e,t){var n=Ac(e),r=um(n);n.qo.delete(t),r.co()&&Ay(n,t),0===n.qo.size&&(r.co()?r.ho():Py(n)&&n.Qo.set("Unknown"))}function Cy(e,t){e.Wo.Z(t.targetId),um(e).Ao(t)}function Ay(e,t){e.Wo.Z(t),um(e).Ro(t)}function Ny(e){e.Wo=new Sh({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.qo.get(t)||null}}),um(e).start(),e.Qo.Mo()}function Oy(e){return Py(e)&&!um(e).oo()&&e.qo.size>0}function Py(e){return 0===Ac(e).Ko.size}function Ry(e){e.Wo=void 0}function Dy(e){return Ly.apply(this,arguments)}function Ly(){return Ly=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.qo.forEach((function(e,n){Cy(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Ly.apply(this,arguments)}function My(e,t){return Fy.apply(this,arguments)}function Fy(){return Fy=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ry(t),Oy(t)?(t.Qo.Bo(n),Ny(t)):t.Qo.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Fy.apply(this,arguments)}function Uy(e,t,n){return jy.apply(this,arguments)}function jy(){return jy=Zn(tr().mark((function e(t,n,r){var i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Qo.set("Online"),!(n instanceof Eh&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Zn(tr().mark((function e(t,n){var r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=ar(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.qo.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.qo.delete(o),t.Wo.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),_c("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Vy(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof xh?t.Wo.ct(n):n instanceof _h?t.Wo._t(n):t.Wo.ht(n),r.isEqual(Qc.min())){e.next=29;break}return e.prev=14,e.next=17,Ev(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Wo.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.qo.get(r);i&&e.qo.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.qo.get(t);if(n){e.qo.set(t,n.withResumeToken(rl.EMPTY_BYTE_STRING,n.snapshotVersion)),Ay(e,t);var r=new Jd(n.target,t,1,n.sequenceNumber);Cy(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),_c("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Vy(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),jy.apply(this,arguments)}function Vy(e,t,n){return qy.apply(this,arguments)}function qy(){return qy=Zn(tr().mark((function e(t,n,r){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qd(n)){e.next=2;break}throw n;case 2:return t.Ko.add(1),e.next=5,Ey(t);case 5:t.Qo.set("Offline"),r||(r=function(){return Ev(t.localStore)}),t.asyncQueue.enqueueRetryable(Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _c("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Ko.delete(1),e.next=6,xy(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),qy.apply(this,arguments)}function By(e,t){return t().catch((function(n){return Vy(e,n,t)}))}function zy(e){return Ky.apply(this,arguments)}function Ky(){return Ky=Zn(tr().mark((function e(t){var n,r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Ac(t),r=sm(n),i=n.Uo.length>0?n.Uo[n.Uo.length-1].batchId:-1;case 2:if(!Wy(n)){e.next=19;break}return e.prev=3,e.next=6,Tv(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.Uo.length&&r.ho(),e.abrupt("break",19);case 10:i=a.batchId,Hy(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Vy(n,e.t0);case 17:e.next=2;break;case 19:Gy(n)&&Qy(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Ky.apply(this,arguments)}function Wy(e){return Py(e)&&e.Uo.length<10}function Hy(e,t){e.Uo.push(t);var n=sm(e);n.co()&&n.bo&&n.vo(t.mutations)}function Gy(e){return Py(e)&&!sm(e).oo()&&e.Uo.length>0}function Qy(e){sm(e).start()}function $y(e){return Yy.apply(this,arguments)}function Yy(){return Yy=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:sm(t).Do();case 1:case"end":return e.stop()}}),e)}))),Yy.apply(this,arguments)}function Jy(e){return Xy.apply(this,arguments)}function Xy(){return Xy=Zn(tr().mark((function e(t){var n,r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=sm(t),r=ar(t.Uo);try{for(r.s();!(i=r.n()).done;)a=i.value,n.vo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),Xy.apply(this,arguments)}function Zy(e,t,n){return em.apply(this,arguments)}function em(){return em=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.Uo.shift(),a=$d.from(i,n,r),e.next=3,By(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,zy(t);case 5:case"end":return e.stop()}}),e)}))),em.apply(this,arguments)}function tm(e,t){return nm.apply(this,arguments)}function nm(){return nm=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&sm(t).bo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Zn(tr().mark((function e(t,n){var r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!rh(i=n.code)||i===Nc.ABORTED){e.next=7;break}return r=t.Uo.shift(),sm(t).ao(),e.next=5,By(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,zy(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Gy(t)&&Qy(t);case 5:case"end":return e.stop()}}),e)}))),nm.apply(this,arguments)}function rm(e,t){return im.apply(this,arguments)}function im(){return im=Zn(tr().mark((function e(t,n){var r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Ac(t)).asyncQueue.verifyOperationInProgress(),_c("RemoteStore","RemoteStore received new credentials"),i=Py(r),r.Ko.add(3),e.next=6,Ey(r);case 6:return i&&r.Qo.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Ko.delete(3),e.next=12,xy(r);case 12:case"end":return e.stop()}}),e)}))),im.apply(this,arguments)}function am(e,t){return om.apply(this,arguments)}function om(){return om=Zn(tr().mark((function e(t,n){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ac(t),!n){e.next=7;break}return r.Ko.delete(2),e.next=5,xy(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Ko.add(2),e.next=12,Ey(r);case 12:r.Qo.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),om.apply(this,arguments)}function um(e){return e.zo||(e.zo=function(e,t,n){var r=Ac(e);return r.No(),new my(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:Dy.bind(null,e),vr:My.bind(null,e),To:Uy.bind(null,e)}),e.Go.push(function(){var t=Zn(tr().mark((function t(n){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.zo.ao(),Oy(e)?Ny(e):e.Qo.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.zo.stop();case 6:Ry(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.zo}function sm(e){return e.Ho||(e.Ho=function(e,t,n){var r=Ac(e);return r.No(),new gy(t,r.eo,r.authCredentials,r.appCheckCredentials,r.O,n)}(e.datastore,e.asyncQueue,{Pr:$y.bind(null,e),vr:tm.bind(null,e),So:Jy.bind(null,e),Vo:Zy.bind(null,e)}),e.Go.push(function(){var t=Zn(tr().mark((function t(n){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Ho.ao(),t.next=4,zy(e);case 4:t.next=9;break;case 6:return t.next=8,e.Ho.stop();case 8:e.Uo.length>0&&(_c("RemoteStore","Stopping write stream with ".concat(e.Uo.length," pending writes")),e.Uo=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Ho}var cm=function(){function e(t,n,r,i,a){nr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Pc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return ir(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Oc(Nc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function lm(e,t){if(Ec("AsyncQueue","".concat(t,": ").concat(e)),qd(e))return new Oc(Nc.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var fm=function(){function e(t){nr(this,e),this.comparator=t?function(e,n){return t(e,n)||yl.comparator(e.key,n.key)}:function(e,t){return yl.comparator(e.key,t.key)},this.keyedMap=ph(),this.sortedSet=new ah(this.comparator)}return ir(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),hm=function(){function e(){nr(this,e),this.Jo=new ah(yl.comparator)}return ir(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Jo.get(t);n?0!==e.type&&3===n.type?this.Jo=this.Jo.insert(t,e):3===e.type&&1!==n.type?this.Jo=this.Jo.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Jo=this.Jo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Jo=this.Jo.remove(t):1===e.type&&2===n.type?this.Jo=this.Jo.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Jo=this.Jo.insert(t,{type:2,doc:e.doc}):Tc():this.Jo=this.Jo.insert(t,e)}},{key:"Yo",value:function(){var e=[];return this.Jo.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),dm=function(){function e(t,n,r,i,a,o,u,s){nr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return ir(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,fm.emptySet(n),a,r,i,!0,!1)}}]),e}(),pm=ir((function e(){nr(this,e),this.Xo=void 0,this.listeners=[]})),vm=ir((function e(){nr(this,e),this.queries=new tv((function(e){return mf(e)}),yf),this.onlineState="Unknown",this.Zo=new Set}));function ym(e,t){return mm.apply(this,arguments)}function mm(){return mm=Zn(tr().mark((function e(t,n){var r,i,a,o,u;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ac(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new pm),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Xo=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=lm(e.t0,"Initialization of query '".concat(gf(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.tc(r.onlineState),o.Xo&&n.ec(o.Xo)&&xm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),mm.apply(this,arguments)}function gm(e,t){return km.apply(this,arguments)}function km(){return km=Zn(tr().mark((function e(t,n){var r,i,a,o,u;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ac(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),km.apply(this,arguments)}function bm(e,t){var n,r=Ac(e),i=!1,a=ar(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=ar(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.ec(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Xo=o}}}catch(f){a.e(f)}finally{a.f()}i&&xm(r)}function wm(e,t,n){var r=Ac(e),i=r.queries.get(t);if(i){var a,o=ar(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function xm(e){e.Zo.forEach((function(e){e.next()}))}var _m=function(){function e(t,n,r){nr(this,e),this.query=t,this.nc=n,this.sc=!1,this.ic=null,this.onlineState="Unknown",this.options=r||{}}return ir(e,[{key:"ec",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=ar(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new dm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.sc?this.rc(e)&&(this.nc.next(e),a=!0):this.oc(e,this.onlineState)&&(this.cc(e),a=!0),this.ic=e,a}},{key:"onError",value:function(e){this.nc.error(e)}},{key:"tc",value:function(e){this.onlineState=e;var t=!1;return this.ic&&!this.sc&&this.oc(this.ic,e)&&(this.cc(this.ic),t=!0),t}},{key:"oc",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.uc||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"rc",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ic&&this.ic.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"cc",value:function(e){e=dm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.sc=!0,this.nc.next(e)}}]),e}(),Em=function(){function e(t,n){nr(this,e),this.payload=t,this.byteLength=n}return ir(e,[{key:"ac",value:function(){return"metadata"in this.payload}}]),e}(),Im=function(){function e(t){nr(this,e),this.O=t}return ir(e,[{key:"Gs",value:function(e){return jh(this.O,e)}},{key:"js",value:function(e){return e.metadata.exists?Wh(this.O,e.document,!1):Dl.newNoDocument(this.Gs(e.metadata.name),this.Qs(e.metadata.readTime))}},{key:"Qs",value:function(e){return Lh(e)}}]),e}(),Sm=function(){function e(t,n,r){nr(this,e),this.hc=t,this.localStore=n,this.O=r,this.queries=[],this.documents=[],this.progress=Tm(t)}return ir(e,[{key:"lc",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"fc",value:function(e){var t,n=new Map,r=new Im(this.O),i=ar(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.Gs(a.metadata.name),s=ar(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||mh()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Zn(tr().mark((function e(){var t,n,r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mv(this.localStore,new Im(this.O),this.documents,this.hc.id);case 2:t=e.sent,n=this.fc(this.documents),r=ar(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,Uv(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new vv(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Tm(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Cm=ir((function e(t){nr(this,e),this.key=t})),Am=ir((function e(t){nr(this,e),this.key=t})),Nm=function(){function e(t,n){nr(this,e),this.query=t,this.dc=n,this._c=null,this.current=!1,this.wc=mh(),this.mutatedKeys=mh(),this.mc=bf(t),this.gc=new fm(this.mc)}return ir(e,[{key:"yc",get:function(){return this.dc}},{key:"Ic",value:function(e,t){var n=this,r=t?t.Ec:new hm,i=t?t.gc:this.gc,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=sf(this.query)&&i.size===this.query.limit?i.last():null,c=cf(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=kf(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Tc(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.mc(f,s)>0||c&&n.mc(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),sf(this.query)||cf(this.query))for(;o.size>this.query.limit;){var l=sf(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{gc:o,Ec:r,ks:u,mutatedKeys:a}}},{key:"Tc",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.gc;this.gc=e.gc,this.mutatedKeys=e.mutatedKeys;var a=e.Ec.Yo();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tc()}};return n(e)-n(t)}(e.type,t.type)||r.mc(e.doc,t.doc)})),this.Ac(n);var o=t?this.Rc():[],u=0===this.wc.size&&this.current?1:0,s=u!==this._c;return this._c=u,0!==a.length||s?{snapshot:new dm(this.query,e.gc,i,a,e.mutatedKeys,0===u,s,!1),Pc:o}:{Pc:o}}},{key:"tc",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({gc:this.gc,Ec:new hm,mutatedKeys:this.mutatedKeys,ks:!1},!1)):{Pc:[]}}},{key:"bc",value:function(e){return!this.dc.has(e)&&!!this.gc.has(e)&&!this.gc.get(e).hasLocalMutations}},{key:"Ac",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.dc=t.dc.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.dc=t.dc.delete(e)})),this.current=e.current)}},{key:"Rc",value:function(){var e=this;if(!this.current)return[];var t=this.wc;this.wc=mh(),this.gc.forEach((function(t){e.bc(t.key)&&(e.wc=e.wc.add(t.key))}));var n=[];return t.forEach((function(t){e.wc.has(t)||n.push(new Am(t))})),this.wc.forEach((function(e){t.has(e)||n.push(new Cm(e))})),n}},{key:"vc",value:function(e){this.dc=e.Ks,this.wc=mh();var t=this.Ic(e.documents);return this.applyChanges(t,!0)}},{key:"Vc",value:function(){return dm.fromInitialDocuments(this.query,this.gc,this.mutatedKeys,0===this._c)}}]),e}(),Om=ir((function e(t,n,r){nr(this,e),this.query=t,this.targetId=n,this.view=r})),Pm=ir((function e(t){nr(this,e),this.key=t,this.Sc=!1})),Rm=function(){function e(t,n,r,i,a,o){nr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.Dc={},this.Cc=new tv((function(e){return mf(e)}),yf),this.Nc=new Map,this.xc=new Set,this.kc=new ah(yl.comparator),this.Oc=new Map,this.Mc=new Bv,this.$c={},this.Fc=new Map,this.Bc=Bp.Je(),this.onlineState="Unknown",this.Lc=void 0}return ir(e,[{key:"isPrimaryClient",get:function(){return!0===this.Lc}}]),e}();function Dm(e,t){return Lm.apply(this,arguments)}function Lm(){return Lm=Zn(tr().mark((function e(t,n){var r,i,a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Tg(t),!(o=r.Cc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Vc(),e.next=15;break;case 6:return e.next=8,Cv(r.localStore,pf(n));case 8:return u=e.sent,r.isPrimaryClient&&Sy(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,Mm(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),Lm.apply(this,arguments)}function Mm(e,t,n,r){return Fm.apply(this,arguments)}function Fm(){return Fm=Zn(tr().mark((function e(t,n,r,i){var a,o,u,s,c,l;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Uc=function(e,n,r){return function(){var e=Zn(tr().mark((function e(t,n,r,i){var a,o,u;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ic(r),e.t0=a.ks,!e.t0){e.next=6;break}return e.next=5,Ov(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ic(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(rg(t,n.targetId,u.Pc),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Ov(t.localStore,n,!0);case 3:return a=e.sent,o=new Nm(n,a.Ks),u=o.Ic(a.documents),s=wh.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),rg(t,r,c.Pc),l=new Om(n,r,o),e.abrupt("return",(t.Cc.set(n,l),t.Nc.has(r)?t.Nc.get(r).push(n):t.Nc.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),Fm.apply(this,arguments)}function Um(e,t){return jm.apply(this,arguments)}function jm(){return jm=Zn(tr().mark((function e(t,n){var r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Ac(t),i=r.Cc.get(n),!((a=r.Nc.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Nc.set(i.targetId,a.filter((function(e){return!yf(e,n)}))),void r.Cc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Av(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),Ty(r.remoteStore,i.targetId),tg(r,i.targetId)})).catch(Gp);case 9:e.next=14;break;case 11:return tg(r,i.targetId),e.next=14,Av(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),jm.apply(this,arguments)}function Vm(e,t,n){return qm.apply(this,arguments)}function qm(){return qm=Zn(tr().mark((function e(t,n,r){var i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Cg(t),e.prev=1,e.next=4,function(e,t){var n,r=Ac(e),i=Gc.now(),a=t.reduce((function(e,t){return e.add(t.key)}),mh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Us.Es(e,a).next((function(a){n=a;var o,u=[],s=ar(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=Kf(c,n.get(c.key));null!=l&&u.push(new Qf(c.key,l,Rl(l.value.mapValue),jf.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.gs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.$c[e.currentUser.toKey()];r||(r=new ah(Kc)),r=r.insert(t,n),e.$c[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,og(i,a.changes);case 9:return e.next=11,zy(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=lm(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),qm.apply(this,arguments)}function Bm(e,t){return zm.apply(this,arguments)}function zm(){return zm=Zn(tr().mark((function e(t,n){var r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),e.prev=1,e.next=4,Iv(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Oc.get(t);n&&(Cc(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Sc=!0:e.modifiedDocuments.size>0?Cc(n.Sc):e.removedDocuments.size>0&&(Cc(n.Sc),n.Sc=!1))})),e.next=8,og(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Gp(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),zm.apply(this,arguments)}function Km(e,t,n){var r=Ac(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Cc.forEach((function(e,n){var r=n.view.tc(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Ac(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=ar(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.tc(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&xm(n)}(r.eventManager,t),i.length&&r.Dc.To(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Wm(e,t,n){return Hm.apply(this,arguments)}function Hm(){return Hm=Zn(tr().mark((function e(t,n,r){var i,a,o,u,s,c;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Ac(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Oc.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new ah(yl.comparator)).insert(o,Dl.newNoDocument(o,Qc.min())),s=mh().add(o),c=new bh(Qc.min(),new Map,new sh(Kc),u,s),e.next=9,Bm(i,c);case 9:i.kc=i.kc.remove(o),i.Oc.delete(n),ag(i),e.next=16;break;case 14:return e.next=16,Av(i.localStore,n,!1).then((function(){return tg(i,n,r)})).catch(Gp);case 16:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Gm(e,t){return Qm.apply(this,arguments)}function Qm(){return Qm=Zn(tr().mark((function e(t,n){var r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),i=n.batch.batchId,e.prev=1,e.next=4,_v(r.localStore,n);case 4:return a=e.sent,eg(r,i,null),Zm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,og(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Qm.apply(this,arguments)}function $m(e,t,n){return Ym.apply(this,arguments)}function Ym(){return Ym=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ac(t),e.prev=1,e.next=4,function(e,t){var n=Ac(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.gs.lookupMutationBatch(e,t).next((function(t){return Cc(null!==t),r=t.keys(),n.gs.removeMutationBatch(e,t)})).next((function(){return n.gs.performConsistencyCheck(e)})).next((function(){return n.Us.Es(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,eg(i,n,r),Zm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,og(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Gp(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Ym.apply(this,arguments)}function Jm(e,t){return Xm.apply(this,arguments)}function Xm(){return Xm=Zn(tr().mark((function e(t,n){var r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Py((r=Ac(t)).remoteStore)||_c("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Ac(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.gs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.Fc.get(i)||[]).push(n),r.Fc.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=lm(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),Xm.apply(this,arguments)}function Zm(e,t){(e.Fc.get(t)||[]).forEach((function(e){e.resolve()})),e.Fc.delete(t)}function eg(e,t,n){var r=Ac(e),i=r.$c[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.$c[r.currentUser.toKey()]=i}}function tg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=ar(e.Nc.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.Cc.delete(a),n&&e.Dc.qc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Nc.delete(t),e.isPrimaryClient&&e.Mc.si(t).forEach((function(t){e.Mc.containsKey(t)||ng(e,t)}))}function ng(e,t){e.xc.delete(t.path.canonicalString());var n=e.kc.get(t);null!==n&&(Ty(e.remoteStore,n),e.kc=e.kc.remove(t),e.Oc.delete(n),ag(e))}function rg(e,t,n){var r,i=ar(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Cm?(e.Mc.addReference(a.key,t),ig(e,a)):a instanceof Am?(_c("SyncEngine","Document no longer in limbo: "+a.key),e.Mc.removeReference(a.key,t),e.Mc.containsKey(a.key)||ng(e,a.key)):Tc()}}catch(o){i.e(o)}finally{i.f()}}function ig(e,t){var n=t.key,r=n.path.canonicalString();e.kc.get(n)||e.xc.has(r)||(_c("SyncEngine","New document in limbo: "+n),e.xc.add(r),ag(e))}function ag(e){for(;e.xc.size>0&&e.kc.size<e.maxConcurrentLimboResolutions;){var t=e.xc.values().next().value;e.xc.delete(t);var n=new yl(Zc.fromString(t)),r=e.Bc.next();e.Oc.set(r,new Pm(n)),e.kc=e.kc.insert(n,r),Sy(e.remoteStore,new Jd(pf(uf(n.path)),r,2,qc.A))}}function og(e,t,n){return ug.apply(this,arguments)}function ug(){return ug=Zn(tr().mark((function e(t,n,r){var i,a,o,u;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Ac(t),a=[],o=[],u=[],e.t0=i.Cc.isEmpty(),e.t0){e.next=9;break}return i.Cc.forEach((function(e,t){u.push(i.Uc(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=mv.Ss(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.Dc.To(a),e.next=9,function(){var e=Zn(tr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Md.forEach(n,(function(t){return Md.forEach(t.vs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Md.forEach(t.Vs,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),qd(e.t0)){e.next=10;break}throw e.t0;case 10:_c("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=ar(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.Ms.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.Ms=r.Ms.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),ug.apply(this,arguments)}function sg(e,t){return cg.apply(this,arguments)}function cg(){return cg=Zn(tr().mark((function e(t,n){var r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Ac(t)).currentUser.isEqual(n)){e.next=11;break}return _c("SyncEngine","User change. New user:",n.toKey()),e.next=5,wv(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Fc.forEach((function(e){e.forEach((function(e){e.reject(new Oc(Nc.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Fc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,og(r,i.qs);case 11:case"end":return e.stop()}}),e)}))),cg.apply(this,arguments)}function lg(e,t){var n=Ac(e),r=n.Oc.get(t);if(r&&r.Sc)return mh().add(r.key);var i=mh(),a=n.Nc.get(t);if(!a)return i;var o,u=ar(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.Cc.get(s);i=i.unionWith(c.view.yc)}}catch(l){u.e(l)}finally{u.f()}return i}function fg(e,t){return hg.apply(this,arguments)}function hg(){return hg=Zn(tr().mark((function e(t,n){var r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),e.next=3,Ov(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.vc(i),e.abrupt("return",(r.isPrimaryClient&&rg(r,n.targetId,a.Pc),a));case 6:case"end":return e.stop()}}),e)}))),hg.apply(this,arguments)}function dg(e){return pg.apply(this,arguments)}function pg(){return pg=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ac(t),e.abrupt("return",Rv(n.localStore).then((function(e){return og(n,e)})));case 2:case"end":return e.stop()}}),e)}))),pg.apply(this,arguments)}function vg(e,t,n,r){return yg.apply(this,arguments)}function yg(){return yg=Zn(tr().mark((function e(t,n,r,i){var a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ac(t),e.next=3,function(e,t){var n=Ac(e),r=Ac(n.gs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Ge(e,t).next((function(t){return t?n.Us.Es(e,t):Md.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,zy(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(eg(a,n,i||null),Zm(a,n),function(e,t){Ac(Ac(e).gs).Qe(t)}(a.localStore,n)):Tc();case 11:return e.next=13,og(a,o);case 13:e.next=16;break;case 15:_c("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),yg.apply(this,arguments)}function mg(e,t){return gg.apply(this,arguments)}function gg(){return gg=Zn(tr().mark((function e(t,n){var r,i,a,o,u,s,c,l;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Tg(r=Ac(t)),Cg(r),!0!==n||!0===r.Lc){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,kg(r,i.toArray());case 5:return a=e.sent,r.Lc=!0,e.next=9,am(r.remoteStore,!0);case 9:o=ar(a);try{for(o.s();!(u=o.n()).done;)s=u.value,Sy(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Lc){e.next=25;break}return c=[],l=Promise.resolve(),r.Nc.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return tg(r,t),Av(r.localStore,t,!0)})),Ty(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,kg(r,c);case 21:return function(e){var t=Ac(e);t.Oc.forEach((function(e,n){Ty(t.remoteStore,n)})),t.Mc.ii(),t.Oc=new Map,t.kc=new ah(yl.comparator)}(r),r.Lc=!1,e.next=25,am(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),gg.apply(this,arguments)}function kg(e,t,n){return bg.apply(this,arguments)}function bg(){return bg=Zn(tr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Ac(t),a=[],o=[],u=ar(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.Nc.get(c))||0===f.length){e.next=34;break}return e.next=11,Cv(i.localStore,pf(f[0]));case 11:l=e.sent,h=ar(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.Cc.get(p),e.next=20,fg(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,Pv(i.localStore,c);case 36:return m=e.sent,e.next=39,Cv(i.localStore,m);case 39:return l=e.sent,e.next=42,Mm(i,wg(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.Dc.To(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),bg.apply(this,arguments)}function wg(e){return of(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function xg(e){var t=Ac(e);return Ac(Ac(t.localStore).persistence).ds()}function _g(e,t,n,r){return Eg.apply(this,arguments)}function Eg(){return Eg=Zn(tr().mark((function e(t,n,r,i){var a,o,u;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Ac(t)).Lc){e.next=5;break}_c("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!a.Nc.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,Rv(a.localStore);case 11:return o=e.sent,u=bh.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,og(a,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,Av(a.localStore,n,!0);case 18:return tg(a,n,i),e.abrupt("break",21);case 20:Tc();case 21:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Ig(e,t,n){return Sg.apply(this,arguments)}function Sg(){return Sg=Zn(tr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Tg(t)).Lc){e.next=45;break}a=ar(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.Nc.has(u)){e.next=10;break}return _c("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,Pv(i.localStore,u);case 12:return s=e.sent,e.next=15,Cv(i.localStore,s);case 15:return c=e.sent,e.next=18,Mm(i,wg(s),c.targetId,!1);case 18:Sy(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=ar(r),e.prev=30,h=tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.Nc.has(t),!e.t0){e.next=5;break}return e.next=5,Av(i.localStore,t,!1).then((function(){Ty(i.remoteStore,t),tg(i,t)})).catch(Gp);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Sg.apply(this,arguments)}function Tg(e){var t=Ac(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Bm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=lg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Wm.bind(null,t),t.Dc.To=bm.bind(null,t.eventManager),t.Dc.qc=wm.bind(null,t.eventManager),t}function Cg(e){var t=Ac(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Gm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=$m.bind(null,t),t}function Ag(e,t,n){var r=Ac(e);(function(){var e=Zn(tr().mark((function e(t,n,r){var i,a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Ac(e),r=Lh(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Kn.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)));case 10:return r._updateProgress(Tm(i)),a=new Sm(i,t.localStore,n.O),e.next=14,n.Kc();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,a.lc(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.Kc();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,a.complete();case 27:return s=e.sent,e.next=30,og(t,s.ws,void 0);case 30:return e.next=32,function(e,t){var n=Ac(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Kn.saveBundleMetadata(e,t)}))}(t.localStore,i);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),Ic("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var Ng=function(){function e(){nr(this,e),this.synchronizeTabs=!1}return ir(e,[{key:"initialize",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.O=py(t.databaseInfo.databaseId),this.sharedClientState=this.Gc(t),this.persistence=this.jc(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Qc(t),this.localStore=this.Wc(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Qc",value:function(e){return null}},{key:"Wc",value:function(e){return bv(this.persistence,new gv,e.initialUser,this.O)}},{key:"jc",value:function(e){return new Qv(Yv.bi,this.O)}},{key:"Gc",value:function(e){return new oy}},{key:"terminate",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Og=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this)).zc=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return ir(n,[{key:"initialize",value:function(){var e=Zn(tr().mark((function e(t){var r=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(cr(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,Dv(this.localStore);case 4:return e.next=6,this.zc.initialize(this,t);case 6:return e.next=8,Cg(this.zc.syncEngine);case 8:return e.next=10,zy(this.zc.remoteStore);case 10:return e.next=12,this.persistence.Hn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Wc",value:function(e){return bv(this.persistence,new gv,e.initialUser,this.O)}},{key:"Qc",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new Jp(t,e.asyncQueue)}},{key:"jc",value:function(e){var t=pv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Dp.withCacheSize(this.cacheSizeBytes):Dp.DEFAULT;return new fv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,hy(),dy(),this.O,this.sharedClientState,!!this.forceOwnership)}},{key:"Gc",value:function(e){return new oy}}]),n}(Ng),Pg=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e,r,!1)).zc=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return ir(n,[{key:"initialize",value:function(){var e=Zn(tr().mark((function e(t){var r,i=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(cr(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.zc.syncEngine,e.t0=this.sharedClientState instanceof ay,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={hr:vg.bind(null,r),lr:_g.bind(null,r),dr:Ig.bind(null,r),ds:xg.bind(null,r),ar:dg.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Hn(function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mg(i.zc.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Gc",value:function(e){var t=hy();if(!ay.Vt(t))throw new Oc(Nc.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=pv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ay(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(Og),Rg=function(){function e(){nr(this,e)}return ir(e,[{key:"initialize",value:function(){var e=Zn(tr().mark((function e(t,n){var r=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Km(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=sg.bind(null,this.syncEngine),e.next=12,am(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new vm}},{key:"createDatastore",value:function(e){var t,n=py(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new fy(t));return function(e,t,n,r){return new ky(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Km(o.syncEngine,e,0)},a=sy.Vt()?new sy:new uy,new wy(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Rm(e,t,n,r,i,a);return o&&(u.Lc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ac(t),_c("RemoteStore","RemoteStore shutting down."),n.Ko.add(5),e.next=5,Ey(n);case 5:n.jo.shutdown(),n.Qo.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function Dg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Zn(tr().mark((function r(){var i;return tr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var Lg=function(){function e(t){nr(this,e),this.observer=t,this.muted=!1}return ir(e,[{key:"next",value:function(e){this.observer.next&&this.Hc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Hc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Jc",value:function(){this.muted=!0}},{key:"Hc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Mg=function(){function e(t,n){var r=this;nr(this,e),this.Yc=t,this.O=n,this.metadata=new Pc,this.buffer=new Uint8Array,this.Xc=new TextDecoder("utf-8"),this.Zc().then((function(e){e&&e.ac()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return ir(e,[{key:"close",value:function(){return this.Yc.cancel()}},{key:"getMetadata",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Zc());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Zc",value:function(){var e=Zn(tr().mark((function e(){var t,n,r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tu();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Xc.decode(t),r=Number(n),isNaN(r)&&this.eu("length string (".concat(n,") is not valid number")),e.next=9,this.nu(r);case 9:return i=e.sent,e.abrupt("return",new Em(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"su",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"tu",value:function(){var e=Zn(tr().mark((function e(){var t,n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.su()<0)){e.next=7;break}return e.next=3,this.iu();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.su())<0&&this.eu("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"nu",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.iu();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.eu("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Xc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"eu",value:function(e){throw this.Yc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"iu",value:function(){var e=Zn(tr().mark((function e(){var t,n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Yc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Fg=function(){function e(t){nr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return ir(e,[{key:"lookup",value:function(){var e=Zn(tr().mark((function e(t){var n,r=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Oc(Nc.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Zn(tr().mark((function e(t,n){var r,i,a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),i=Bh(r.O)+"/documents",a={documents:n.map((function(e){return Uh(r.O,e)}))},e.next=5,r.Lr("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=Hh(r.O,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Cc(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new eh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Zn(tr().mark((function e(){var t,n=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=yl.fromPath(t);n.mutations.push(new th(r,n.precondition(r)))})),e.next=7,function(){var e=Zn(tr().mark((function e(t,n){var r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ac(t),i=Bh(r.O)+"/documents",a={writes:n.map((function(e){return Gh(r.O,e)}))},e.next=3,r.Mr("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Tc();t=Qc.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Oc(Nc.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?jf.updateTime(t):jf.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Qc.min()))throw new Oc(Nc.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return jf.updateTime(t)}return jf.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),Ug=function(){function e(t,n,r,i){nr(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.ru=5,this.ro=new vy(this.asyncQueue,"transaction_retry")}return ir(e,[{key:"run",value:function(){this.ru-=1,this.ou()}},{key:"ou",value:function(){var e=this;this.ro.Hr(Zn(tr().mark((function t(){var n,r;return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new Fg(e.datastore),(r=e.cu(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.uu(t)}))}))})).catch((function(t){e.uu(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"cu",value:function(e){try{var t=this.updateFunction(e);return!dl(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"uu",value:function(e){var t=this;this.ru>0&&this.au(e)?(this.ru-=1,this.asyncQueue.enqueueAndForget((function(){return t.ou(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"au",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!rh(t)}return!1}}]),e}(),jg=function(){function e(t,n,r,i){var a=this;nr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kc.UNAUTHENTICATED,this.clientId=zc.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _c("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return _c("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return ir(e,[{key:"getConfiguration",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Oc(Nc.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new Pc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Zn(tr().mark((function n(){var r;return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=lm(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function Vg(e,t){return qg.apply(this,arguments)}function qg(){return qg=Zn(tr().mark((function e(t,n){var r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),_c("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,wv(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),qg.apply(this,arguments)}function Bg(e,t){return zg.apply(this,arguments)}function zg(){return zg=Zn(tr().mark((function e(t,n){var r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,Kg(t);case 3:return r=e.sent,_c("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return rm(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return rm(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),zg.apply(this,arguments)}function Kg(e){return Wg.apply(this,arguments)}function Wg(){return Wg=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return _c("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,Vg(t,new Ng);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),Wg.apply(this,arguments)}function Hg(e){return Gg.apply(this,arguments)}function Gg(){return Gg=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return _c("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,Bg(t,new Rg);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),Gg.apply(this,arguments)}function Qg(e){return Kg(e).then((function(e){return e.persistence}))}function $g(e){return Kg(e).then((function(e){return e.localStore}))}function Yg(e){return Hg(e).then((function(e){return e.remoteStore}))}function Jg(e){return Hg(e).then((function(e){return e.syncEngine}))}function Xg(e){return Zg.apply(this,arguments)}function Zg(){return Zg=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hg(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Dm.bind(null,n.syncEngine),r.onUnlisten=Um.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),Zg.apply(this,arguments)}function ek(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Pc;return e.asyncQueue.enqueueAndForget(Zn(tr().mark((function i(){return tr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Lg({next:function(a){t.enqueueAndForget((function(){return gm(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Oc(Nc.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Oc(Nc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new _m(uf(n.path),a,{includeMetadataChanges:!0,uc:!0});return ym(e,o)},i.next=3,Xg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function tk(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Pc;return e.asyncQueue.enqueueAndForget(Zn(tr().mark((function i(){return tr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Lg({next:function(n){t.enqueueAndForget((function(){return gm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Oc(Nc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new _m(n,a,{includeMetadataChanges:!0,uc:!0});return ym(e,o)},i.next=3,Xg(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var nk=new Map;function rk(e,t,n){if(!n)throw new Oc(Nc.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ik(e,t,n,r){if(!0===t&&!0===r)throw new Oc(Nc.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function ak(e){if(!yl.isDocumentKey(e))throw new Oc(Nc.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function ok(e){if(yl.isDocumentKey(e))throw new Oc(Nc.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function uk(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Tc()}function sk(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Oc(Nc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=uk(e);throw new Oc(Nc.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function ck(e,t){if(t<=0)throw new Oc(Nc.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var lk=function(){function e(t){var n;if(nr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Oc(Nc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Oc(Nc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,ik("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return ir(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),fk=function(){function e(t,n,r){nr(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lk({}),this._settingsFrozen=!1,t instanceof hl?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Oc(Nc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(e.options.projectId)}(t))}return ir(e,[{key:"app",get:function(){if(!this._app)throw new Oc(Nc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Oc(Nc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lk(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Dc;switch(e.type){case"gapi":var t=e.client;return Cc(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Uc(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Oc(Nc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=nk.get(e);t&&(_c("ComponentProvider","Removing Datastore"),nk.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function hk(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=sk(e,fk))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Ic("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=kc.MOCK_USER;else{o=_r(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Oc(Nc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new kc(s)}e._authCredentials=new Lc(new Rc(o,u))}}var dk=function(){function e(t,n,r){nr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return ir(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new vk(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),pk=function(){function e(t,n,r){nr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return ir(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),vk=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this,e,r,uf(i)))._path=i,a.type="collection",a}return ir(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new dk(this.firestore,null,new yl(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(pk);function yk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Kr(e),rk("collection","path",t),e instanceof fk){var a=Zc.fromString.apply(Zc,[t].concat(r));return ok(a),new vk(e,null,a)}if(!(e instanceof dk||e instanceof vk))throw new Oc(Nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zc.fromString.apply(Zc,[t].concat(r)));return ok(o),new vk(e.firestore,null,o)}function mk(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Kr(e),1===arguments.length&&(t=zc.R()),rk("doc","path",t),e instanceof fk){var a=Zc.fromString.apply(Zc,[t].concat(r));return ak(a),new dk(e,null,new yl(a))}if(!(e instanceof dk||e instanceof vk))throw new Oc(Nc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Zc.fromString.apply(Zc,[t].concat(r)));return ak(o),new dk(e.firestore,e instanceof vk?e.converter:null,new yl(o))}function gk(e,t){return e=Kr(e),t=Kr(t),(e instanceof dk||e instanceof vk)&&(t instanceof dk||t instanceof vk)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function kk(e,t){return e=Kr(e),t=Kr(t),e instanceof pk&&t instanceof pk&&e.firestore===t.firestore&&yf(e._query,t._query)&&e.converter===t.converter}var bk=function(){function e(){var t=this;nr(this,e),this.hu=Promise.resolve(),this.lu=[],this.fu=!1,this.du=[],this._u=null,this.wu=!1,this.mu=!1,this.gu=[],this.ro=new vy(this,"async_queue_retry"),this.yu=function(){var e=dy();e&&_c("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ro.Yr()};var n=dy();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.yu)}return ir(e,[{key:"isShuttingDown",get:function(){return this.fu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.pu(),this.Iu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.fu){this.fu=!0,this.mu=e||!1;var t=dy();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.yu)}}},{key:"enqueue",value:function(e){var t=this;if(this.pu(),this.fu)return new Promise((function(){}));var n=new Pc;return this.Iu((function(){return t.fu&&t.mu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.lu.push(e),t.Eu()}))}},{key:"Eu",value:function(){var e=Zn(tr().mark((function e(){var t=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.lu.length){e.next=14;break}return e.prev=1,e.next=4,this.lu[0]();case 4:this.lu.shift(),this.ro.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),qd(e.t0)){e.next=12;break}throw e.t0;case 12:_c("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.lu.length>0&&this.ro.Hr((function(){return t.Eu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Iu",value:function(e){var t=this,n=this.hu.then((function(){return t.wu=!0,e().catch((function(e){t._u=e,t.wu=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Ec("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.wu=!1,e}))}));return this.hu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.pu(),this.gu.indexOf(e)>-1&&(t=0);var i=cm.createAndSchedule(this,e,t,n,(function(e){return r.Tu(e)}));return this.du.push(i),i}},{key:"pu",value:function(){this._u&&Tc()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Au",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.hu,e.next=3,t;case 3:if(t!==this.hu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ru",value:function(e){var t,n=ar(this.du);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Pu",value:function(e){var t=this;return this.Au().then((function(){t.du.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=ar(t.du);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Au()}))}},{key:"bu",value:function(e){this.gu.push(e)}},{key:"Tu",value:function(e){var t=this.du.indexOf(e);this.du.splice(t,1)}}]),e}();function wk(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=ar(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var xk=function(){function e(){nr(this,e),this._progressObserver={},this._taskCompletionResolver=new Pc,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return ir(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),_k=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new bk,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return ir(n,[{key:"_terminate",value:function(){return this._firestoreClient||Ik(this),this._firestoreClient.terminate()}}]),n}(fk);function Ek(e){return e._firestoreClient||Ik(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Ik(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new fl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new jg(e._authCredentials,e._appCheckCredentials,e._queue,r)}function Sk(e,t,n){var r=new Pc;return e.asyncQueue.enqueue(Zn(tr().mark((function i(){return tr().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,Vg(e,n);case 3:return i.next=5,Bg(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Nc.FAILED_PRECONDITION||e.code===Nc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function Tk(e){return function(e){return e.asyncQueue.enqueue(Zn(tr().mark((function t(){var n,r;return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qg(e);case 2:return n=t.sent,t.next=5,Yg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Ac(e);return t.Ko.delete(0),xy(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ek(e=sk(e,_k)))}function Ck(e){return function(e){return e.asyncQueue.enqueue(Zn(tr().mark((function t(){var n,r;return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Qg(e);case 2:return n=t.sent,t.next=5,Yg(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Ac(t)).Ko.add(0),e.next=4,Ey(n);case 4:n.Qo.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(Ek(e=sk(e,_k)))}function Ak(e,t){var n=Ek(e=sk(e,_k)),r=new xk;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new Mg(e,t)}(function(e,t){if(e instanceof Uint8Array)return Dg(e,t);if(e instanceof ArrayBuffer)return Dg(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,py(t));e.asyncQueue.enqueueAndForget(Zn(tr().mark((function t(){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ag,t.next=3,Jg(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function Nk(e,t){return function(e,t){return e.asyncQueue.enqueue(Zn(tr().mark((function n(){return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Ac(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Kn.getNamedQuery(e,t)}))},n.next=3,$g(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(Ek(e=sk(e,_k)),t).then((function(t){return t?new pk(e,null,t.query):null}))}function Ok(e){if(e._initialized||e._terminated)throw new Oc(Nc.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Pk=function(){function e(){nr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tl(n)}return ir(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Rk=function(){function e(t){nr(this,e),this._byteString=t}return ir(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(rl.fromBase64String(t))}catch(t){throw new Oc(Nc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(rl.fromUint8Array(t))}}]),e}(),Dk=ir((function e(t){nr(this,e),this._methodName=t})),Lk=function(){function e(t,n){if(nr(this,e),!isFinite(t)||t<-90||t>90)throw new Oc(Nc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Oc(Nc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return ir(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Kc(this._lat,e._lat)||Kc(this._long,e._long)}}]),e}(),Mk=/^__.*__$/,Fk=function(){function e(t,n,r){nr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ir(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Qf(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gf(e,this.data,t,this.fieldTransforms)}}]),e}(),Uk=function(){function e(t,n,r){nr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return ir(e,[{key:"toMutation",value:function(e,t){return new Qf(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function jk(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tc()}}var Vk=function(){function e(t,n,r,i,a,o){nr(this,e),this.settings=t,this.databaseId=n,this.O=r,this.ignoreUndefinedProperties=i,void 0===a&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return ir(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"Su",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.O,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Du",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.Nu(e),r}},{key:"xu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Su({path:n,Cu:!1});return r.vu(),r}},{key:"ku",value:function(e){return this.Su({path:void 0,Cu:!0})}},{key:"Ou",value:function(e){return ob(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.$u)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"vu",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Nu(this.path.get(e))}},{key:"Nu",value:function(e){if(0===e.length)throw this.Ou("Document fields must not be empty");if(jk(this.Vu)&&Mk.test(e))throw this.Ou('Document fields cannot begin and end with "__"')}}]),e}(),qk=function(){function e(t,n,r){nr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.O=r||py(t)}return ir(e,[{key:"Fu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vk({Vu:e,methodName:t,$u:n,path:tl.emptyPath(),Cu:!1,Mu:r},this.databaseId,this.O,this.ignoreUndefinedProperties)}}]),e}();function Bk(e){var t=e._freezeSettings(),n=py(e._databaseId);return new qk(e._databaseId,!!t.ignoreUndefinedProperties,n)}function zk(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Fu(a.merge||a.mergeFields?2:0,t,n,i);nb("Data must be an object, but it was:",o,r);var u,s,c=eb(r,o);if(a.merge)u=new nl(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=ar(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=rb(t,d,n);if(!o.contains(p))throw new Oc(Nc.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));ub(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new nl(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new Fk(new Pl(c),u,s)}var Kk=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.apply(this,arguments)}return ir(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Ou("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Ou("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Dk);function Wk(e,t,n){return new Vk({Vu:3,$u:t.settings.$u,methodName:e._methodName,Cu:n},t.databaseId,t.O,t.ignoreUndefinedProperties)}var Hk=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.apply(this,arguments)}return ir(n,[{key:"_toFieldTransform",value:function(e){return new Ff(e.path,new Af)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Dk),Gk=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e)).Bu=r,i}return ir(n,[{key:"_toFieldTransform",value:function(e){var t=Wk(this,e,!0),n=this.Bu.map((function(e){return Zk(e,t)})),r=new Nf(n);return new Ff(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Dk),Qk=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e)).Bu=r,i}return ir(n,[{key:"_toFieldTransform",value:function(e){var t=Wk(this,e,!0),n=this.Bu.map((function(e){return Zk(e,t)})),r=new Pf(n);return new Ff(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Dk),$k=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e)).Lu=r,i}return ir(n,[{key:"_toFieldTransform",value:function(e){var t=new Df(e.O,Ef(e.O,this.Lu));return new Ff(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(Dk);function Yk(e,t,n,r){var i=e.Fu(1,t,n);nb("Data must be an object, but it was:",i,r);var a=[],o=Pl.empty();Yc(r,(function(e,r){var u=ab(t,e,n);r=Kr(r);var s=i.xu(u);if(r instanceof Kk)a.push(u);else{var c=Zk(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new nl(a);return new Uk(o,u,i.fieldTransforms)}function Jk(e,t,n,r,i,a){var o=e.Fu(1,t,n),u=[rb(t,r,n)],s=[i];if(a.length%2!=0)throw new Oc(Nc.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(rb(t,a[c])),s.push(a[c+1]);for(var l=[],f=Pl.empty(),h=u.length-1;h>=0;--h)if(!ub(l,u[h])){var d=u[h],p=s[h];p=Kr(p);var v=o.xu(d);if(p instanceof Kk)l.push(d);else{var y=Zk(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new nl(l);return new Uk(f,m,o.fieldTransforms)}function Xk(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Zk(n,e.Fu(r?4:3,t))}function Zk(e,t){if(tb(e=Kr(e)))return nb("Unsupported field value:",t,e),eb(e,t);if(e instanceof Dk)return function(e,t){if(!jk(t.Vu))throw t.Ou("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Ou("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Cu&&4!==t.Vu)throw t.Ou("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=ar(e);try{for(a.s();!(n=a.n()).done;){var o=Zk(n.value,t.ku(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Kr(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ef(t.O,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=Gc.fromDate(e);return{timestampValue:Ph(t.O,n)}}if(e instanceof Gc){var r=new Gc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ph(t.O,r)}}if(e instanceof Lk)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Rk)return{bytesValue:Rh(t.O,e._byteString)};if(e instanceof dk){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Ou("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Mh(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Ou("Unsupported field value: ".concat(uk(e)))}(e,t)}function eb(e,t){var n={};return Jc(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yc(e,(function(e,r){var i=Zk(r,t.Du(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function tb(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Gc||e instanceof Lk||e instanceof Rk||e instanceof dk||e instanceof Dk)}function nb(e,t,n){if(!tb(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=uk(n);throw"an object"===r?t.Ou(e+" a custom object"):t.Ou(e+" "+r)}}function rb(e,t,n){if((t=Kr(t))instanceof Pk)return t._internalPath;if("string"==typeof t)return ab(e,t);throw ob("Field path arguments must be of type string or ",e,!1,void 0,n)}var ib=new RegExp("[~\\*/\\[\\]]");function ab(e,t,n){if(t.search(ib)>=0)throw ob("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return pr(Pk,me(t.split(".")))._internalPath}catch(r){throw ob("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function ob(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Oc(Nc.INVALID_ARGUMENT,u+e+s)}function ub(e,t){return e.some((function(e){return e.isEqual(t)}))}var sb=function(){function e(t,n,r,i,a){nr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return ir(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new dk(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new cb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(lb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),cb=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.apply(this,arguments)}return ir(n,[{key:"data",value:function(){return ra(cr(n.prototype),"data",this).call(this)}}]),n}(sb);function lb(e,t){return"string"==typeof t?ab(e,t):t instanceof Pk?t._internalPath:t._delegate._internalPath}var fb=function(){function e(t,n){nr(this,e),this.hasPendingWrites=t,this.fromCache=n}return ir(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),hb=function(e){sr(n,e);var t=dr(n);function n(e,r,i,a,o,u){var s;return nr(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return ir(n,[{key:"exists",value:function(){return ra(cr(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new db(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(lb("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(sb),db=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.apply(this,arguments)}return ir(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ra(cr(n.prototype),"data",this).call(this,e)}}]),n}(hb),pb=function(){function e(t,n,r,i){nr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new fb(i.hasPendingWrites,i.fromCache),this.query=r}return ir(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new db(n._firestore,n._userDataWriter,r.key,r,new fb(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Oc(Nc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new db(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new db(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fb(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:vb(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function vb(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tc()}}function yb(e,t){return e instanceof hb&&t instanceof hb?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof pb&&t instanceof pb&&e._firestore===t._firestore&&kk(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function mb(e){if(cf(e)&&0===e.explicitOrderBy.length)throw new Oc(Nc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var gb=ir((function e(){nr(this,e)}));function kb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var bb=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this)).Uu=e,a.qu=r,a.Ku=i,a.type="where",a}return ir(n,[{key:"_apply",value:function(e){var t=Bk(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){Ob(o,a);var s,c=[],l=ar(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(Nb(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=Nb(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||Ob(o,a),u=Xk(n,"where",o,"in"===a||"not-in"===a);var h=Kl.create(i,a,u);return function(e,t){if(t.S()){var n=ff(e);if(null!==n&&!n.isEqual(t.field))throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=lf(e);null!==r&&Pb(e,t.field,r)}var i=function(e,t){var n,r=ar(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Oc(Nc.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Oc(Nc.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.Uu,this.qu,this.Ku);return new pk(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new af(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(gb);var wb=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this)).Uu=e,i.Gu=r,i.type="orderBy",i}return ir(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new ef(t,n);return function(e,t){if(null===lf(e)){var n=ff(e);null!==n&&Pb(e,n,t.field)}}(e,r),r}(e._query,this.Uu,this.Gu);return new pk(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new af(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(gb);var xb=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this)).type=e,a.ju=r,a.Qu=i,a}return ir(n,[{key:"_apply",value:function(e){return new pk(e.firestore,e.converter,vf(e._query,this.ju,this.Qu))}}]),n}(gb);var _b=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return ir(n,[{key:"_apply",value:function(e){var t=Ab(e,this.type,this.Wu,this.zu);return new pk(e.firestore,e.converter,function(e,t){return new af(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(gb);function Eb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _b("startAt",t,!0)}function Ib(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new _b("startAfter",t,!1)}var Sb=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a;return nr(this,n),(a=t.call(this)).type=e,a.Wu=r,a.zu=i,a}return ir(n,[{key:"_apply",value:function(e){var t=Ab(e,this.type,this.Wu,this.zu);return new pk(e.firestore,e.converter,function(e,t){return new af(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(gb);function Tb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sb("endBefore",t,!1)}function Cb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Sb("endAt",t,!0)}function Ab(e,t,n,r){if(n[0]=Kr(n[0]),n[0]instanceof sb)return function(e,t,n,r,i){if(!r)throw new Oc(Nc.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=ar(df(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Il(t,r.key));else{var c=r.data.field(s.field);if(sl(c))throw new Oc(Nc.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Zl(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=Bk(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Oc(Nc.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!hf(e)&&-1!==c.indexOf("/"))throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Zc.fromString(c));if(!yl.isDocumentKey(l))throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new yl(l);u.push(Il(t,f))}else{var h=Xk(n,r,c);u.push(h)}}return new Zl(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function Nb(e,t,n){if("string"==typeof(n=Kr(n))){if(""===n)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hf(t)&&-1!==n.indexOf("/"))throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Zc.fromString(n));if(!yl.isDocumentKey(r))throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Il(e,new yl(r))}if(n instanceof dk)return Il(e,n._key);throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(uk(n),"."))}function Ob(e,t){if(!Array.isArray(e)||0===e.length)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function Pb(e,t,n){if(!n.isEqual(t))throw new Oc(Nc.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var Rb=function(){function e(){nr(this,e)}return ir(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(gl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ol(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ul(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Tc()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Yc(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new Lk(ol(e.latitude),ol(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=cl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ll(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=al(e);return new Gc(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Zc.fromString(e);Cc(od(n));var r=new hl(n.get(1),n.get(3)),i=new yl(n.popFirst(5));return r.isEqual(t)||Ec("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function Db(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var Lb=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this)).firestore=e,r}return ir(n,[{key:"convertBytes",value:function(e){return new Rk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dk(this.firestore,null,t)}}]),n}(Rb),Mb=function(){function e(t,n){nr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Bk(t)}return ir(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=Fb(e,this._firestore),i=Db(r.converter,t,n),a=zk(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,jf.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=Fb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Kr(t))||t instanceof Pk?Jk(this._dataReader,"WriteBatch.update",i._key,t,n,o):Yk(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,jf.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=Fb(e,this._firestore);return this._mutations=this._mutations.concat(new eh(t._key,jf.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Oc(Nc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function Fb(e,t){if((e=Kr(e)).firestore!==t)throw new Oc(Nc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var Ub=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this)).firestore=e,r}return ir(n,[{key:"convertBytes",value:function(e){return new Rk(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new dk(this.firestore,null,t)}}]),n}(Rb);function jb(e){e=sk(e,dk);var t=sk(e.firestore,_k),n=Ek(t),r=new Ub(t);return function(e,t){var n=new Pc;return e.asyncQueue.enqueueAndForget(Zn(tr().mark((function r(){return tr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Ac(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Us.ys(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Oc(Nc.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=lm(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$g(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new hb(t,r,e._key,n,new fb(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function Vb(e){e=sk(e,pk);var t=sk(e.firestore,_k),n=Ek(t),r=new Ub(t);return function(e,t){var n=new Pc;return e.asyncQueue.enqueueAndForget(Zn(tr().mark((function r(){return tr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Zn(tr().mark((function e(t,n,r){var i,a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ov(t,n,!0);case 3:i=e.sent,a=new Nm(n,i.Ks),o=a.Ic(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=lm(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,$g(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new pb(t,r,e,n)}))}function qb(e,t,n){e=sk(e,dk);var r=sk(e.firestore,_k),i=Db(e.converter,t,n);return Wb(r,[zk(Bk(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,jf.none())])}function Bb(e,t,n){e=sk(e,dk);for(var r=sk(e.firestore,_k),i=Bk(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return Wb(r,[("string"==typeof(t=Kr(t))||t instanceof Pk?Jk(i,"updateDoc",e._key,t,n,o):Yk(i,"updateDoc",e._key,t)).toMutation(e._key,jf.exists(!0))])}function zb(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Kr(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||wk(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(wk(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof dk)l=sk(e.firestore,_k),f=uf(e._key.path),c={next:function(t){n[s]&&n[s](Hb(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=sk(e,pk);l=sk(p.firestore,_k),f=p._query;var v=new Ub(l);c={next:function(e){n[s]&&n[s](new pb(l,v,p,e))},error:n[s+1],complete:n[s+2]},mb(e._query)}return function(e,t,n,r){var i=new Lg(r),a=new _m(t,i,n);return e.asyncQueue.enqueueAndForget(Zn(tr().mark((function t(){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ym,t.next=3,Xg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Jc(),e.asyncQueue.enqueueAndForget(Zn(tr().mark((function t(){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=gm,t.next=3,Xg(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ek(l),f,h,c)}function Kb(e,t){return function(e,t){var n=new Lg(t);return e.asyncQueue.enqueueAndForget(Zn(tr().mark((function t(){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ac(e).Zo.add(t),t.next()},t.next=3,Xg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Jc(),e.asyncQueue.enqueueAndForget(Zn(tr().mark((function t(){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Ac(e).Zo.delete(t)},t.next=3,Xg(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(Ek(e=sk(e,_k)),wk(t)?t:{next:t})}function Wb(e,t){return function(e,t){var n=new Pc;return e.asyncQueue.enqueueAndForget(Zn(tr().mark((function r(){return tr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Vm,r.next=3,Jg(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Ek(e),t)}function Hb(e,t,n){var r=n.docs.get(t._key),i=new Ub(e);return new hb(e,i,t._key,r,new fb(n.hasPendingWrites,n.fromCache),t.converter)}var Gb=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e,r))._firestore=e,i}return ir(n,[{key:"get",value:function(e){var t=this,r=Fb(e,this._firestore),i=new Ub(this._firestore);return ra(cr(n.prototype),"get",this).call(this,e).then((function(e){return new hb(t._firestore,i,r._key,e._document,new fb(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){nr(this,e),this._firestore=t,this._transaction=n,this._dataReader=Bk(t)}return ir(e,[{key:"get",value:function(e){var t=this,n=Fb(e,this._firestore),r=new Lb(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Tc();var i=e[0];if(i.isFoundDocument())return new sb(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new sb(t._firestore,r,n._key,null,n.converter);throw Tc()}))}},{key:"set",value:function(e,t,n){var r=Fb(e,this._firestore),i=Db(r.converter,t,n),a=zk(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=Fb(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Kr(t))||t instanceof Pk?Jk(this._dataReader,"Transaction.update",i._key,t,n,o):Yk(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=Fb(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Qb(e,t){return function(e,t){var n=new Pc;return e.asyncQueue.enqueueAndForget(Zn(tr().mark((function r(){var i;return tr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return Hg(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new Ug(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(Ek(e=sk(e,_k)),(function(n){return t(new Gb(e,n))}))}function $b(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Gk("arrayUnion",t)}function Yb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Qk("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){bc=e}(_i),yi(new Wr("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new _k(i,new Mc(e.getProvider("auth-internal")),new Vc(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Ai(gc,"3.4.5",e),Ai(gc,"3.4.5","esm2017")}();function Jb(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Oc("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function Xb(){if("undefined"===typeof Uint8Array)throw new Oc("unimplemented","Uint8Arrays are not available in this environment.")}function Zb(){if("undefined"==typeof atob)throw new Oc("unimplemented","Blobs are unavailable in Firestore in this environment.")}var ew=function(){function e(t){nr(this,e),this._delegate=t}return ir(e,[{key:"toBase64",value:function(){return Zb(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return Xb(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return Zb(),new e(Rk.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return Xb(),new e(Rk.fromUint8Array(t))}}]),e}();function tw(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=ar(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var nw=function(){function e(){nr(this,e)}return ir(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){Ok(e=sk(e,_k));var n=Ek(e),r=e._freezeSettings(),i=new Rg;return Sk(n,i,new Og(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){Ok(e=sk(e,_k));var t=Ek(e),n=e._freezeSettings(),r=new Rg;return Sk(t,r,new Pg(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Oc(Nc.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new Pc;return e._queue.enqueueAndForgetEvenWhileRestricted(Zn(tr().mark((function n(){return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ud.Vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Ud.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(pv(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),rw=function(){function e(t,n,r){var i=this;nr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof hl||(this._appCompat=t)}return ir(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Ic("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};hk(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Tk(this._delegate)}},{key:"disableNetwork",value:function(){return Ck(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&ik("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new Pc;return e.asyncQueue.enqueueAndForget(Zn(tr().mark((function n(){return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=Jm,n.next=3,Jg(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(Ek(e=sk(e,_k)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Kb(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Oc("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new mw(this,yk(this._delegate,e))}catch(t){throw cw(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new sw(this,mk(this._delegate,e))}catch(t){throw cw(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new pw(this,function(e,t){if(e=sk(e,fk),rk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Oc(Nc.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new pk(e,null,function(e){return new af(Zc.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw cw(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Qb(this._delegate,(function(n){return e(new aw(t,n))}))}},{key:"batch",value:function(){var e=this;return Ek(this._delegate),new ow(new Mb(this._delegate,(function(t){return Wb(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Ak(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Nk(this._delegate,e).then((function(e){return e?new pw(t,e):null}))}}]),e}(),iw=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this)).firestore=e,r}return ir(n,[{key:"convertBytes",value:function(e){return new ew(new Rk(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return sw.forKey(t,this.firestore,null)}}]),n}(Rb);var aw=function(){function e(t,n){nr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new iw(t)}return ir(e,[{key:"get",value:function(e){var t=this,n=gw(e);return this._delegate.get(n).then((function(e){return new hw(t._firestore,new hb(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=gw(e);return n?(Jb("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=gw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=gw(e);return this._delegate.delete(t),this}}]),e}(),ow=function(){function e(t){nr(this,e),this._delegate=t}return ir(e,[{key:"set",value:function(e,t,n){var r=gw(e);return n?(Jb("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=gw(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=gw(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),uw=function(){function e(t,n,r){nr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return ir(e,[{key:"fromFirestore",value:function(e,t){var n=new db(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new dw(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new iw(t),n),i.set(n,a)),a}}]),e}();uw.INSTANCES=new WeakMap;var sw=function(){function e(t,n){nr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new iw(t)}return ir(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new mw(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new mw(this.firestore,yk(this._delegate,e))}catch(t){throw cw(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Kr(e))instanceof dk&&gk(this._delegate,e)}},{key:"set",value:function(e,t){t=Jb("DocumentReference.set",t);try{return t?qb(this._delegate,e,t):qb(this._delegate,e)}catch(n){throw cw(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?Bb(this._delegate,e):Bb.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw cw(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return Wb(sk(e.firestore,_k),[new eh(e._key,jf.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=lw(n),a=fw(n,(function(t){return new hw(e.firestore,new hb(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return zb(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?jb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sk(e,dk);var t=sk(e.firestore,_k);return ek(Ek(t),e._key,{source:"server"}).then((function(n){return Hb(t,e,n)}))}(this._delegate):function(e){e=sk(e,dk);var t=sk(e.firestore,_k);return ek(Ek(t),e._key).then((function(n){return Hb(t,e,n)}))}(this._delegate),t.then((function(e){return new hw(n.firestore,new hb(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Oc("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new dk(n._delegate,r,new yl(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new dk(n._delegate,r,t))}}]),e}();function cw(e,t,n){return e.message=e.message.replace(t,n),e}function lw(e){var t,n=ar(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!tw(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function fw(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=tw(e[0])?e[0]:tw(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var hw=function(){function e(t,n){nr(this,e),this._firestore=t,this._delegate=n}return ir(e,[{key:"ref",get:function(){return new sw(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return yb(this._delegate,e._delegate)}}]),e}(),dw=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.apply(this,arguments)}return ir(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Tc()}(void 0!==t),t}}]),n}(hw),pw=function(){function e(t,n){nr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new iw(t)}return ir(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,kb(this._delegate,function(e,t,n){var r=t,i=lb("where",e);return new bb(i,r,n)}(t,n,r)))}catch(i){throw cw(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,kb(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=lb("orderBy",e);return new wb(n,t)}(t,n)))}catch(r){throw cw(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,kb(this._delegate,function(e){return ck("limit",e),new xb("limit",e,"F")}(t)))}catch(n){throw cw(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,kb(this._delegate,function(e){return ck("limitToLast",e),new xb("limitToLast",e,"L")}(t)))}catch(n){throw cw(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,kb(this._delegate,Eb.apply(void 0,arguments)))}catch(t){throw cw(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,kb(this._delegate,Ib.apply(void 0,arguments)))}catch(t){throw cw(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,kb(this._delegate,Tb.apply(void 0,arguments)))}catch(t){throw cw(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,kb(this._delegate,Cb.apply(void 0,arguments)))}catch(t){throw cw(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return kk(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?Vb(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=sk(e,pk);var t=sk(e.firestore,_k),n=Ek(t),r=new Ub(t);return tk(n,e._query,{source:"server"}).then((function(n){return new pb(t,r,e,n)}))}(this._delegate):function(e){e=sk(e,pk);var t=sk(e.firestore,_k),n=Ek(t),r=new Ub(t);return mb(e._query),tk(n,e._query).then((function(n){return new pb(t,r,e,n)}))}(this._delegate),t.then((function(e){return new yw(n.firestore,new pb(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=lw(n),a=fw(n,(function(t){return new yw(e.firestore,new pb(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return zb(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(uw.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),vw=function(){function e(t,n){nr(this,e),this._firestore=t,this._delegate=n}return ir(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new dw(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),yw=function(){function e(t,n){nr(this,e),this._firestore=t,this._delegate=n}return ir(e,[{key:"query",get:function(){return new pw(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new dw(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new vw(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new dw(n._firestore,r))}))}},{key:"isEqual",value:function(e){return yb(this._delegate,e._delegate)}}]),e}(),mw=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return ir(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new sw(this.firestore,e):null}},{key:"doc",value:function(e){try{return new sw(this.firestore,void 0===e?mk(this._delegate):mk(this._delegate,e))}catch(t){throw cw(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=sk(e.firestore,_k),r=mk(e),i=Db(e.converter,t);return Wb(n,[zk(Bk(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,jf.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new sw(t.firestore,e)}))}},{key:"isEqual",value:function(e){return gk(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(uw.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(pw);function gw(e){return sk(e,dk)}var kw,bw=function(){function e(){nr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=pr(Pk,n)}return ir(e,[{key:"isEqual",value:function(e){return(e=Kr(e))instanceof Pk&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(tl.keyField().canonicalString())}}]),e}(),ww=function(){function e(t){nr(this,e),this._delegate=t}return ir(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new Hk("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new Kk("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=$b.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=Yb.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new $k("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),xw={Firestore:rw,GeoPoint:Lk,Timestamp:Gc,Blob:ew,Transaction:aw,WriteBatch:ow,DocumentReference:sw,DocumentSnapshot:hw,Query:pw,QueryDocumentSnapshot:dw,QuerySnapshot:yw,CollectionReference:mw,FieldPath:bw,FieldValue:ww,setLogLevel:function(e){!function(e){wc.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Wr("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},xw)))})(kw=ta,(function(e,t){return new rw(e,t,new nw)})),kw.registerVersion("@firebase/firestore-compat","0.1.14");function _w(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var Ew;Object.create;var Iw="facebook.com",Sw="github.com",Tw="google.com",Cw="password",Aw="twitter.com",Nw="EMAIL_SIGNIN",Ow="PASSWORD_RESET",Pw="RECOVER_EMAIL",Rw="REVERT_SECOND_FACTOR_ADDITION",Dw="VERIFY_AND_CHANGE_EMAIL",Lw="VERIFY_EMAIL";function Mw(){return Z({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Fw=function(){var e;return Z(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Z(e,"argument-error",""),Z(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Z(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Z(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Z(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Z(e,"cordova-not-ready","Cordova framework is not ready."),Z(e,"cors-unsupported","This browser is not supported."),Z(e,"credential-already-in-use","This credential is already associated with a different user account."),Z(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Z(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Z(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Z(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Z(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Z(e,"email-already-in-use","The email address is already in use by another account."),Z(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Z(e,"expired-action-code","The action code has expired."),Z(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Z(e,"internal-error","An internal AuthError has occurred."),Z(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Z(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Z(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Z(e,"invalid-auth-event","An internal AuthError has occurred."),Z(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Z(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Z(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Z(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Z(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Z(e,"invalid-email","The email address is badly formatted."),Z(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Z(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Z(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Z(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Z(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Z(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Z(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Z(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Z(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Z(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Z(e,"wrong-password","The password is invalid or the user does not have a password."),Z(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Z(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Z(e,"invalid-provider-id","The specified provider ID is invalid."),Z(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Z(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Z(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Z(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Z(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Z(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Z(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Z(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Z(e,"missing-continue-uri","A continue URL must be provided in the request."),Z(e,"missing-iframe-start","An internal AuthError has occurred."),Z(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Z(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Z(e,"missing-multi-factor-info","No second factor identifier is provided."),Z(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Z(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Z(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Z(e,"app-deleted","This instance of FirebaseApp has been deleted."),Z(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Z(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Z(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Z(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Z(e,"no-auth-event","An internal AuthError has occurred."),Z(e,"no-such-provider","User was not linked to an account with the given provider."),Z(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Z(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Z(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Z(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Z(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Z(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Z(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Z(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Z(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Z(e,"rejected-credential","The request contains malformed or mismatching credentials."),Z(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Z(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Z(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Z(e,"timeout","The operation has timed out."),Z(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Z(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Z(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Z(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Z(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Z(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Z(e,"unverified-email","The operation requires a verified email."),Z(e,"user-cancelled","The user did not grant your application the permissions it requested."),Z(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Z(e,"user-disabled","The user account has been disabled by an administrator."),Z(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Z(e,"user-signed-out",""),Z(e,"weak-password","The password must be 6 characters long or more."),Z(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Z(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Uw=Mw,jw=new Pr("auth","Firebase",Mw()),Vw=new ni("@firebase/auth");function qw(e){if(Vw.logLevel<=$r.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Vw.error.apply(Vw,["Auth (".concat(_i,"): ").concat(e)].concat(n))}}function Bw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Hw.apply(void 0,[e].concat(n))}function zw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Hw.apply(void 0,[e].concat(n))}function Kw(e,t,n){var r=Object.assign(Object.assign({},Uw()),Z({},t,n));return new Pr("auth","Firebase",r).create(t,{appName:e.name})}function Ww(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Bw(e,"argument-error"),Kw(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Hw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=me(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(me(o)))}return jw.create.apply(jw,[e].concat(n))}function Gw(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Hw.apply(void 0,[t].concat(r))}}function Qw(e){var t="INTERNAL ASSERTION FAILED: "+e;throw qw(t),new Error(t)}function $w(e,t){e||Qw(t)}var Yw=new Map;function Jw(e){$w(e instanceof Function,"Expected a class definition");var t=Yw.get(e);return t?($w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Yw.set(e,t),t)}function Xw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Zw(){return"http:"===ex()||"https:"===ex()}function ex(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var tx=function(){function e(t,n){nr(this,e),this.shortDelay=t,this.longDelay=n,$w(n>t,"Short delay should be less than long delay!"),this.isMobile=Ir()||Cr()}return ir(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Zw()||Tr()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function nx(e,t){$w(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var rx=function(){function e(){nr(this,e)}return ir(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Qw("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Qw("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Qw("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),ix=(Z(Ew={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Z(Ew,"MISSING_CUSTOM_TOKEN","internal-error"),Z(Ew,"INVALID_IDENTIFIER","invalid-email"),Z(Ew,"MISSING_CONTINUE_URI","internal-error"),Z(Ew,"INVALID_PASSWORD","wrong-password"),Z(Ew,"MISSING_PASSWORD","internal-error"),Z(Ew,"EMAIL_EXISTS","email-already-in-use"),Z(Ew,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Z(Ew,"INVALID_IDP_RESPONSE","invalid-credential"),Z(Ew,"INVALID_PENDING_TOKEN","invalid-credential"),Z(Ew,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Z(Ew,"MISSING_REQ_TYPE","internal-error"),Z(Ew,"EMAIL_NOT_FOUND","user-not-found"),Z(Ew,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Z(Ew,"EXPIRED_OOB_CODE","expired-action-code"),Z(Ew,"INVALID_OOB_CODE","invalid-action-code"),Z(Ew,"MISSING_OOB_CODE","internal-error"),Z(Ew,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Z(Ew,"INVALID_ID_TOKEN","invalid-user-token"),Z(Ew,"TOKEN_EXPIRED","user-token-expired"),Z(Ew,"USER_NOT_FOUND","user-token-expired"),Z(Ew,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Z(Ew,"INVALID_CODE","invalid-verification-code"),Z(Ew,"INVALID_SESSION_INFO","invalid-verification-id"),Z(Ew,"INVALID_TEMPORARY_PROOF","invalid-credential"),Z(Ew,"MISSING_SESSION_INFO","missing-verification-id"),Z(Ew,"SESSION_EXPIRED","code-expired"),Z(Ew,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Z(Ew,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Z(Ew,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Z(Ew,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Z(Ew,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Z(Ew,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Z(Ew,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Z(Ew,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Z(Ew,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Z(Ew,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Z(Ew,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),Ew),ax=new tx(3e4,6e4);function ox(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ux(e,t,n,r){return sx.apply(this,arguments)}function sx(){return sx=Zn(tr().mark((function e(t,n,r,i){var a,o=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",cx(t,a,Zn(tr().mark((function e(){var a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ur(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",rx.fetch()(dx(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),sx.apply(this,arguments)}function cx(e,t,n){return lx.apply(this,arguments)}function lx(){return lx=Zn(tr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},ix),n),e.prev=2,a=new px(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw vx(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Ae(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw vx(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw vx(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Kw(t,d,h);case 30:Bw(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Or)){e.next=37;break}throw e.t0;case 37:Bw(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),lx.apply(this,arguments)}function fx(e,t,n,r){return hx.apply(this,arguments)}function hx(){return hx=Zn(tr().mark((function e(t,n,r,i){var a,o,u=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ux(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Bw(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),hx.apply(this,arguments)}function dx(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?nx(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var px=function(){function e(t){var n=this;nr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(zw(n.auth,"network-request-failed"))}),ax.get())}))}return ir(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function vx(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=zw(e,t,r);return i.customData._tokenResponse=n,i}function yx(e,t){return mx.apply(this,arguments)}function mx(){return mx=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),mx.apply(this,arguments)}function gx(e,t){return kx.apply(this,arguments)}function kx(){return kx=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),kx.apply(this,arguments)}function bx(e,t){return wx.apply(this,arguments)}function wx(){return wx=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),wx.apply(this,arguments)}function xx(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function _x(){return _x=Zn(tr().mark((function e(t){var n,r,i,a,o,u,s=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Kr(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Gw((a=Ix(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:xx(Ex(a.auth_time)),issuedAtTime:xx(Ex(a.iat)),expirationTime:xx(Ex(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),_x.apply(this,arguments)}function Ex(e){return 1e3*Number(e)}function Ix(e){var t=Ae(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return qw("JWT malformed, contained fewer than 3 sections"),null;try{var a=br(r);return a?JSON.parse(a):(qw("Failed to decode base64 JWT payload"),null)}catch(o){return qw("Caught error parsing JWT payload as JSON",o),null}}function Sx(e,t){return Tx.apply(this,arguments)}function Tx(){return Tx=Zn(tr().mark((function e(t,n){var r=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Or&&Cx(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Tx.apply(this,arguments)}function Cx(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Ax=function(){function e(t){nr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return ir(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Zn(tr().mark((function t(){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Nx=function(){function e(t,n){nr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return ir(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=xx(this.lastLoginAt),this.creationTime=xx(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Ox(e){return Px.apply(this,arguments)}function Px(){return Px=Zn(tr().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Sx(t,bx(r,{idToken:i}));case 6:Gw(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Lx(o.providerUserInfo):[],s=Dx(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Nx(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Px.apply(this,arguments)}function Rx(){return(Rx=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Kr(t),e.next=3,Ox(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dx(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(me(n),me(t))}function Lx(e){return e.map((function(e){var t=e.providerId,n=_w(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Mx(e,t){return Fx.apply(this,arguments)}function Fx(){return Fx=Zn(tr().mark((function e(t,n){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cx(t,{},Zn(tr().mark((function e(){var r,i,a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ur({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=dx(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",rx.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),Fx.apply(this,arguments)}var Ux=function(){function e(){nr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return ir(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Gw(e.idToken,"internal-error"),Gw("undefined"!==typeof e.idToken,"internal-error"),Gw("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Ix(e);return Gw(t,"internal-error"),Gw("undefined"!==typeof t.exp,"internal-error"),Gw("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Zn(tr().mark((function e(t){var n,r=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Gw(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Zn(tr().mark((function e(t,n){var r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mx(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Qw("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Gw("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Gw("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Gw("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function jx(e,t){Gw("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Vx=function(){function e(t){nr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=_w(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ax(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?me(a.providerData):[],this.metadata=new Nx(a.createdAt||void 0,a.lastLoginAt||void 0)}return ir(e,[{key:"getIdToken",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Sx(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Gw(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return _x.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Rx.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Gw(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Gw(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Zn(tr().mark((function e(t){var n,r,i=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Ox(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Sx(this,yx(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Gw(k&&_,t,"internal-error");var E=Ux.fromJSON(this.name,_);Gw("string"===typeof k,t,"internal-error"),jx(f,t.name),jx(h,t.name),Gw("boolean"===typeof b,t,"internal-error"),Gw("boolean"===typeof w,t,"internal-error"),jx(d,t.name),jx(p,t.name),jx(v,t.name),jx(y,t.name),jx(m,t.name),jx(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:E,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(I._redirectEventId=y),I}},{key:"_fromIdTokenResponse",value:function(){var t=Zn(tr().mark((function t(n,r){var i,a,o,u=arguments;return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ux).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Ox(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),qx=function(){function e(){nr(this,e),this.type="NONE",this.storage={}}return ir(e,[{key:"_isAvailable",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();qx.type="NONE";var Bx=qx;function zx(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Kx=function(){function e(t,n,r){nr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=zx(this.userKey,a.apiKey,o),this.fullPersistenceKey=zx("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return ir(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Vx._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Zn(tr().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Jw(Bx),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Jw(Bx),u=zx(i,n.config.apiKey,n.name),s=null,c=ar(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=Vx._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Wx(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($x(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Hx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Jx(t))return"Blackberry";if(Xx(t))return"Webos";if(Gx(t))return"Safari";if((t.includes("chrome/")||Qx(t))&&!t.includes("edge/"))return"Chrome";if(Yx(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Hx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return/firefox\//i.test(e)}function Gx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Qx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return/crios\//i.test(e)}function $x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return/iemobile/i.test(e)}function Yx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return/android/i.test(e)}function Jx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return/blackberry/i.test(e)}function Xx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return/webos/i.test(e)}function Zx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return/iphone|ipad|ipod/i.test(e)}function e_(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return Zx(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function t_(){return Ar()&&10===document.documentMode}function n_(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return Zx(e)||Yx(e)||Xx(e)||Jx(e)||/windows phone/i.test(e)||$x(e)}function r_(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Wx(Er());break;case"Worker":t="".concat(Wx(Er()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(_i,"/").concat(r)}var i_=function(){function e(t,n){nr(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o_(this),this.idTokenSubscription=new o_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return ir(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Jw(t)),this._initializationPromise=this.queue(Zn(tr().mark((function r(){var i,a;return tr().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Kx.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Zn(tr().mark((function e(t){var n,r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return Gw(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ox(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Kr(t):null)&&Gw(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Zn(tr().mark((function e(t){var n=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&Gw(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Zn(tr().mark((function n(){return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Jw(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Pr("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Zn(tr().mark((function e(t,n){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Gw(n=t&&Jw(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Kx.create(this,[Jw(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Zn(tr().mark((function e(t){var n=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Gw(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Gw(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=r_(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Z({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function a_(e){return Kr(e)}var o_=function(){function e(t){var n=this;nr(this,e),this.auth=t,this.observer=null,this.addObserver=qr((function(e){return n.observer=e}))}return ir(e,[{key:"next",get:function(){return Gw(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function u_(e,t,n){var r=a_(e);Gw(r._canInitEmulator,r,"emulator-config-failed"),Gw(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=s_(t),o=function(e){var t=s_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:c_(r.substr(a.length+1))}}var o=Ae(r.split(":"),2);return{host:o[0],port:c_(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function s_(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function c_(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var l_=function(){function e(t,n){nr(this,e),this.providerId=t,this.signInMethod=n}return ir(e,[{key:"toJSON",value:function(){return Qw("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Qw("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Qw("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Qw("not implemented")}}]),e}();function f_(e,t){return h_.apply(this,arguments)}function h_(){return h_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:resetPassword",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),h_.apply(this,arguments)}function d_(e,t){return p_.apply(this,arguments)}function p_(){return p_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e,t){return y_.apply(this,arguments)}function y_(){return y_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:update",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),y_.apply(this,arguments)}function m_(e,t){return g_.apply(this,arguments)}function g_(){return g_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fx(t,"POST","/v1/accounts:signInWithPassword",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),g_.apply(this,arguments)}function k_(e,t){return b_.apply(this,arguments)}function b_(){return b_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:sendOobCode",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),b_.apply(this,arguments)}function w_(e,t){return x_.apply(this,arguments)}function x_(){return x_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k_(t,n));case 1:case"end":return e.stop()}}),e)}))),x_.apply(this,arguments)}function __(e,t){return E_.apply(this,arguments)}function E_(){return E_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k_(t,n));case 1:case"end":return e.stop()}}),e)}))),E_.apply(this,arguments)}function I_(e,t){return S_.apply(this,arguments)}function S_(){return S_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k_(t,n));case 1:case"end":return e.stop()}}),e)}))),S_.apply(this,arguments)}function T_(e,t){return C_.apply(this,arguments)}function C_(){return C_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",k_(t,n));case 1:case"end":return e.stop()}}),e)}))),C_.apply(this,arguments)}function A_(e,t){return N_.apply(this,arguments)}function N_(){return N_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fx(t,"POST","/v1/accounts:signInWithEmailLink",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),N_.apply(this,arguments)}function O_(e,t){return P_.apply(this,arguments)}function P_(){return P_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fx(t,"POST","/v1/accounts:signInWithEmailLink",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),P_.apply(this,arguments)}var R_=function(e){sr(n,e);var t=dr(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return nr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return ir(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",m_(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",A_(t,{email:this._email,oobCode:this._password}));case 5:Bw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",d_(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",O_(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Bw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(l_);function D_(e,t){return L_.apply(this,arguments)}function L_(){return L_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fx(t,"POST","/v1/accounts:signInWithIdp",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),L_.apply(this,arguments)}var M_=function(e){sr(n,e);var t=dr(n);function n(){var e;return nr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return ir(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return D_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,D_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,D_(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ur(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bw("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=_w(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(l_);function F_(e,t){return U_.apply(this,arguments)}function U_(){return U_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:sendVerificationCode",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),U_.apply(this,arguments)}function j_(){return j_=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fx(t,"POST","/v1/accounts:signInWithPhoneNumber",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function V_(){return V_=Zn(tr().mark((function e(t,n){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fx(t,"POST","/v1/accounts:signInWithPhoneNumber",ox(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw vx(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}var q_=Z({},"USER_NOT_FOUND","user-not-found");function B_(){return B_=Zn(tr().mark((function e(t,n){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",fx(t,"POST","/v1/accounts:signInWithPhoneNumber",ox(t,r),q_));case 2:case"end":return e.stop()}}),e)}))),B_.apply(this,arguments)}var z_=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return ir(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return j_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return V_.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return B_.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(l_);var K_=function(){function e(t){var n,r,i,a,o,u;nr(this,e);var s=jr(Vr(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Gw(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return ir(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=jr(Vr(e)).link,n=t?jr(Vr(t)).deep_link_id:null,r=jr(Vr(e)).deep_link_id;return(r?jr(Vr(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Ek){return null}}}]),e}();var W_=function(){function e(){nr(this,e),this.providerId=e.PROVIDER_ID}return ir(e,null,[{key:"credential",value:function(e,t){return R_._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=K_.parseLink(t);return Gw(n,"argument-error"),R_._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();W_.PROVIDER_ID="password",W_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",W_.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var H_=function(){function e(t){nr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return ir(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),G_=function(e){sr(n,e);var t=dr(n);function n(){var e;return nr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return ir(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return me(this.scopes)}}]),n}(H_),Q_=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.apply(this,arguments)}return ir(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Gw(e.idToken||e.accessToken,"argument-error"),M_._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Gw("providerId"in t&&"signInMethod"in t,"argument-error"),M_._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(G_),$_=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.call(this,"facebook.com")}return ir(n,null,[{key:"credential",value:function(e){return M_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ek){return null}}}]),n}(G_);$_.FACEBOOK_SIGN_IN_METHOD="facebook.com",$_.PROVIDER_ID="facebook.com";var Y_=function(e){sr(n,e);var t=dr(n);function n(){var e;return nr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return ir(n,null,[{key:"credential",value:function(e,t){return M_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Ek){return null}}}]),n}(G_);Y_.GOOGLE_SIGN_IN_METHOD="google.com",Y_.PROVIDER_ID="google.com";var J_=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.call(this,"github.com")}return ir(n,null,[{key:"credential",value:function(e){return M_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Ek){return null}}}]),n}(G_);J_.GITHUB_SIGN_IN_METHOD="github.com",J_.PROVIDER_ID="github.com";var X_=function(e){sr(n,e);var t=dr(n);function n(e,r){var i;return nr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return ir(n,[{key:"_getIdTokenResponse",value:function(e){return D_(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,D_(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,D_(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(l_),Z_=function(e){sr(n,e);var t=dr(n);function n(e){return nr(this,n),Gw(e.startsWith("saml."),"argument-error"),t.call(this,e)}return ir(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=X_.fromJSON(e);return Gw(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return X_._create(r,n)}catch(i){return null}}}]),n}(H_),eE=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.call(this,"twitter.com")}return ir(n,null,[{key:"credential",value:function(e,t){return M_._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Ek){return null}}}]),n}(G_);function tE(e,t){return nE.apply(this,arguments)}function nE(){return nE=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fx(t,"POST","/v1/accounts:signUp",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),nE.apply(this,arguments)}eE.TWITTER_SIGN_IN_METHOD="twitter.com",eE.PROVIDER_ID="twitter.com";var rE=function(){function e(t){nr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return ir(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Zn(tr().mark((function t(n,r,i){var a,o,u,s,c=arguments;return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,Vx._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=iE(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Zn(tr().mark((function t(n,r,i){var a;return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=iE(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function iE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function aE(){return aE=Zn(tr().mark((function e(t){var n,r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new rE({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,tE(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,rE._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}var oE=function(e){sr(n,e);var t=dr(n);function n(e,r,i,a){var o,u;return nr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(or(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return ir(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Or);function uE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw oE._fromErrorAndOperation(e,n,t,r);throw n}))}function sE(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function cE(e,t){return lE.apply(this,arguments)}function lE(){return lE=Zn(tr().mark((function e(t,n){var r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kr(t),e.next=3,dE(!0,r,n);case 3:return e.t0=gx,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=sE(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),lE.apply(this,arguments)}function fE(e,t){return hE.apply(this,arguments)}function hE(){return hE=Zn(tr().mark((function e(t,n){var r,i,a=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Sx,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",rE._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}function dE(e,t,n){return pE.apply(this,arguments)}function pE(){return pE=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ox(n);case 2:i=sE(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Gw(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),pE.apply(this,arguments)}function vE(e,t){return yE.apply(this,arguments)}function yE(){return yE=Zn(tr().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Sx(t,uE(i,a,n,t),r);case 6:return Gw((o=e.sent).idToken,i,"internal-error"),Gw(u=Ix(o.idToken),i,"internal-error"),s=u.sub,Gw(t.uid===s,i,"user-mismatch"),e.abrupt("return",rE._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Bw(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),yE.apply(this,arguments)}function mE(e,t){return gE.apply(this,arguments)}function gE(){return gE=Zn(tr().mark((function e(t,n){var r,i,a,o,u=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,uE(t,i,n);case 4:return a=e.sent,e.next=7,rE._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",mE(a_(t),n));case 1:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t){return xE.apply(this,arguments)}function xE(){return(xE=Zn(tr().mark((function e(t,n){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kr(t),e.next=3,dE(!1,r,n.providerId);case 3:return e.abrupt("return",fE(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _E(e,t){return EE.apply(this,arguments)}function EE(){return(EE=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vE(Kr(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IE(e,t){return SE.apply(this,arguments)}function SE(){return SE=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fx(t,"POST","/v1/accounts:signInWithCustomToken",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function TE(){return TE=Zn(tr().mark((function e(t,n){var r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a_(t),e.next=3,IE(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,rE._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),TE.apply(this,arguments)}var CE=function(){function e(t,n){nr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return ir(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?AE._fromServerResponse(e,t):Bw(e,"internal-error")}}]),e}(),AE=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return ir(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(CE);function NE(e,t,n){var r;Gw((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Gw("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Gw(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Gw(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function OE(){return OE=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kr(t),a={requestType:"PASSWORD_RESET",email:n},r&&NE(i,a,r),e.next=5,__(i,a);case 5:case"end":return e.stop()}}),e)}))),OE.apply(this,arguments)}function PE(){return PE=Zn(tr().mark((function e(t,n,r){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f_(Kr(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),PE.apply(this,arguments)}function RE(){return RE=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v_(Kr(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),RE.apply(this,arguments)}function DE(e,t){return LE.apply(this,arguments)}function LE(){return LE=Zn(tr().mark((function e(t,n){var r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kr(t),e.next=3,f_(r,{oobCode:n});case 3:i=e.sent,Gw(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Gw(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Gw(i.mfaInfo,r,"internal-error");case 13:Gw(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=CE._fromServerResponse(a_(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),LE.apply(this,arguments)}function ME(){return ME=Zn(tr().mark((function e(t,n){var r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,DE(Kr(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function FE(e,t,n){return UE.apply(this,arguments)}function UE(){return UE=Zn(tr().mark((function e(t,n,r){var i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a_(t),e.next=3,tE(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,rE._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),UE.apply(this,arguments)}function jE(){return jE=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kr(t),a={requestType:"EMAIL_SIGNIN",email:n},Gw(r.handleCodeInApp,i,"argument-error"),r&&NE(i,a,r),e.next=6,I_(i,a);case 6:case"end":return e.stop()}}),e)}))),jE.apply(this,arguments)}function VE(){return VE=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kr(t),Gw((a=W_.credentialWithLink(n,r||Xw()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",kE(i,a));case 4:case"end":return e.stop()}}),e)}))),VE.apply(this,arguments)}function qE(e,t){return BE.apply(this,arguments)}function BE(){return BE=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:createAuthUri",ox(t,n)));case 1:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function zE(){return zE=Zn(tr().mark((function e(t,n){var r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Zw()?Xw():"http://localhost",i={identifier:n,continueUri:r},e.next=4,qE(Kr(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),zE.apply(this,arguments)}function KE(){return(KE=Zn(tr().mark((function e(t,n){var r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Kr(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&NE(r.auth,a,n),e.next=8,w_(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function WE(){return(WE=Zn(tr().mark((function e(t,n,r){var i,a,o,u;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kr(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&NE(i.auth,o,r),e.next=8,T_(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function HE(e,t){return GE.apply(this,arguments)}function GE(){return GE=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ux(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),GE.apply(this,arguments)}function QE(){return(QE=Zn(tr().mark((function e(t,n){var r,i,a,o,u,s,c;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Kr(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Sx(a,HE(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $E(e,t,n){return YE.apply(this,arguments)}function YE(){return YE=Zn(tr().mark((function e(t,n,r){var i,a,o,u;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Sx(t,d_(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),YE.apply(this,arguments)}var JE=ir((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};nr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),XE=function(e){sr(n,e);var t=dr(n);function n(e,r,i,a){var o;return nr(this,n),(o=t.call(this,e,r,i)).username=a,o}return ir(n)}(JE),ZE=function(e){sr(n,e);var t=dr(n);function n(e,r){return nr(this,n),t.call(this,e,"facebook.com",r)}return ir(n)}(JE),eI=function(e){sr(n,e);var t=dr(n);function n(e,r){return nr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return ir(n)}(XE),tI=function(e){sr(n,e);var t=dr(n);function n(e,r){return nr(this,n),t.call(this,e,"google.com",r)}return ir(n)}(JE),nI=function(e){sr(n,e);var t=dr(n);function n(e,r,i){return nr(this,n),t.call(this,e,"twitter.com",r,i)}return ir(n)}(XE);function rI(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=Ix(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new JE(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new ZE(a,i);case"github.com":return new eI(a,i);case"google.com":return new tI(a,i);case"twitter.com":return new nI(a,i,e.screenName||null);case"custom":case"anonymous":return new JE(a,null);default:return new JE(a,r,i)}}(n)}var iI=function(){function e(t,n){nr(this,e),this.type=t,this.credential=n}return ir(e,[{key:"toJSON",value:function(){return{multiFactorSession:Z({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),aI=function(){function e(t,n,r){nr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return ir(e,[{key:"resolveSignIn",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=a_(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return CE._fromServerResponse(r,e)}));Gw(i.mfaPendingCredential,r,"internal-error");var o=iI._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Zn(tr().mark((function e(t){var a,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,rE._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Gw(n.user,r,"internal-error"),e.abrupt("return",rE._forOperation(n.user,n.operationType,u));case 17:Bw(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function oI(e,t){return ux(e,"POST","/v2/accounts/mfaEnrollment:start",ox(e,t))}function uI(e,t){return ux(e,"POST","/v2/accounts/mfaEnrollment:withdraw",ox(e,t))}var sI=function(){function e(t){var n=this;nr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return CE._fromServerResponse(t.auth,e)})))}))}return ir(e,[{key:"getSession",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=iI,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Zn(tr().mark((function e(t,n){var r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Sx(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Zn(tr().mark((function e(t){var n,r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Sx(this.user,uI(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),cI=new WeakMap;var lI="__sak",fI=function(){function e(t,n){nr(this,e),this.storageRetriever=t,this.type=n}return ir(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(lI,"1"),this.storage.removeItem(lI),Promise.resolve(!0)):Promise.resolve(!1)}catch(Ek){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var hI=function(e){sr(n,e);var t=dr(n);function n(){var e;return nr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Er();return Gx(e)||Zx(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=n_(),e._shouldAllowMigration=!0,e}return ir(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);t_()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Zn(tr().mark((function e(t,r){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(cr(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zn(tr().mark((function e(t){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(cr(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ra(cr(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(fI);hI.type="LOCAL";var dI=hI,pI=function(e){sr(n,e);var t=dr(n);function n(){return nr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return ir(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(fI);pI.type="SESSION";var vI=pI;function yI(e){return Promise.all(e.map(function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var mI=function(){function e(t){nr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return ir(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Zn(tr().mark((function e(t){var n,r,i,a,o,u,s,c;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,yI(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function gI(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}mI.receivers=[];var kI=function(){function e(t){nr(this,e),this.target=t,this.handlers=new Set}return ir(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Zn(tr().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=gI("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function bI(){return window}function wI(){return"undefined"!==typeof bI().WorkerGlobalScope&&"function"===typeof bI().importScripts}function xI(){return _I.apply(this,arguments)}function _I(){return(_I=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function EI(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var II="firebaseLocalStorageDb",SI="firebaseLocalStorage",TI="fbase_key",CI=function(){function e(t){nr(this,e),this.request=t}return ir(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function AI(e,t){return e.transaction([SI],t?"readwrite":"readonly").objectStore(SI)}function NI(){var e=indexedDB.deleteDatabase(II);return new CI(e).toPromise()}function OI(){var e=indexedDB.open(II,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(SI,{keyPath:TI})}catch(r){n(r)}})),e.addEventListener("success",Zn(tr().mark((function n(){var r;return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(SI)){n.next=12;break}return r.close(),n.next=5,NI();case 5:return n.t0=t,n.next=8,OI();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function PI(e,t,n){return RI.apply(this,arguments)}function RI(){return RI=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=AI(t,!0).put((Z(i={},TI,n),Z(i,"value",r),i)),e.abrupt("return",new CI(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),RI.apply(this,arguments)}function DI(e,t){return LI.apply(this,arguments)}function LI(){return LI=Zn(tr().mark((function e(t,n){var r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=AI(t,!1).get(n),e.next=3,new CI(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),LI.apply(this,arguments)}function MI(e,t){var n=AI(e,!0).delete(t);return new CI(n).toPromise()}var FI=function(){function e(){nr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return ir(e,[{key:"_openDb",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,OI();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wI()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Zn(tr().mark((function e(){var t=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=mI._getInstance(wI()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Zn(tr().mark((function e(n,r){var i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Zn(tr().mark((function e(){var t,n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xI();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new kI(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&EI()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,OI();case 5:return t=e.sent,e.next=8,PI(t,lI,"1");case 8:return e.next=10,MI(t,lI);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Zn(tr().mark((function e(t,n){var r=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return PI(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return DI(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Zn(tr().mark((function e(t){var n=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return MI(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Zn(tr().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=AI(e,!1).getAll();return new CI(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=ar(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Zn(tr().mark((function t(){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();FI.type="LOCAL";var UI=FI;function jI(e,t){return ux(e,"POST","/v2/accounts/mfaSignIn:start",ox(e,t))}function VI(e){return qI.apply(this,arguments)}function qI(){return qI=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ux(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),qI.apply(this,arguments)}function BI(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=zw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function zI(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var KI=1e12,WI=function(){function e(t){nr(this,e),this.auth=t,this.counter=KI,this._widgets=new Map}return ir(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new HI(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||KI;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||KI;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||KI,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),HI=function(){function e(t,n,r){var i=this;nr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Gw(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return ir(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var GI=zI("rcb"),QI=new tx(3e4,6e4),$I="https://www.google.com/recaptcha/api.js?",YI=function(){function e(){nr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!bI().grecaptcha}return ir(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Gw(JI(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(bI().grecaptcha):new Promise((function(r,i){var a=bI().setTimeout((function(){i(zw(e,"network-request-failed"))}),QI.get());bI()[GI]=function(){bI().clearTimeout(a),delete bI()[GI];var o=bI().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(zw(e,"internal-error"))},BI("".concat($I,"?").concat(Ur({onload:GI,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(zw(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!bI().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function JI(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var XI=function(){function e(){nr(this,e)}return ir(e,[{key:"load",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new WI(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ZI="recaptcha",eS={theme:"light",type:"image"},tS=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},eS),r=arguments.length>2?arguments[2]:void 0;nr(this,e),this.parameters=n,this.type=ZI,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=a_(r),this.isInvisible="invisible"===this.parameters.size,Gw("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Gw(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new XI:new YI,this.validateStartingState()}return ir(e,[{key:"verify",value:function(){var e=Zn(tr().mark((function e(){var t,n,r,i=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Gw(!this.parameters.sitekey,this.auth,"argument-error"),Gw(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Gw("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=bI()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Gw(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Zn(tr().mark((function e(){var t,n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Gw(Zw()&&!wI(),this.auth,"internal-error"),e.next=3,nS();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,VI(this.auth);case 8:Gw(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Gw(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function nS(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var rS=function(){function e(t,n){nr(this,e),this.verificationId=t,this.onConfirmation=n}return ir(e,[{key:"confirm",value:function(e){var t=z_._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function iS(){return iS=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a_(t),e.next=3,sS(i,n,Kr(r));case 3:return a=e.sent,e.abrupt("return",new rS(a,(function(e){return kE(i,e)})));case 5:case"end":return e.stop()}}),e)}))),iS.apply(this,arguments)}function aS(e,t,n){return oS.apply(this,arguments)}function oS(){return(oS=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kr(t),e.next=3,dE(!1,i,"phone");case 3:return e.next=5,sS(i.auth,n,Kr(r));case 5:return a=e.sent,e.abrupt("return",new rS(a,(function(e){return wE(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function uS(){return(uS=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Kr(t),e.next=3,sS(i.auth,n,Kr(r));case 3:return a=e.sent,e.abrupt("return",new rS(a,(function(e){return _E(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sS(e,t,n){return cS.apply(this,arguments)}function cS(){return cS=Zn(tr().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Gw("string"===typeof a,t,"argument-error"),Gw(r.type===ZI,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Gw("enroll"===u.type,t,"internal-error"),e.next=13,oI(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Gw("signin"===u.type,t,"internal-error"),Gw(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jI(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,F_(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),cS.apply(this,arguments)}function lS(){return(lS=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fE(Kr(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var fS=function(){function e(t){nr(this,e),this.providerId=e.PROVIDER_ID,this.auth=a_(t)}return ir(e,[{key:"verifyPhoneNumber",value:function(e,t){return sS(this.auth,e,Kr(t))}}],[{key:"credential",value:function(e,t){return z_._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?z_._fromTokenResponse(n,r):null}}]),e}();function hS(e,t){return t?Jw(t):(Gw(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}fS.PROVIDER_ID="phone",fS.PHONE_SIGN_IN_METHOD="phone";var dS=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return ir(n,[{key:"_getIdTokenResponse",value:function(e){return D_(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return D_(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return D_(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(l_);function pS(e){return mE(e.auth,new dS(e),e.bypassAuthState)}function vS(e){var t=e.auth,n=e.user;return Gw(n,t,"internal-error"),vE(n,new dS(e),e.bypassAuthState)}function yS(e){return mS.apply(this,arguments)}function mS(){return mS=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Gw(r=t.user,n,"internal-error"),e.abrupt("return",fE(r,new dS(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),mS.apply(this,arguments)}var gS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];nr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return ir(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Zn(tr().mark((function t(n,r){return tr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Zn(tr().mark((function e(t){var n,r,i,a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pS;case"linkViaPopup":case"linkViaRedirect":return yS;case"reauthViaPopup":case"reauthViaRedirect":return vS;default:Bw(this.auth,"internal-error")}}},{key:"resolve",value:function(e){$w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){$w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),kS=new tx(2e3,1e4);function bS(e,t,n){return wS.apply(this,arguments)}function wS(){return wS=Zn(tr().mark((function e(t,n,r){var i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a_(t),Ww(t,n,H_),a=hS(i,r),o=new IS(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}function xS(){return xS=Zn(tr().mark((function e(t,n,r){var i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ww((i=Kr(t)).auth,n,H_),a=hS(i.auth,r),o=new IS(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),xS.apply(this,arguments)}function _S(e,t,n){return ES.apply(this,arguments)}function ES(){return ES=Zn(tr().mark((function e(t,n,r){var i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ww((i=Kr(t)).auth,n,H_),a=hS(i.auth,r),o=new IS(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),ES.apply(this,arguments)}var IS=function(e){sr(n,e);var t=dr(n);function n(e,r,i,a,o){var u;return nr(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=or(u),u}return ir(n,[{key:"executeNotNull",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Gw(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zn(tr().mark((function e(){var t,n=this;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $w(1===this.filter.length,"Popup operations only handle one event"),t=gI(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(zw(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(zw(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(zw(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,kS.get())}()}}]),n}(gS);IS.currentPopupAction=null;var SS=new Map,TS=function(e){sr(n,e);var t=dr(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return nr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return ir(n,[{key:"execute",value:function(){var e=Zn(tr().mark((function e(){var t,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=SS.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,CS(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,ra(cr(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:SS.set(this.auth._key(),t);case 21:return this.bypassAuthState||SS.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Zn(tr().mark((function e(t){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",ra(cr(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",ra(cr(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(gS);function CS(e,t){return AS.apply(this,arguments)}function AS(){return AS=Zn(tr().mark((function e(t,n){var r,i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=RS(n),i=PS(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),AS.apply(this,arguments)}function NS(e,t){return OS.apply(this,arguments)}function OS(){return OS=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",PS(t)._set(RS(n),"true"));case 1:case"end":return e.stop()}}),e)}))),OS.apply(this,arguments)}function PS(e){return Jw(e._redirectPersistence)}function RS(e){return zx("pendingRedirect",e.config.apiKey,e.name)}function DS(e,t,n){return function(e,t,n){return LS.apply(this,arguments)}(e,t,n)}function LS(){return LS=Zn(tr().mark((function e(t,n,r){var i,a;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=a_(t),Ww(t,n,H_),a=hS(i,r),e.next=5,NS(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),LS.apply(this,arguments)}function MS(e,t,n){return function(e,t,n){return FS.apply(this,arguments)}(e,t,n)}function FS(){return FS=Zn(tr().mark((function e(t,n,r){var i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ww((i=Kr(t)).auth,n,H_),a=hS(i.auth,r),e.next=5,NS(a,i.auth);case 5:return e.next=7,KS(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),FS.apply(this,arguments)}function US(e,t,n){return function(e,t,n){return jS.apply(this,arguments)}(e,t,n)}function jS(){return jS=Zn(tr().mark((function e(t,n,r){var i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ww((i=Kr(t)).auth,n,H_),a=hS(i.auth,r),e.next=5,dE(!1,i,n.providerId);case 5:return e.next=7,NS(a,i.auth);case 7:return e.next=9,KS(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),jS.apply(this,arguments)}function VS(e,t){return qS.apply(this,arguments)}function qS(){return qS=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a_(t)._initializationPromise;case 2:return e.abrupt("return",BS(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),qS.apply(this,arguments)}function BS(e,t){return zS.apply(this,arguments)}function zS(){return zS=Zn(tr().mark((function e(t,n){var r,i,a,o,u,s=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=a_(t),a=hS(i,n),o=new TS(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),zS.apply(this,arguments)}function KS(e){return WS.apply(this,arguments)}function WS(){return(WS=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gI("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var HS=function(){function e(t){nr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return ir(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QS(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!QS(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(zw(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(GS(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(GS(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function GS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function QS(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function $S(e){return YS.apply(this,arguments)}function YS(){return YS=Zn(tr().mark((function e(t){var n,r=arguments;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ux(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),YS.apply(this,arguments)}var JS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XS=/^https?/;function ZS(){return ZS=Zn(tr().mark((function e(t){var n,r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$S(t);case 4:n=e.sent,r=n.authorizedDomains,i=ar(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!eT(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Bw(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),ZS.apply(this,arguments)}function eT(e){var t=Xw(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!XS.test(r))return!1;if(JS.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var tT=new tx(3e4,6e4);function nT(){var e=bI().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=me(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var rT=null;function iT(e){return rT=rT||function(e){return new Promise((function(t,n){var r,i,a;function o(){nT(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){nT(),n(zw(e,"network-request-failed"))},timeout:tT.get()})}if(null===(i=null===(r=bI().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=bI().gapi)||void 0===a?void 0:a.load)){var u=zI("iframefcb");return bI()[u]=function(){gapi.load?o():n(zw(e,"network-request-failed"))},BI("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw rT=null,e}))}(e),rT}var aT=new tx(5e3,15e3),oT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uT=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sT(e){var t=e.config;Gw(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?nx(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:_i},i=uT.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ur(r).slice(1))}function cT(e){return lT.apply(this,arguments)}function lT(){return lT=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iT(t);case 2:return n=e.sent,Gw(r=bI().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:sT(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oT,dontclear:!0},(function(e){return new Promise(function(){var n=Zn(tr().mark((function n(r,i){var a,o,u;return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){bI().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=zw(t,"network-request-failed"),o=bI().setTimeout((function(){i(a)}),aT.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}var fT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hT="_blank",dT="http://localhost",pT=function(){function e(t){nr(this,e),this.window=t,this.associatedEvent=null}return ir(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vT(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},fT),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Er().toLowerCase();n&&(u=Qx(c)?hT:n),Hx(c)&&(t=t||dT,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Ae(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(e_(c)&&"_self"!==u)return yT(t||"",u),new pT(null);var f=window.open(t||"",u,l);Gw(f,e,"popup-blocked");try{f.focus()}catch(h){}return new pT(f)}function yT(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var mT="__/auth/handler",gT="emulator/auth/handler";function kT(e,t,n,r,i,a){Gw(e.config.authDomain,e,"auth-domain-config-required"),Gw(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:_i,eventId:i};if(t instanceof H_){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Ae(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof G_){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var y=v[p];void 0===d[y]&&delete d[y]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(mT);return nx(t,gT)}(e),"?").concat(Ur(d).slice(1))}var bT="webStorageSupport",wT=function(){function e(){nr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vI,this._completeRedirectFn=BS}return ir(e,[{key:"_openPopup",value:function(){var e=Zn(tr().mark((function e(t,n,r,i){var a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return $w(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=kT(t,n,r,Xw(),i),e.abrupt("return",vT(t,o,gI()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zn(tr().mark((function e(t,n,r,i){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=kT(t,n,r,Xw(),i),bI().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):($w(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cT(t);case 2:return n=e.sent,r=new HS(t),n.register("authEvent",(function(e){return Gw(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(bT,{type:bT},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Bw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return ZS.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return n_()||Gx()||Zx()}}]),e}(),xT=wT,_T=function(){function e(t){nr(this,e),this.factorId=t}return ir(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Qw("unexpected MultiFactorSessionType")}}}]),e}(),ET=function(e){sr(n,e);var t=dr(n);function n(e){var r;return nr(this,n),(r=t.call(this,"phone")).credential=e,r}return ir(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ux(e,"POST","/v2/accounts/mfaEnrollment:finalize",ox(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ux(e,"POST","/v2/accounts/mfaSignIn:finalize",ox(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(_T),IT=function(){function e(){nr(this,e)}return ir(e,null,[{key:"assertion",value:function(e){return ET._fromCredential(e)}}]),e}();IT.FACTOR_ID="phone";var ST,TT="@firebase/auth",CT="0.19.9",AT=function(){function e(t){nr(this,e),this.auth=t,this.internalListeners=new Map}return ir(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Gw(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function NT(){return window}ST="Browser",yi(new Wr("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=r.options,a=i.apiKey,o=i.authDomain;return function(e){Gw(a&&!a.includes(":"),"invalid-api-key",{appName:e.name}),Gw(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:a,authDomain:o,clientPlatform:ST,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:r_(ST)},r=new i_(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Jw);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),yi(new Wr("auth-internal",(function(e){return function(e){return new AT(e)}(a_(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ai(TT,CT,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ST)),Ai(TT,CT,"esm2017");function OT(e,t,n){return PT.apply(this,arguments)}function PT(){return PT=Zn(tr().mark((function e(t,n,r){var i,a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=NT(),o=a.BuildInfo,$w(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,UT(n.sessionId);case 4:return u=e.sent,s={},Zx()?s.ibi=o.packageName:Yx()?s.apn=o.packageName:Bw(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",kT(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),PT.apply(this,arguments)}function RT(){return RT=Zn(tr().mark((function e(t){var n,r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=NT(),r=n.BuildInfo,i={},Zx()?i.iosBundleId=r.packageName:Yx()?i.androidPackageName=r.packageName:Bw(t,"operation-not-supported-in-this-environment"),e.next=5,$S(t,i);case 5:case"end":return e.stop()}}),e)}))),RT.apply(this,arguments)}function DT(e){var t=NT().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function LT(e,t,n){return MT.apply(this,arguments)}function MT(){return MT=Zn(tr().mark((function e(t,n,r){var i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=NT(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(zw(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Yx()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),MT.apply(this,arguments)}function FT(e){var t,n,r,i,a,o,u,s,c,l,f=NT();Gw("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Gw("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Gw("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gw("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Gw("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function UT(e){return jT.apply(this,arguments)}function jT(){return(jT=Zn(tr().mark((function e(t){var n,r,i;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=VT(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function VT(e){if($w(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var qT=function(e){sr(n,e);var t=dr(n);function n(){var e;return nr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return ir(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),ra(cr(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(HS);function BT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:GT(),postBody:null,tenantId:e.tenantId,error:zw(e,"no-auth-event")}}function zT(e,t){return QT()._set($T(e),t)}function KT(e){return WT.apply(this,arguments)}function WT(){return WT=Zn(tr().mark((function e(t){var n;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,QT()._get($T(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,QT()._remove($T(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),WT.apply(this,arguments)}function HT(e,t){var n,r,i=function(e){var t=YT(e),n=t.link?decodeURIComponent(t.link):void 0,r=YT(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return YT(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=YT(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?zw(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function GT(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function QT(){return Jw(dI)}function $T(e){return zx("authEvent",e.config.apiKey,e.name)}function YT(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Te(t=n)||ve(t)||ye(t)||Ce();r[0];return jr(r.slice(1).join("?"))}var JT=function(){function e(){nr(this,e),this._redirectPersistence=vI,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=BS}return ir(e,[{key:"_initialize",value:function(){var e=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new qT(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Bw(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Zn(tr().mark((function e(t,n,r,i){var a,o,u,s;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return FT(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),SS.clear(),e.next=10,this._originValidation(t);case 10:return o=BT(t,r,i),e.next=13,zT(t,o);case 13:return e.next=15,OT(t,o,n);case 15:return u=e.sent,e.next=18,DT(u);case 18:return s=e.sent,e.abrupt("return",LT(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return RT.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=NT(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Zn(tr().mark((function n(){return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,KT(e);case 2:t.onEvent(ZT());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Zn(tr().mark((function n(r){var i,a;return tr().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,KT(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=HT(i,r.url)),t.onEvent(a||ZT());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");NT().handleOpenURL=function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),XT=JT;function ZT(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zw("no-auth-event")}}function eC(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function tC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return!("file:"!==eC()&&"ionic:"!==eC()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function nC(){return Ar()&&11===(null===document||void 0===document?void 0:document.documentMode)}function rC(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return/Edge\/\d+/.test(e)}function iC(){try{var e=self.localStorage,t=gI();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Er();return nC()||rC(e)}()||Nr()}catch(n){return aC()&&Nr()}return!1}function aC(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function oC(){return("http:"===eC()||"https:"===eC()||Tr()||tC())&&!(Cr()||Sr())&&iC()&&!aC()}function uC(){return tC()&&"undefined"!==typeof document}function sC(){return cC.apply(this,arguments)}function cC(){return(cC=Zn(tr().mark((function e(){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(uC()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lC={LOCAL:"local",NONE:"none",SESSION:"session"},fC=Gw,hC="persistence";function dC(e,t){fC(Object.values(lC).includes(t),e,"invalid-persistence-type"),Cr()?fC(t!==lC.SESSION,e,"unsupported-persistence-type"):Sr()?fC(t===lC.NONE,e,"unsupported-persistence-type"):aC()?fC(t===lC.NONE||t===lC.LOCAL&&Nr(),e,"unsupported-persistence-type"):fC(t===lC.NONE||iC(),e,"unsupported-persistence-type")}function pC(e){return vC.apply(this,arguments)}function vC(){return vC=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=yC(),r=zx(hC,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),vC.apply(this,arguments)}function yC(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var mC=Gw,gC=function(){function e(){nr(this,e),this.browserResolver=Jw(xT),this.cordovaResolver=Jw(XT),this.underlyingResolver=null,this._redirectPersistence=vI,this._completeRedirectFn=BS}return ir(e,[{key:"_initialize",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Zn(tr().mark((function e(t,n,r,i){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Zn(tr().mark((function e(t,n,r,i){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return uC()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return mC(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,sC();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function kC(e){return e.unwrap()}function bC(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new IC(e,function(e,t){var n,r=Kr(e),i=t;return Gw(t.customData.operationType,r,"argument-error"),Gw(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),aI._fromError(r,i)}(e,t));else if(r){var i=wC(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function wC(e){var t=(e instanceof Or?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Or)&&"temporaryProof"in t&&"phoneNumber"in t)return fS.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Cw)return null;switch(r){case Tw:n=Y_;break;case Iw:n=$_;break;case Sw:n=J_;break;case Aw:n=eE;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?X_._create(r,u):M_._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Q_(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Or?n.credentialFromError(e):n.credentialFromResult(e)}function xC(e,t){return t.catch((function(t){throw t instanceof Or&&bC(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,wC(t)),additionalUserInfo:rI(e),user:SC.getOrCreate(r)}}))}function _C(e,t){return EC.apply(this,arguments)}function EC(){return EC=Zn(tr().mark((function e(t,n){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return xC(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),EC.apply(this,arguments)}var IC=function(){function e(t,n){nr(this,e),this.resolver=n,this.auth=t.wrapped()}return ir(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return xC(kC(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),SC=function(){function e(t){nr(this,e),this._delegate=t,this.multiFactor=function(e){var t=Kr(e);return cI.has(t)||cI.set(t,sI._fromUser(t)),cI.get(t)}(t)}return ir(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xC(this.auth,wE(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_C(this.auth,aS(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xC(this.auth,_S(this._delegate,t,gC)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pC(a_(this.auth));case 2:return e.abrupt("return",US(this._delegate,t,gC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xC(this.auth,_E(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return _C(this.auth,function(e,t,n){return uS.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return xC(this.auth,function(e,t,n){return xS.apply(this,arguments)}(this._delegate,e,gC))}},{key:"reauthenticateWithRedirect",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pC(a_(this.auth));case 2:return e.abrupt("return",MS(this._delegate,t,gC));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return KE.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cE(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return $E(Kr(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return $E(Kr(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return lS.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return QE.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return WE.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();SC.USER_MAP=new WeakMap;var TC=Gw,CC=function(){function e(t,n){if(nr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;TC(r,"invalid-api-key",{appName:t.name}),TC(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?gC:void 0;this._delegate=n.initialize({options:{persistence:NC(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Fw),this.linkUnderlyingAuth()}return ir(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?SC.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){u_(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return RE.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return DE(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return PE.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Zn(tr().mark((function e(t,n){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xC(this._delegate,FE(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return zE.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=K_.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Zn(tr().mark((function e(){var t;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TC(oC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,VS(this._delegate,gC);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",xC(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){a_(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=AC(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=AC(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return jE.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return OE.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Zn(tr().mark((function e(t){var n,r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:dC(this._delegate,t),e.t0=t,e.next=e.t0===lC.SESSION?4:e.t0===lC.LOCAL?6:e.t0===lC.NONE?11:13;break;case 4:return n=vI,e.abrupt("break",14);case 6:return e.next=8,Jw(UI)._isAvailable();case 8:return r=e.sent,n=r?UI:dI,e.abrupt("break",14);case 11:return n=Bx,e.abrupt("break",14);case 13:return e.abrupt("return",Bw("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return xC(this._delegate,function(e){return aE.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return xC(this._delegate,kE(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return xC(this._delegate,function(e,t){return TE.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return xC(this._delegate,function(e,t,n){return kE(Kr(e),W_.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return xC(this._delegate,function(e,t,n){return VE.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return _C(this._delegate,function(e,t,n){return iS.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TC(oC(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",xC(this._delegate,bS(this._delegate,t,gC)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return TC(oC(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,pC(this._delegate);case 3:return e.abrupt("return",DS(this._delegate,t,gC));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return ME.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function AC(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&SC.getOrCreate(e))},error:t,complete:n}}function NC(e,t){var n=function(e,t){var n=yC();if(!n)return[];var r=zx(hC,e,t);switch(n.getItem(r)){case lC.NONE:return[Bx];case lC.LOCAL:return[UI,vI];case lC.SESSION:return[vI];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(UI)||n.push(UI),"undefined"!==typeof window)for(var r=0,i=[dI,vI];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Bx)||n.push(Bx),n}CC.Persistence=lC;var OC=function(){function e(){nr(this,e),this.providerId="phone",this._delegate=new fS(kC(ta.auth()))}return ir(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return fS.credential(e,t)}}]),e}();OC.PHONE_SIGN_IN_METHOD=fS.PHONE_SIGN_IN_METHOD,OC.PROVIDER_ID=fS.PROVIDER_ID;var PC=Gw,RC=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ta.app();nr(this,e),PC(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new tS(t,n,i.auth()),this.type=this._delegate.type}return ir(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();!function(e){e.INTERNAL.registerComponent(new Wr("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new CC(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Nw,PASSWORD_RESET:Ow,RECOVER_EMAIL:Pw,REVERT_SECOND_FACTOR_ADDITION:Rw,VERIFY_AND_CHANGE_EMAIL:Dw,VERIFY_EMAIL:Lw}},EmailAuthProvider:W_,FacebookAuthProvider:$_,GithubAuthProvider:J_,GoogleAuthProvider:Y_,OAuthProvider:Q_,SAMLAuthProvider:Z_,PhoneAuthProvider:OC,PhoneMultiFactorGenerator:IT,RecaptchaVerifier:RC,TwitterAuthProvider:eE,Auth:CC,AuthCredential:l_,Error:Or}).setInstantiationMode("LAZY").setMultipleInstances(!1)),e.registerVersion("@firebase/auth-compat","0.2.9")}(ta);ta.initializeApp({apiKey:"AIzaSyAfO-90vX2nLY-C3MraISn_MKe0ldujmnM",authDomain:"botanica-shop.firebaseapp.com",projectId:"botanica-shop",storageBucket:"botanica-shop.appspot.com",messagingSenderId:"922059721226",appId:"1:922059721226:web:4079752238e7f5ce2b2df3",measurementId:"G-BXVNXEV4W0"});var DC=ta.auth(),LC=ta.firestore(),MC=function(){var e=Zn(tr().mark((function e(t,n){var r,i,a,o;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return r=LC.doc("users/".concat(t.uid)),e.next=5,r.get();case 5:if(e.sent.exists){e.next=17;break}return i=t.displayName,a=t.email,o=new Date,e.prev=9,e.next=12,r.set(te({displayName:i,email:a,createdAt:o},n));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(9),console.log("error cteacting user",e.t0.message);case 17:return e.abrupt("return",r);case 18:case"end":return e.stop()}}),e,null,[[9,14]])})));return function(t,n){return e.apply(this,arguments)}}(),FC=new ta.auth.GoogleAuthProvider;FC.setCustomParameters({prompt:"select_account"});var UC=function(){return DC.signInWithPopup(FC)};function jC(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var VC,qC,BC,zC,KC,WC,HC,GC=n(484),QC=n.n(GC),$C=QC()("mode",{light:"#fafafa",dark:"#528e86"}),YC=QC()("mode",{light:"#528e86",dark:"#fafafa"}),JC=QC()("mode",{light:"#ebf5f4",dark:"#477d76"}),XC=(QC()("mode",{light:"#eee",dark:"#222"}),un.div(VC||(VC=jC(["\n  min-height: 100vh;\n  background: ",";\n"])),$C)),ZC=un.main(qC||(qC=jC(["\n  padding: 8px;\n\n  @media (min-width: 800px) {\n    padding-right: 30px;\n  }\n"]))),eA=un.button(BC||(BC=jC(["\n  padding: 8px 16px;\n  border: 1px solid ",";\n  border-radius: 12px;\n  background: ",";\n\n  &:hover {\n    cursor: pointer;\n  }\n"])),YC,JC),tA=un.div(zC||(zC=jC(["\n  display: inline-block;\n"]))),nA=un.img(KC||(KC=jC(["\n  width: 100%;\n  border-radius: 25px;\n"]))),rA=un.footer(WC||(WC=jC(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 8px 0;\n"]))),iA=un.p(HC||(HC=jC(["\n  font-size: 1.4rem;\n  font-weight: bold;\n  user-select: none;\n  letter-spacing: 1px;\n\n  &:first-letter {\n    letter-spacing: 3px;\n  }\n"])));var aA,oA,uA=function(e){var t=e.plant,n=Q(),r=t.img,i=t.title,a=t.price.toFixed(2);return(0,sn.jsxs)(tA,{children:[(0,sn.jsx)(nA,{src:r,alt:i}),(0,sn.jsx)("p",{children:i}),(0,sn.jsxs)(rA,{children:[(0,sn.jsx)(iA,{children:a}),(0,sn.jsx)(eA,{onClick:function(){return n({type:de.ADD_ITEM,payload:t})},children:"\u0412 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})},sA=un.main(aA||(aA=jC(["\n  text-align: left;\n"]))),cA=un.section(oA||(oA=jC(["\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n  gap: 12px;\n  padding: 12px 0;\n"])));var lA,fA,hA,dA,pA,vA=function(){var e=X((function(e){return e.catalog}));return(0,sn.jsxs)(sA,{children:[(0,sn.jsx)("h3",{children:"Catalog"}),(0,sn.jsx)(cA,{children:e.map((function(e){return(0,sn.jsx)(uA,{plant:e},e.id)}))})]})},yA=un.header(lA||(lA=jC(["\n  display: grid;\n  grid-template-columns: 1fr auto auto auto;\n  align-items: center;\n  grid-column-gap: 16px;\n  padding: 8px;\n  background-color: ",";\n\n  @media (min-width: 800px) {\n    padding-right: 30px;\n  }\n\n  /* TODO: \u043f\u0435\u0440\u0435\u0434\u0435\u043b\u0430\u0442\u044c \u043d\u0430 \u043d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u043c\u0435\u043d\u044e */\n  @media (max-width: 500px) {\n    display: grid;\n    grid-template-columns: 1fr auto;\n  }\n"])),JC),mA=un.nav(fA||(fA=jC(["\n  display: flex;\n"]))),gA=un(Jn)(hA||(hA=jC(["\n  margin-right: 12px;\n  text-transform: uppercase;\n  cursor: pointer;\n\n  &:last-child {\n    margin-right: 0;\n  }\n"]))),kA=un.button(dA||(dA=jC(["\n  background: transparent;\n  border: none;\n  border-radius: 0.3em;\n  box-shadow: none;\n  cursor: pointer;\n  font-size: 1em;\n"]))),bA=["title","titleId"];function wA(){return wA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wA.apply(this,arguments)}function xA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _A(e,n){var r=e.title,i=e.titleId,a=xA(e,bA);return t.createElement("svg",wA({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,viewBox:"0 0 24 24",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,pA||(pA=t.createElement("path",{fill:"#d5eddc",d:"M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"})))}var EA,IA=t.forwardRef(_A),SA=(n.p,["title","titleId"]);function TA(){return TA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},TA.apply(this,arguments)}function CA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AA(e,n){var r=e.title,i=e.titleId,a=CA(e,SA);return t.createElement("svg",TA({xmlns:"http://www.w3.org/2000/svg",width:30,height:30,viewBox:"0 0 24 24",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,EA||(EA=t.createElement("g",{fill:"none",fillRule:"evenodd",stroke:"#3d9690",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,transform:"translate(1 1)"},t.createElement("circle",{cx:11,cy:11,r:5}),t.createElement("path",{d:"M11 0v2M11 20v2M3.22 3.22l1.42 1.42M17.36 17.36l1.42 1.42M0 11h2M20 11h2M3.22 18.78l1.42-1.42M17.36 4.64l1.42-1.42"}))))}var NA,OA,PA,RA,DA,LA,MA,FA,UA,jA,VA,qA,BA,zA,KA,WA=t.forwardRef(AA),HA=(n.p,["title","titleId"]);function GA(){return GA=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GA.apply(this,arguments)}function QA(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $A(e,n){var r=e.title,i=e.titleId,a=QA(e,HA);return t.createElement("svg",GA({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 407.453 407.453",style:{enableBackground:"new 0 0 407.453 407.453"},xmlSpace:"preserve",ref:n,"aria-labelledby":i},a),r?t.createElement("title",{id:i},r):null,t.createElement("g",null,t.createElement("path",{style:{fill:"currentColor"},d:"M255.099,116.515c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H143.486 c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129H255.099z"}),t.createElement("path",{style:{fill:"currentColor"},d:"M367.062,100.258H311.69c-4.487,0-8.129,3.633-8.129,8.129c0,4.495,3.642,8.129,8.129,8.129h47.243 v274.681H48.519V116.515h44.536c4.487,0,8.129-3.633,8.129-8.129c0-4.495-3.642-8.129-8.129-8.129H40.391 c-4.487,0-8.129,3.633-8.129,8.129v290.938c0,4.495,3.642,8.129,8.129,8.129h326.671c4.487,0,8.129-3.633,8.129-8.129V108.386 C375.191,103.891,371.557,100.258,367.062,100.258z"}),t.createElement("path",{style:{fill:"currentColor"},d:"M282.59,134.796c4.487,0,8.129-3.633,8.129-8.129V67.394C290.718,30.238,250.604,0,201.101,0 c-49.308,0-89.414,30.238-89.414,67.394v59.274c0,4.495,3.642,8.129,8.129,8.129s8.129-3.633,8.129-8.129V67.394 c0-28.198,32.823-51.137,73.36-51.137c40.334,0,73.157,22.939,73.157,51.137v59.274 C274.461,131.163,278.095,134.796,282.59,134.796z"}),t.createElement("path",{style:{fill:"currentColor"},d:"M98.892,147.566c0,11.526,9.389,20.907,20.923,20.907c11.534,0,20.923-9.38,20.923-20.907 c0-4.495-3.642-8.129-8.129-8.129s-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.569,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129S98.892,143.071,98.892,147.566z"}),t.createElement("path",{style:{fill:"currentColor"},d:"M282.59,168.473c11.534,0,20.923-9.38,20.923-20.907c0-4.495-3.642-8.129-8.129-8.129 c-4.487,0-8.129,3.633-8.129,8.129c0,2.561-2.089,4.65-4.666,4.65c-2.577,0-4.666-2.089-4.666-4.65 c0-4.495-3.642-8.129-8.129-8.129c-4.487,0-8.129,3.633-8.129,8.129C261.667,159.092,271.055,168.473,282.59,168.473z"})),NA||(NA=t.createElement("g",null)),OA||(OA=t.createElement("g",null)),PA||(PA=t.createElement("g",null)),RA||(RA=t.createElement("g",null)),DA||(DA=t.createElement("g",null)),LA||(LA=t.createElement("g",null)),MA||(MA=t.createElement("g",null)),FA||(FA=t.createElement("g",null)),UA||(UA=t.createElement("g",null)),jA||(jA=t.createElement("g",null)),VA||(VA=t.createElement("g",null)),qA||(qA=t.createElement("g",null)),BA||(BA=t.createElement("g",null)),zA||(zA=t.createElement("g",null)),KA||(KA=t.createElement("g",null)))}var YA,JA,XA,ZA=t.forwardRef($A),eN=(n.p,un.div(YA||(YA=jC(["\n  position: relative;\n  bottom: 2px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n"])))),tN=un(ZA)(JA||(JA=jC(["\n  width: 24px;\n  height: 24px;\n  color: ",";\n"])),YC),nN=un.span(XA||(XA=jC(["\n  position: absolute;\n  top: 9px;\n  font-size: 10px;\n  font-weight: bold;\n  bottom: 12px;\n"])));var rN,iN,aN,oN=function(){var e=Q(),t=X((function(e){return e.cart.cartItems})).reduce((function(e,t){return e+t.quantity}),0);return(0,sn.jsxs)(eN,{onClick:function(){return e({type:de.TOGGLE_CART_HIDDEN})},children:[(0,sn.jsx)(tN,{}),(0,sn.jsx)(nN,{children:t})]})},uN=un.div(rN||(rN=jC(["\n  position: absolute;\n  top: 50px;\n  right: 30px;\n  display: flex;\n  flex-direction: column;\n  width: 240px;\n  height: 340px;\n  padding: 10px;\n  border: 1px solid ",";\n  border-radius: 12px;\n  background-color: ",";\n  z-index: 5;\n"])),YC,$C),sN=un.div(iN||(iN=jC(["\n  height: 240px;\n  display: flex;\n  flex-direction: column;\n  overflow: auto;\n"]))),cN=un(eA)(aN||(aN=jC(["\n  margin-top: auto;\n"])));var lN,fN,hN=function(){return(0,sn.jsxs)(uN,{children:[(0,sn.jsx)(sN,{}),(0,sn.jsx)(cN,{children:"\u041e\u0424\u041e\u0420\u041c\u0418\u0422\u042c \u0417\u0410\u041a\u0410\u0417"})]})},dN=function(e){var n=t.forwardRef((function(n,r){var i=(0,t.useContext)(Zt),a=e.defaultProps,o=zt(n,i,a);return t.createElement(e,Fe({},n,{theme:o,ref:r}))}));return p()(n,e),n.displayName="WithTheme("+ze(e)+")",n}(z((function(e){return{currentUser:e.user.currentUser}}))((function(e){var n=e.theme,r=e.currentUser,i=t.useContext(cn),a=X((function(e){return e.cart.hidden}));return(0,sn.jsxs)(yA,{children:[(0,sn.jsx)(gA,{to:"/",children:(0,sn.jsx)("h2",{children:"Botanica"})}),(0,sn.jsx)(oN,{}),(0,sn.jsxs)(mA,{children:[(0,sn.jsx)(gA,{to:"catalog",children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"}),(0,sn.jsx)(gA,{to:"about-us",children:"\u041e \u043d\u0430\u0441"}),r?(0,sn.jsx)(gA,{as:"div",onClick:function(){return DC.signOut()},children:"\u0412\u044b\u0445\u043e\u0434"}):(0,sn.jsx)(gA,{to:"sign-in",children:"\u0412\u0445\u043e\u0434"})]}),(0,sn.jsx)(kA,{onClick:function(){return i.toggle()},children:"dark"===n.mode?(0,sn.jsx)(IA,{}):(0,sn.jsx)(WA,{})}),a&&(0,sn.jsx)(hN,{})]})}))),pN=un.h1(lN||(lN=jC(["\n  padding-top: 70px;\n  font-size: 5rem;\n"]))),vN=un.h3(fN||(fN=jC(["\n  font-size: 2rem;\n"])));var yN,mN=function(){return(0,sn.jsxs)("div",{children:[(0,sn.jsx)(pN,{children:"Botanica"}),(0,sn.jsx)(vN,{children:"\u041a\u043e\u043c\u043d\u0430\u0442\u043d\u044b\u0435 \u0440\u0430\u0441\u0442\u0435\u043d\u0438\u044f \u0432 \u041c\u0438\u043d\u0441\u043a\u0435"}),(0,sn.jsx)("p",{children:"Paragraph"})]})},gN=un.section(yN||(yN=jC([""])));var kN,bN,wN,xN,_N,EN,IN,SN=function(){return(0,sn.jsx)(gN,{children:(0,sn.jsx)("h3",{children:"About"})})},TN=un.div(kN||(kN=jC(["\n  padding: 8px 0;\n"]))),CN=un.form(bN||(bN=jC(["\n  margin: 24px 0 12px;\n  max-width: 350px;\n"]))),AN=un.footer(wN||(wN=jC(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  column-gap: 14px;\n  margin-top: 12px;\n"]))),NN=un.p(xN||(xN=jC(["\n  margin-top: 16px;\n  font-size: 14px;\n"]))),ON=un(Jn)(_N||(_N=jC(["\n  border-bottom: 1px solid #414141;\n  text-transform: uppercase;\n  font-style: italic;\n\n  &:hover {\n    color: grey;\n    border-color: grey;\n  }\n"])));var PN=un.input(EN||(EN=jC(["\n  width: 100%;\n  padding: 10px 0 2px;\n  margin-bottom: 12px;\n  background-color: transparent;\n  border: none;\n  border-bottom: 1px solid #414141;\n  outline: none;\n  font-size: 18px;\n  cursor: pointer;\n"]))),RN=un.label(IN||(IN=jC(["\n  display: inline-block;\n  width: 100%;\n  font-size: 14px;\n  cursor: pointer;\n\n  ",":hover & {\n    color: red;\n  }\n"])),PN),DN=["label","id","handleChange"];var LN=function(e){var t=e.label,n=e.id,r=e.handleChange,i=function(e,t){if(null==e)return{};var n,r,i=h(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,DN);return(0,sn.jsxs)(RN,{htmlFor:n,children:[t,(0,sn.jsx)(PN,te({id:n,onChange:r},i))]})};var MN,FN=function(){var e=Ae((0,t.useState)(""),2),n=e[0],r=e[1],i=Ae((0,t.useState)(""),2),a=i[0],o=i[1],u=function(){var e=Zn(tr().mark((function e(t){return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,DC.signInWithEmailAndPassword(n,a);case 4:r(""),o(""),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("error",e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,sn.jsxs)(TN,{children:[(0,sn.jsx)("h3",{children:"I already have an account"}),(0,sn.jsx)("p",{children:"Sign in with email and password"}),(0,sn.jsxs)(CN,{onSubmit:u,children:[(0,sn.jsx)(LN,{type:"email",name:"email",id:"email",label:"Email",value:n,handleChange:function(e){return r(e.target.value)}}),(0,sn.jsx)(LN,{type:"password",name:"password",id:"password",label:"Password",value:a,handleChange:function(e){return o(e.target.value)}}),(0,sn.jsxs)(AN,{children:[(0,sn.jsx)(eA,{type:"submit",children:"SIGN IN"}),(0,sn.jsx)(eA,{google:!0,onClick:UC,type:"button",children:"SIGN IN WITH GOOGLE"})]})]}),(0,sn.jsxs)(NN,{children:["...or ",(0,sn.jsx)(ON,{to:"/react-todo/sign-up",children:"Sign Up"})," if you do not have an account"]})]})},UN=z((function(e){return{currentUser:e.user.currentUser}}),(function(e){return{setCurrentUser:function(t){return e(function(e){return{type:le,payload:e}}(t))}}}))((function(e){var n=e.setCurrentUser,r=e.currentUser;return(0,t.useEffect)((function(){var e=DC.onAuthStateChanged(function(){var e=Zn(tr().mark((function e(t){var r;return tr().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return e.next=3,MC(t);case 3:return r=e.sent,e.next=6,r.onSnapshot((function(e){n(te({id:e.id},e.data()))}));case 6:e.next=9;break;case 8:n(t);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return function(){e()}}),[]),(0,sn.jsxs)(XC,{children:[(0,sn.jsx)(dN,{}),(0,sn.jsx)(ZC,{children:(0,sn.jsxs)(Sn,{children:[(0,sn.jsx)(En,{path:"/",element:(0,sn.jsx)(mN,{})}),(0,sn.jsx)(En,{path:"catalog",element:(0,sn.jsx)(vA,{})}),(0,sn.jsx)(En,{path:"about-us",element:(0,sn.jsx)(SN,{})}),(0,sn.jsx)(En,{path:"sign-in",element:r?(0,sn.jsx)(xn,{to:"/"}):(0,sn.jsx)(FN,{})}),(0,sn.jsx)(En,{path:"*",element:(0,sn.jsx)(mN,{})})]})})]})})),jN=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Bt.apply(void 0,[e].concat(r)),o="sc-global-"+Gt(JSON.stringify(a)),u=new an(a,o);function s(e){var n=Nt(),r=Ot(),i=(0,t.useContext)(Zt),a=(0,t.useRef)(n.allocateGSInstance(o)).current;return n.server&&c(a,e,n,i,r),(0,t.useLayoutEffect)((function(){if(!n.server)return c(a,e,n,i,r),function(){return u.removeStyles(a,n)}}),[a,e,n,i,r]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,Qe,n,i);else{var a=Fe({},t,{theme:zt(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return t.memo(s)}(MN||(MN=jC(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    color: inherit;\n  }\n\n  html {\n    width:100vw;\n    overflow-x:hidden;\n  }\n\n  html,\n  body,\n  #root {\n    height: 100%;\n    color: ",";\n  }\n  ul, li {\n    list-style-type: none;\n  }\n  a {\n    text-decoration: none;\n  }\n"])),YC),VN=jN;var qN=function(){return(0,sn.jsx)(Yn,{basename:"/botanica-shop",children:(0,sn.jsxs)(ln,{children:[(0,sn.jsx)(VN,{}),(0,sn.jsx)(UN,{})]})})};r.render((0,sn.jsx)(l,{store:Se,children:(0,sn.jsx)(qN,{})}),document.getElementById("root"))}()}();
//# sourceMappingURL=main.284f9397.js.map